








                  HHHHeeeeiiiirrrrlllloooooooommmm DDDDooooccccuuuummmmeeeennnnttttaaaattttiiiioooonnnn TTTToooooooollllssss
                    NNNNrrrrooooffffffff////TTTTrrrrooooffffffff UUUUsssseeeerrrr’ssss MMMMaaaannnnuuuuaaaallll

                        _J_o_s_e_p_h _F. _O_s_s_a_n_n_a
                       _B_r_i_a_n _W. _K_e_r_n_i_g_h_a_n
                          _G_u_n_n_a_r _R_i_t_t_e_r
                           _a_n_d _o_t_h_e_r_s


IIIInnnnttttrrrroooodddduuuuccccttttiiiioooonnnn
_n_r_o_f_f and _t_r_o_f_f are text processors under the  UNIX  Time‐Sharing
System1  that  format  text for typewriter‐like terminals and for
a typesetter/raster devices, respectively.  They accept lines  of
text  interspersed  with  lines of format control information and
format the text into a printable,  paginated  document  having  a
user‐designed  style.   _n_r_o_f_f  and _t_r_o_f_f offer unusual freedom in
document styling, including: arbitrary style headers and footers;
arbitrary  style footnotes; multiple automatic sequence numbering
for paragraphs, sections, etc; multiple  column  output;  dynamic
font  and  point‐size  control; arbitrary horizontal and vertical
local motions at any point; and a family of automatic  overstrik‐
ing, bracket construction, and line drawing functions.
_t_r_o_f_f produces its output in a device‐independent form,  although
parameterized  for  a  specific  device;  _t_r_o_f_f  output  must  be
processed by a driver for that device to produce printed output.
_n_r_o_f_f and _t_r_o_f_f are highly compatible  with  each  other  and  it
is  almost  always  possible to prepare input acceptable to both.
Conditional input is provided that  enables  the  user  to  embed
input  expressly  destined for either program.  _n_r_o_f_f can prepare
output directly for a variety of terminal types and is capable of
utilizing the full resolution of each terminal.
OOOOnnnn tttthhhheeee HHHHeeeeiiiirrrrlllloooooooommmm DDDDooooccccuuuummmmeeeennnnttttaaaattttiiiioooonnnn TTTToooooooollllssss EEEEddddiiiittttiiiioooonnnn
In Summer 2005, Sun Microsystems, Inc. released the  source  code
to  the Solaris system,6 including the System V Release 4 version
of _t_r_o_f_f, a  derivative  of  ATT  _D_o_c_u_m_e_n_t_e_r’_s  _W_o_r_k_b_e_n_c_h  _t_r_o_f_f,
version  2.   It  had  undergone few changes since the end of the
1980s, so it could serve as a clean  starting  point  for  a  new
version  of  _t_r_o_f_f which is intended to be highly compatible with
UNIX _t_r_o_f_f, but which also provides additional features desirable
for  a  high‐quality  typesetting application at the beginning of
the 21st century.
As with the other components of the _H_e_i_r_l_o_o_m _P_r_o_j_e_c_t, the  origi‐
nal code, once it had been released under an Open Source license,
has been made portable such that it  compiles  and  runs  on  the
contemporary  UNIX‐style  systems, including Linux.  It continues
to be freely available  under  the  same  license  as  originally
released, including its complete source code.
PostScript and its close relative PDF are  now  the  only  device
languages  which are relevant to high‐quality printing; actually,
PostScript itself is  more  and  more  becoming  an  intermediate
language  for  the  generation  of  PDF  documents.  The _H_e_i_r_l_o_o_m


                                        ‐ 1 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          version of _t_r_o_f_f is thus primarily  directed  towards  generating
          PostScript  output  for further processing by a PDF creator, such
          as Ghostscript or Adobe Distiller; it can  generate  PDF‐specific
          instructions  for prepress usage as well as for online navigation
          in PDF documents.
          The principal output device independence of _t_r_o_f_f  has  neverthe‐
          less been retained, and changes to the intermediate language have
          been minor.  Many _t_r_o_f_f post‐processors will thus continue to  be
          usable with no or little adaptions.
          PostScript Type 1, OpenType, and  TrueType  have  become  device‐
          independent font formats; virtually all commercial and free fonts
          are available in one of them.   There  is  thus  no  need  for  a
          _t_r_o_f_f‐specific  device‐independent  font format anymore; instead,
          _H_e_i_r_l_o_o_m _t_r_o_f_f can  read  font  metrics  directly  from  Type  1,
          OpenType,  and  TrueType  font  files.  This has greatly relieved
          the task of installing fonts—it suffices  to  copy  the  original
          files to a user‐selectable font directory—, and makes it possible
          to access advanced typographic data, such as  kerning  tables  or
          substitution instructions for old‐style numerals.
          _t_r_o_f_f provides convenient access  to  any  character  in  a  font
          file  either  by  its PostScript name, by its Unicode position as
          specified in a font‐specific or a generic table, or by conversion
          from POSIX‐style locale‐specific characters to Unicode positions.
          The last form allows direct input of international language texts
          in almost any character encoding, including UTF‐8.
          Improvements to the line adjusting mechanism can be activated  to
          achieve  more  aesthetically  pleasant output:  _t_r_o_f_f can compute
          line breaks for a whole paragraph at once,  using  a  variant  of
          an  algorithm  originally  developed  by Donald Knuth and Michael
          Plass for the  TEX  system.7   Interword  spaces  can  be  shrunk
          as  an  alternative  to  being expanded.  Inter‐letter spaces and
          letter shapes can be dynamically varied both for computing  break
          points  and  for adjusting output lines; this is sometimes called
          ‘‘micro‐typography’’, cf. e.g. the thesis by Hàn The´^ Thành.8  All
          paragraph formatting options can be arbitrarily combined.
          A variety of international paper  formats  and  hyphenation  lan‐
          guages  are  supported by _t_r_o_f_f.  The algorithm for the latter is
          derived from the respective one developed  for  TEX  by  Franklin
          Liang;9  _t_r_o_f_f  uses the implementation of _L_i_b_H_n_j by Raph Levien.
          TEX hyphenation patterns can be converted to the format  accepted
          by _t_r_o_f_f.
          Many internal  limitations  of  _t_r_o_f_f  have  been  removed;  most
          notably, _t_r_o_f_f can now set characters in fractional point sizes.
          The _t_r_o_f_f language has been extended  similarly  as  in  the  GNU
          version  of  _t_r_o_f_f,  _g_r_o_f_f;10  for  example,  names  of requests,
          macros, strings, number registers, and fonts can consist of  more
          than  two  characters.  Although _H_e_i_r_l_o_o_m _t_r_o_f_f is not completely
          compatible with _g_r_o_f_f, a special compatibility mode is  provided,
          and documents prepared for _g_r_o_f_f can usually be processed without
          alteration.
          As even the most  basic  printing  devices  are  now  capable  of
          rastering PostScript documents (at least using conversion tools),
          and as PostScript and PDF viewer programs allow an  accurate  on‐
          screen  display  of _t_r_o_f_f documents, there is only one area where


                                        ‐ 2 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _n_r_o_f_f is still useful: the formatting of UNIX manual pages.   The
          _H_e_i_r_l_o_o_m  version  of  _n_r_o_f_f  is  thus specifically aimed at this
          task; it remains a separate program, is much smaller than  _t_r_o_f_f,
          and is optionally able to run without external device description
          files.  This makes it possible to use it  to  view  manual  pages
          even  on small system distributions where the size of programs is
          an issue.
          The Solaris version of _n_r_o_f_f had already been updated to  support
          input characters in arbitrary locales.  The _H_e_i_r_l_o_o_m version adds
          the ability to generate UTF‐8 output.   This  extends  the  _n_r_o_f_f
          character  set  by many mathematical and typographical characters
          on terminals capable of displaying them.
          Although _H_e_i_r_l_o_o_m _n_r_o_f_f does of course not provide the typograph‐
          ical  extensions  made  for  _t_r_o_f_f, it includes the same language
          extensions.  It is thus well able to  cope  with  the  tangle  of
          manual  page  code which has been produced by application writers
          who have unfortunately become  increasingly  unaware  of  how  to
          write well‐styled _n_r_o_f_f documents.
          This manual as well  as  some  of  the  pre‐  and  post‐processor
          commands  have been derived from UNIX code released by Caldera,11
          and from materials released by Lucent as  parts  of  the  Plan  9
          system.12
          BBBBaaaacccckkkkggggrrrroooouuuunnnndddd ttttoooo tttthhhheeee SSSSeeeeccccoooonnnndddd EEEEddddiiiittttiiiioooonnnn
          _t_r_o_f_f was originally written by the late  Joe  Ossanna  in  about
          1973,  in  assembly language for the PDP‐11, to drive the Graphic
          Systems CAT typesetter.  It was rewritten in C around  1975,  and
          underwent slow but steady evolution until Ossanna’s death late in
          1977.
          In 1979, Brian Kernighan modified _t_r_o_f_f so that it would  produce
          output  for  a  variety of typesetters, while retaining its input
          specifications.  Over the decade from 1979 to 1989, the internals
          have been modestly revised, though much of the code remains as it
          was when Ossanna wrote it.
          _t_r_o_f_f reads parameter files each  time  it  is  invoked,  to  set
          values  for  machine  resolution, legal type sizes and fonts, and
          character names, character widths and  the  like.   _t_r_o_f_f  output
          is  ASCII  characters  in  a simple language that describes where
          each character is to be placed and in  what  size  and  font.   A
          post‐processor  must  be  written for each device to convert this
          typesetter‐independent language into  specific  instructions  for
          that device.
          The output language contains information  that  was  not  readily
          identifiable  in  the  older  output.  In the newer language, the
          beginning of each page,  line,  and  word  is  marked,  so  post‐
          processors  can  do device‐specific optimizations such as sorting
          the data vertically or printing it boustrophedonically,  indepen‐
          dent of _t_r_o_f_f.
          Capabilities for graphics  have  been  added:   _t_r_o_f_f  recognizes
          commands  for drawing diagonal lines, circles, ellipses, circular
          arcs, and quadratic B‐splines.   There  are  also  ways  to  pass
          arbitrary information to the output, unprocessed by _t_r_o_f_f.
          A number  of  limitations  have  been  eased  or  eliminated.   A
          document  may  have  an arbitrary number of fonts on any page (if
          the output device permits it, of course).  Fonts may be  accessed


                                        ‐ 3 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          merely  by  naming  them;  ‘‘mounting’’  is  no longer necessary.
          There are no limits  on  the  number  of  characters.   Character
          height and slant may be set independently of width.
          The  remainder  of  this  document  contains  a  description   of
          usage  and  command‐line  options;  a summary of requests, escape
          sequences, and pre‐defined number registers; a reference  manual;
          tutorial examples; and a list of commonly‐available characters.
          AAAAcccckkkknnnnoooowwwwlllleeeeddddggggeeeemmmmeeeennnnttttssss ((((ffffoooorrrr tttthhhheeee SSSSeeeeccccoooonnnndddd EEEEddddiiiittttiiiioooonnnn,,,, bbbbyyyy BBBBrrrriiiiaaaannnn KKKKeeeerrrrnnnniiiigggghhhhaaaannnn))))
          Joe Ossanna’s _t_r_o_f_f remains  a  remarkable  accomplishment.   For
          more than twenty years, it has proven a robust tool, taking unbe‐
          lievable abuse from a variety of preprocessors and  being  forced
          into  uses  that  were never conceived of in the original design,
          all with considerable grace under fire.
          Recent versions of _t_r_o_f_f  have  profited  from  significant  code
          improvements by Jaap Akkerhuis, Dennis Ritchie, Ken Thompson, and
          Molly Wagner.  Andrew Hume, Doug McIlroy, Peter Nelson, and  Ravi
          Sethi  made  valuable suggestions on the manual.  I fear that the
          remaining bugs are my fault.
          AAAAcccckkkknnnnoooowwwwlllleeeeddddggggeeeemmmmeeeennnnttttssss ((((ffffoooorrrr tttthhhheeee HHHHeeeeiiiirrrrlllloooooooommmm EEEEddddiiiittttiiiioooonnnn,,,, bbbbyyyy GGGGuuuunnnnnnnnaaaarrrr RRRRiiiitttttttteeeerrrr))))
          The  _t_r_o_f_f  program  as  written  by  Joseph  Ossanna  and  Brian
          Kernighan  turned  out  to be an excellent base for a typesetting
          system containing approximately twice as many lines of code.   As
          with  the  second  edition, the design and the principal parts of
          _t_r_o_f_f have remained the same, despite of additions and  modifica‐
          tions.   This  is particularly remarkable since much of it is now
          more than 45 years old, but serves its purpose as well as on  day
          one.
          I am grateful to Sun,  Caldera,  and  Lucent  for  releasing  the
          source  code  without  which  this  project  would  not have been
          possible.
          I wish to thank Brian Kernighan for the permission to adapt  this
          manual.
          AAAAvvvvaaaaiiiillllaaaabbbbiiiilllliiiittttyyyy aaaannnndddd CCCCoooonnnnttttaaaacccctttt IIIInnnnffffoooorrrrmmmmaaaattttiiiioooonnnn
          The source code of the _H_e_i_r_l_o_o_m _D_o_c_u_m_e_n_t_a_t_i_o_n _T_o_o_l_s and  accompa‐
          nying materials are freely available from <http://n‐t‐roff.github
          .io/heirloom/doctools.html>.  Comments and bug reports should  be
          added  at  <https://github.com/n‐t‐roff/heirloom‐doctools/issues>
          or send to <troff@arcor.de>.
          RRRReeeeffffeeeerrrreeeennnncccceeeessss
         [1] M. D. McIlroy, B. W. Kernighan (Eds.), _U_n_i_x _P_r_o_g_r_a_m_m_e_r’_s _M_a_n_u_‐
             _a_l, Vol.2, ATT Bell Laboratories, Murray Hill, NJ 07974, 1979;
             <http://plan9.bell‐labs.com/7thEdMan/index.html>.
         [2] B. W. Kernighan, L. L.  Cherry,  ‘‘Typesetting  Mathematics  —
             User’s Guide (Second Edition)’’, in [1].
         [3] M. E. Lesk, ‘‘Tbl — A Program to Format Tables’’, in [1].
         [4] B. W. Kernighan, ‘‘A TROFF Tutorial’’, in [1].
         [5] J. F. Ossanna, ‘‘Nroff/Troff User’s Manual’’, in [1].
         [6] <http://www.opensolaris.org>
         [7] D. E. Knuth, M. F. Plass, ‘‘Breaking paragraphs into  lines’’,
             _S_o_f_t_w_a_r_e—_P_r_a_c_t_i_c_e  _a_n_d  _E_x_p_e_r_i_e_n_c_e,  Vol. 11, Issue 12 (1981),
             pp. 1119–1184; also in D. E. Knuth, _D_i_g_i_t_a_l _T_y_p_o_g_r_a_p_h_y,  Stan‐
             ford, 1999 (CSLI lecture notes no. 78), pp. 67–155.
         [8] Hàn The´^ Thành, _M_i_c_r_o‐_t_y_p_o_g_r_a_p_h_i_c _e_x_t_e_n_s_i_o_n_s _t_o _t_h_e  _T_E_X  _t_y_p_e_‐
             _s_e_t_t_i_n_g _s_y_s_t_e_m, Masaryk University Brno, 2000.


                                        ‐ 4 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


         [9] F. M. Liang, _W_o_r_d _H_y‐_p_h_e_n‐_a‐_t_i_o_n _b_y _C_o_m‐_p_u_t‐_e_r, Stanford  Uni‐
             versity, CA 94305, Report No. STAN‐CS‐83‐977, 1983.
        [10] <http://www.gnu.org/software/groff>
        [11] <http://www.tuhs.org/Archive/Caldera‐license.pdf>
        [12] <http://plan9.bell‐labs.com/plan9>



















































                                        ‐ 5 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          UUUUssssaaaaggggeeee
          The general form of invoking _n_r_o_f_f (or  _t_r_o_f_f)  at  UNIX  command
          level is
               nnnnrrrrooooffffffff  _o_p_t_i_o_n_s  _f_i_l_e_(sor  ttttrrrrooooffffffff  _o_p_t_i_o_n_s  _f_i_l_e_s)
          where _o_p_t_i_o_n_s represents any of a number of option arguments  and
          _f_i_l_e_s  represents the list of files containing the document to be
          formatted.  An argument consisting of a single minus (----) is taken
          to  be  a  file  name corresponding to the standard input.  If no
          file names are given input is taken from the standard input.  The
          options,  which  may  appear  in any order so long as they appear
          before the files, are:

            _OOOO_pppp_tttt_iiii_oooo_nnnn  _EEEE_ffff_ffff_eeee_cccc_tttt
             ----oooo_l_i_s_t Print only pages whose page numbers appear in  _l_i_s_t,
                    which consists of comma‐separated numbers and number
                    ranges.  A number range has the form _N-_M  and  means
                    pages  _N  through  _M;  a  initial  -_N means from the
                    beginning to page _N; and a final _N- means from _N  to
                    the end.
             ----nnnn_N    Number first generated page _N.
             ----ssss_N    Stop every _N pages.  _n_r_o_f_f will halt prior to  every
                    _N  pages  (default  _N=1)  to  allow paper loading or
                    changing, and will resume upon receipt of a newline.
                    _t_r_o_f_f  will  include a ‘‘pause’’ code every _N pages;
                    its meaning, if any, depends on the output device.
             ----mmmm_n_a_m_e Prepend           the           macro           file
                    ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////ttttmmmmaaaacccc////_n_a_m_e  to  the input _f_i_l_e_s,
                    or,  if  that  file   would   not   be   accessible,
                    ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////ttttmmmmaaaacccc////ttttmmmmaaaacccc...._n_a_m_e.   If  the envi‐
                    ronment variable TTTTRRRROOOOFFFFFFFFMMMMAAAACCCCSSSS is set, its value is used
                    instead  of  the default macro directory string, and
                    no attempt is made to open _n_a_m_e with  the  ‘‘tmac.’’
                    prefix.   The  value  is  prepended  to _n_a_m_e without
                    inserting an additional slash as a directory separa‐
                    tor,  so  it  must either end with a slash itself or
                    can be used to specify a file name prefix  (as  e.g.
                    ‘‘tmac.’’).
             ----rrrr_a_N   Register _a (one‐character) is set to _N.
             ----rrrr_a====N  Register _a (may be more than one character)  is  set
                    to _N.
             ----dddd_a_S   String _a (one‐character) is set to _S.
             ----dddd_a====_S  String _a (may be more than one character) is set  to
                    _S.
             ----iiii     Read  standard  input  after  the  input  files  are
                    exhausted.
             ----qqqq     Invoke the simultaneous input‐output mode of the  rrrrdddd
                    request.
             ----xxxx_N    Set the extension level to _N (cf. §1.1).
             ----zzzz     Check syntax only; do not generate any output except
                    for error messages.

                              _n_r_o_f_f Only
             ----eeee     Produce equally‐spaced words in adjusted lines,  us‐
                    ing full terminal resolution.


                                        ‐ 6 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


             ----hhhh     Use output tabs during horizontal spacing  to  speed
                    output  and  reduce  output  character  count.   Tab
                    settings are assumed to be every 8 nominal character
                    widths.
             ----TTTT_n_a_m_e Specify  the  name  of  the  output  terminal  type.
                    Currently  defined  names  are  33337777 for the (default)
                    Model 37 Teletype®,  llllpppp  for  any  line  printer  or
                    terminal without half‐line capability, ttttnnnn333300000000 for the
                    GE TermiNet 300, 333300000000SSSS for the DASI‐300S, 333300000000 for the
                    DASI‐300,  and 444455550000 for the DASI‐450 (Diablo Hyterm).
                    A special  name,  llllooooccccaaaalllleeee,  is  also  supported.   It
                    generates  UTF‐8  output if permitted by the current
                    LC_CTYPE locale, and  has  the  same  effect  as  llllpppp
                    otherwise.

                              _t_r_o_f_f Only
             ----ffff     Refrain from feeding  out  paper  and  stopping  the
                    output device at the end of the run.
             ----aaaa     Send a printable (ASCII) approximation  of  the  re‐
                    sults to the standard output.
             ----FFFF_p_a_t_h Look in directory _p_a_t_h  for  font  information;  the
                    default is ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////ffffoooonnnntttt////ddddeeeevvvvppppssss.
             ----TTTT_n_a_m_e Specifies  the  output  device.   Currently  defined
                    names  are  ppppssss  for  (default)  PostScript output at
                    72000 dpi, ppppssssmmmmeeeedddd for PostScript output at 3600  dpi,
                    ppppsssslllloooowwww  for  PostScript  output  at 432 dpi, ppppoooosssstttt for
                    PostScript output at  720  dpi  with  legacy  fonts,
                    and  hhhhttttmmmmllll  for  producing HTML output with the ddddhhhhttttmmmmllll
                    postprocessor.
             ----uuuu_N    Set the emboldening amount, i.e. the number of times
                    a  character  is printed to simulate bold output, to
                    _N.
          Each option is invoked as a separate argument; for example,
               nnnnrrrrooooffffffff  ----oooo_4,_8-_1_0  ----TTTT_3_0_0_S  ----mmmm_a_b_c  _f_i_l_e_1  _f_i_l_e_2
          requests formatting of pages 4,  8,  9,  and  10  of  a  document
          contained  in  the  files  named  _f_i_l_e_1  and _f_i_l_e_2, specifies the
          output terminal as a DASI‐300S, and  invokes  the  macro  package
          _a_b_c.
          Various pre‐ and  post‐processors  are  available  for  use  with
          _n_r_o_f_f  and  _t_r_o_f_f.   These  include  the  equation  preprocessors
          _n_e_q_n and _e_q_n2 (for _n_r_o_f_f  and  _t_r_o_f_f  respectively),  the  table‐
          construction  preprocessor  _t_b_l3,  and  _p_i_c  and _g_r_a_p for various
          forms of graphics.  A reverse‐line postprocessor _c_o_l is available
          for  multiple‐column  _n_r_o_f_f  output on terminals without reverse‐
          line ability; _c_o_l expects the Model 37 Teletype escape  sequences
          that  _n_r_o_f_f  produces by default.  _c_o_l can optionally also filter
          the backspace sequences which _n_r_o_f_f emits for underlining and em‐
          boldening  in order to produce a plain text file.  Another option
          is the _u_l postprocessor which  converts  backspace  sequences  to
          underline and reverse video escape sequences for CRT terminals.
          The ddddppppoooosssstttt postprocessor has a special role as it translates _t_r_o_f_f
          intermediate  output  to  PostScript, which is currently the only
          relevant target device format.
          For example, in


                                        ‐ 7 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


               ttttbbbbllll  _f_i_l_e_s  ||||  eeeeqqqqnnnn  ||||  ttttrrrrooooffffffff  _o_p_t_i_o_n_s  ||||  ddddppppoooosssstttt  >_o_u_t_p_u_t._p_s
          the first |||| indicates the piping of _t_b_l’_s output to _e_q_n’_s  input;
          the  second  the piping of _e_q_n’_s output to _t_r_o_f_f’s input; and the
          third indicates the piping of _t_r_o_f_f’s output to _d_p_o_s_t, which then
          writes PostScript code to _o_u_t_p_u_t._p_s.
          The following options are currently supported with _d_p_o_s_t:

             _OOOO_pppp_tttt_iiii_oooo_nnnn   _EEEE_ffff_ffff_eeee_cccc_tttt
             ----eeee _e_n_c_o_d_i_n_gSet the PostScript  encoding  scheme.   Possible
                      values of _e_n_c_o_d_i_n_g are:
                      0000 using the PostScript aaaasssshhhhoooowwww  operator,  with  the
                        same  representation  as  previous  versions  of
                        _d_p_o_s_t
                      1111 using aaaasssshhhhoooowwww, integrating  motion  commands  with
                        text commands
                      2222 using the PostScript aaaawwwwiiiiddddtttthhhhsssshhhhoooowwww  operator,  com‐
                        puting space widths in PostScript
                      3333 using  aaaawwwwiiiiddddtttthhhhsssshhhhoooowwww,  computing  space  widths  in
                        _d_p_o_s_t
                      4444 using   aaaasssshhhhoooowwww,   storing   text   positions   as
                        differences
                      5555 like 4444 but using a  binary  PostScript  Level  2
                        representation
                      The default is device‐specific.  3333 is the  default
                      with  the  high‐resolution  ppppssss  device; it usually
                      produces the most efficient PostScript output  and
                      leads  to  the  most  compact PDF documents.  With
                      lower‐resolution devices, 2222 is  preferred  over  3333
                      since  the  latter may produce incorrect alignment
                      because of accumulated  rounding  errors.   0000,  1111,
                      or  4444  may be preferable if the text font contains
                      many kerning pairs since 2222  or  3333  can  result  in
                      less  efficient or less compact output under these
                      circumstances.
             ----MMMM _m_a_r_k_s Print marks (in combination with the ttttrrrriiiimmmmaaaatttt  _t_r_o_f_f
                      request).   Valid  types  of _m_a_r_k_s are:  ccccuuuuttttmmmmaaaarrrrkkkkssss,
                      rrrreeeeggggiiiissssttttrrrraaaattttiiiioooonnnnmmmmaaaarrrrkkkkssss,  ssssttttaaaarrrrttttaaaarrrrggggeeeettttssss,  ccccoooolllloooorrrrbbbbaaaarrrrssss,   and
                      aaaallllllll.   Mark  names can be abbreviated and combined
                      by colons, e.g. ----MMMMccccuuuutttt::::rrrreeeegggg will print cut marks and
                      registration marks.
















                                        ‐ 8 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                   RRRReeeeqqqquuuueeeesssstttt SSSSuuuummmmmmmmaaaarrrryyyy
          In the following table, the  notation  ±_N  in  the  _R_e_q_u_e_s_t  _F_o_r_m
          column  means  that  the forms _N, +_N, or -_N are permitted, to set
          the parameter to _N, increment it by _N,  or  decrement  it  by  _N,
          respectively.   Plain  _N  means that the value is used to set the
          parameter.  _I_n_i_t_i_a_l _V_a_l_u_e_s separated by ;;;; are for _n_r_o_f_f and _t_r_o_f_f
          respectively.  In the _N_o_t_e_s column,

             B      Request normally causes a break.  The use  of  ´´´´  as  control  character
                    (instead of ....)  suppresses the break function.
             D      Mode or relevant parameters associated with current diversion level.
             E      Relevant parameters are a part of the current environment.
             O      Must stay in effect until logical output.
             P      Mode must be still or again in effect at the time of physical output.
             T      _t_r_o_f_f only; no effect in _n_r_o_f_f.
          vvvv,pppp,mmmm,uuuu   Default scale indicator; if not specified, scale indicators are _i_g_n_o_r_e_d.

          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          1111....  GGGGeeeennnneeeerrrraaaallll EEEExxxxppppllllaaaannnnaaaattttiiiioooonnnn
          ....ddddoooo _n_a_m_e                ignored–Execute _n_a_m_e in  extension  level
          3.
          ....xxxxffffllllaaaagggg _N        1       ignored–Set the  extension  level  perma‐
          nently to _N.
          2222....  FFFFoooonnnntttt aaaannnndddd CCCChhhhaaaarrrraaaacccctttteeeerrrr SSSSiiiizzzzeeee CCCCoooonnnnttttrrrroooollll
          ....llllcccc____ccccttttyyyyppppeeee _n_a_m_e  ignored –    Set the LC_CTYPE locale.
          ....ppppssss±_N   10point previous     E,T,ppppPoint size; also \\\\ssss±_N.
          ....ffffzzzzoooooooommmm _F _Z      1       ignoredP,TZoom font _F by factor _Z.
          ....ssssssss _N [_M]       12/36m  ignoredE,TSpace‐character  size  set   to
          _N/36em; sentence space _M/36em.
          ....ccccssss_F_N_M  off     –       P,T  Constant  character  space   (width)
          mode (font _F).
          ....bbbbdddd _F _N off     –       P,T  Embolden font _F by _N−1 units.
          ....bbbbdddd SSSS _F _N       off     –    P,TEmbolden Special Font  when  cur‐
          rent font is _F.
          ....fffftttt _F   Roman   previous     E Change to font _F = _x, _x_x, or  1‐4.
          Also \\\\ffff_x,\\\\ffff((((_x_x,\\\\ffff_N.
          ....ffffpppp _N _F [_f_i_l_e [_s_u_p_p_l_y]] ignoredPFont position;  mounts  the  font
          _f_i_l_e.
          ....ffffppppssss _m_a_p ...            ignoredP,TMount a  font  with  a  special
          character map.
          ....ffffeeeeaaaattttuuuurrrreeee _F ±_n_a_m_e ...    ignoredP,TControl OpenType features.
          ....ffffaaaallllllllbbbbaaaacccckkkk _F _A _B ...     ignoredP,TSelect  the  fallback  sequence
          for font _F.
          ....hhhhiiiiddddeeeecccchhhhaaaarrrr _F _c _d ...     ignoredP,THide the characters _c, _d,  etc.
          from font F.
          ....ssssppppaaaacccceeeewwwwiiiiddddtttthhhh _N   on      O,T  If _N≠0, use the space width from the
          font metrics file.
          ....ffffssssppppaaaacccceeeewwwwiiiiddddtttthhhh _F [_N]      ignoredO,TSet  the  width  of  the  space
          character in font _F to _N.
          3333....  PPPPaaaaggggeeee CCCCoooonnnnttttrrrroooollll
          ....ppppllll±_N   11i     11i     vvvv    Page length.
          ....ppppaaaappppeeeerrrrssssiiiizzzzeeee _m_e_d_i_a        ignoredT,uuuuSet the paper size.
          ....mmmmeeeeddddiiiiaaaassssiiiizzzzeeee _m_e_d_i_a        ignoredT,uuuuSet the device media size.


                                        ‐ 9 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn

          ....ccccrrrrooooppppaaaatttt _L _T _W _H ignored T,pppp  Set the ‘‘CropBox’’  page  parameter
          for PDF generation.
          ....ttttrrrriiiimmmmaaaatttt _L _T _W _H ignored T,pppp  Set the ‘‘TrimBox’’  page  parameter
          for PDF generation.
          ....bbbblllleeeeeeeeddddaaaatttt _L _T _W _H        ignoredT,ppppSet the ‘‘BleedBox’’  page  pa‐
          rameter for PDF generation.
          ....bbbbpppp ±_N  _N=1     –       B    Eject current page; next page number
          _N.
          ....ppppnnnn ±_N  _N=1     ignored –    Next page number _N.
          ....ppppoooo ±_N  0;1i    previous     mmmm Page offset.
          ....nnnneeee _N   –       _N=1v    D,vvvv  Need _N vertical space (_V =  vertical
          spacing).
          ....mmmmkkkk _R   none    internal     D Mark  current  vertical  place  in
          register _R.
          ....rrrrtttt ±_N  none    internal     D,vvvvReturn (_u_p_w_a_r_d  _o_n_l_y)  to  marked
          vertical place.
          4444....  TTTTeeeexxxxtttt FFFFiiiilllllllliiiinnnngggg,,,, AAAAddddjjjjuuuussssttttiiiinnnngggg,,,, aaaannnndddd CCCCeeeennnntttteeeerrrriiiinnnngggg
          ....bbbbrrrr     –       –       B    Break.
          ....llllssssmmmm _x_x none    none    –    Leading space macro is _x_x.
          ....bbbbrrrrpppp    –       –       B    Break and spread.
          ....ffffiiii     fill    –       B,E  Fill output lines.
          ....nnnnffff     fill    –       B,E  No filling or  adjusting  of  output
          lines.
          ....aaaadddd _c   adj,both        adjust EAdjust output lines with mode  _c;
          _c=l,r,c,b,p,_n_o_n_e
          ....nnnnaaaa     adjust  –       E    No output line adjusting.
          ....ppppaaaaddddjjjj _N off     on      –    Control paragraph‐at‐once adjustment
          globally.
          ....cccceeee _N   off     _N=1     B,E  Center following _N input text lines.
          ....rrrrjjjj _N   off     _N=1     B,E  Right‐align following _N  input  text
          lines.
          ....bbbbrrrrnnnnllll _N off     _N=∞     B,E  Break at end of next  _N  input  text
          lines.
          ....bbbbrrrrppppnnnnllll _N        off     _N=∞  B,EBreak and spread at end of next _N
          input text lines.
          ....mmmmiiiinnnnssssssss _N        off     off  E,TMinimum word space when adjusting
          lines.
          ....lllleeeettttaaaaddddjjjj _X _U _S _Y _V       off  E,TDynamic letter  spacing  and  re‐
          shaping when adjusting lines.
          ....sssseeeennnnttttcccchhhhaaaarrrr _c...  ....????!!!!::::    off  E Sentence‐ending characters.
          ....ttttrrrraaaannnnsssscccchhhhaaaarrrr _c..  """"’))))]]]]****††††  off  E Transparent     characters     for
          sentence‐ending.
          ....ttttrrrraaaacccckkkk _F _S _N _T _M        ignoredP,T,ppppStatic letter space tracking.
          ....kkkkeeeerrrrnnnn _N 1       1       P,T  Control pairwise kerning.
          ....ffffkkkkeeeerrrrnnnn _F _N      1       1    P,TControl the use of kerning tables
          from font _F.
          ....kkkkeeeerrrrnnnnppppaaaaiiiirrrr _F _c... _G _d... _N    ignoredP,TDefine a kerning pair.
          ....kkkkeeeerrrrnnnnaaaafffftttteeeerrrr _F _c... _N _d... _M ... P,TAdd a constant amount of  space
          after a character.
          ....kkkkeeeerrrrnnnnbbbbeeeeffffoooorrrreeee _F _c... _N _d... _M ...P,TAdd a constant amount of  space
          before a character.


                                       ‐ 10 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn

          ....llllhhhhaaaannnngggg _F _c... _N _d... _M ...   ignoredTHanging characters  at  left
          margin.
          ....rrrrhhhhaaaannnngggg _F _c... _N _d... _M ...   ignoredTHanging characters at  right
          margin.
          5555....  VVVVeeeerrrrttttiiiiccccaaaallll SSSSppppaaaacccciiiinnnngggg
          ....vvvvssss _N   1/6in;12pts     previousE,ppppVertical  base  line   spacing
          (_V).
          ....llllssss _N   _N=1     previous     E Output _N−1 _Vs after each text out‐
          put line.
          ....sssspppp _N   –       _N=1_V    B,vvvv  Space vertical distance _N _i_n  _e_i_t_h_e_r
          _d_i_r_e_c_t_i_o_n.
          ....ssssvvvv _N   –       _N=1_V    vvvv    Save vertical distance _N.
          ....oooossss     –       –       –    Output saved vertical distance.
          ....nnnnssss     space   –       D    Turn no‐space mode on.
          ....rrrrssss     –       –       D    Restore spacing; turn no‐space  mode
          off.
          6666....  LLLLiiiinnnneeee LLLLeeeennnnggggtttthhhh aaaannnndddd IIIInnnnddddeeeennnnttttiiiinnnngggg
          ....llllllll ±_N  6.5i    previous     E,mmmmLine length.
          ....iiiinnnn ±_N  _N=0     previous     B,E,mmmmIndent.
          ....ttttiiii ±_N  –       ignored B,E,mmmm  Temporary indent.
          ....ppppsssshhhhaaaappppeeee ±_I_1 ±_L_1 ±_I_2 ±_L_2 ... offE,mmmmDefine the shape of the current
          paragraph in aaaadddd pppp mode.
          7777....  MMMMaaaaccccrrrroooossss,,,, SSSSttttrrrriiiinnnnggggssss,,,, DDDDiiiivvvveeeerrrrssssiiiioooonnnn,,,, aaaannnndddd PPPPoooossssiiiittttiiiioooonnnn TTTTrrrraaaappppssss
          ....ddddeeee _x_x _y_y       –       ._y_y=........ –Define or redefine macro _x_x;  end
          at call of _y_y.
          ....aaaammmm _x_x _y_y       –       ._y_y=........ –Append to a macro.
          ....ddddssss _x_x _s_t_r_i_n_g   –       ignored–Define  a  string  _x_x  containing
          _s_t_r_i_n_g.
          ....aaaassss _x_x _s_t_r_i_n_g   –       ignored–Append _s_t_r_i_n_g to string _x_x.
          ....llllddddssss _x_x _s_t_r_i_n_g  –       ignored–Define local string _x_x containing
          _s_t_r_i_n_g.
          ....ssssuuuubbbbssssttttrrrriiiinnnngggg _x_x _N [_M]     _M=−1 – Replace string _x_x by its substring
          between _N and _M.
          ....lllleeeennnnggggtttthhhh _R _s_t_r_i_n_g        _R set to 0–Store the length of _s_t_r_i_n_g  in
          register _R.
          ....iiiinnnnddddeeeexxxx _R _x_x _s_t_r_i_n_g      ignored–Store position where  _s_t_r_i_n_g  oc‐
          curs in _x_x in register _R.
          ....cccchhhhoooopppp _x_x        –       ignored–Remove the last character of _x_x.
          ....rrrrmmmm _x_x  –       ignored –    Remove request, macro, or string.
          ....rrrrnnnn _x_x _y_y       –       ignored–Rename request, macro, or  string
          _x_x to _y_y.
          ....ddddiiii _x_x  –       end     D    Divert output to macro _x_x.
          ....ddddaaaa _x_x  –       end     D    Divert and append to _x_x.
          ....bbbbooooxxxx _x_x –       end     D    Divert output to macro _x_x, excluding
          a partially filled line.
          ....bbbbooooxxxxaaaa _x_x        –       end  D Divert and append to _x_x, excluding
          a partially filled line.
          ....uuuunnnnffffoooorrrrmmmmaaaatttt _x_x    –       ignored–Strip line break information from
          diversion _x_x.
          ....aaaasssscccciiiiiiiiffffyyyy _x_x     –       ignored–All characters  in  diversion  _x_x
          changed to plain text.


                                       ‐ 11 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn

          ....wwwwhhhh _N _x_x        –       –    vvvv Set  location  trap;  negative  is
          w.r.t. page bottom.
          ....cccchhhh _x_x _N        –       –    vvvv Change trap location.
          ....ddddwwwwhhhh _N _x_x       –       –    D,vvvvSet  location  trap  in   current
          diversion.
          ....ddddcccchhhh _x_x _N       –       –    D,vvvvChange trap location  in  current
          diversion.
          ....ddddtttt _N _x_x        –       off  D,vvvvSet a diversion trap.
          ....vvvvpppptttt _N  1       ignored –    Enable or disable vertical  position
          traps.
          ....iiiitttt _N _x_x        –       off  E Set an input‐line count trap.
          ....iiiittttcccc _N _x_x       –       off  E Input‐line count trap ignoring \\\\cccc.
          ....rrrreeeettttuuuurrrrnnnn –       –       –    Return from the current macro.
          ....sssshhhhiiiifffftttt _N        –       1    – Shift the arguments to the current
          macro.
          ....aaaallllssss _y_y _x_x      –       –    – _y_y is created as an alias for _x_x.
          ....bbbbllllmmmm _x_x none    none    –    Blank line macro is _x_x.
          ....eeeemmmm _x_x  none    none    –    End macro is _x_x.
          ....rrrreeeeccccuuuurrrrssssiiiioooonnnnlllliiiimmmmiiiitttt _N _M     –    – Set the maximum stack depth.
          8888....  NNNNuuuummmmbbbbeeeerrrr RRRReeeeggggiiiisssstttteeeerrrrssss
          ....nnnnrrrr _R ±_N _M              –    uuuu Define and set number register  _R;
          auto‐increment by _M.
          ....nnnnrrrrffff _R ±_F _G             –    uuuu Define and set floating‐point reg‐
          ister _R; auto‐increment by _G.
          ....llllnnnnrrrr _R ±_N _M             –    uuuu Define and set local number regis‐
          ter _R.
          ....llllnnnnrrrrffff _R ±_F _G            –    uuuu Define  and  set  local  floating‐
          point register _R.
          ....aaaaffff _R _c arabic  –       –    Assign format to register _R (_c=1111, iiii,
          IIII, aaaa, AAAA).
          ....rrrrrrrr _R   –       –       –    Remove register _R.
          ....rrrrnnnnnnnn _R _S        –       –    – Rename register _R to _S.
          ....aaaallllnnnn _S _R        –       –    – Register _S is created as an  alias
          for _R.
          9999....  TTTTaaaabbbbssss,,,, LLLLeeeeaaaaddddeeeerrrrssss,,,, aaaannnndddd FFFFiiiieeeellllddddssss
          ....ttttaaaa _N_t ...      8n; 0.5i     noneE,mmmmTab settings; _l_e_f_t type,  un‐
          less _t=RRRR(right), CCCC(centered).
          ....ttttcccc _c   none    none    E    Tab repetition character.
          ....llllcccc _c   ....       none    E    Leader repetition character.
          ....ffffcccc _a _b off     off     –    Set field delimiter _a and pad  char‐
          acter _b.
          11110000....  IIIInnnnppppuuuutttt aaaannnndddd OOOOuuuuttttppppuuuutttt CCCCoooonnnnvvvveeeennnnttttiiiioooonnnnssss aaaannnndddd CCCChhhhaaaarrrraaaacccctttteeeerrrr TTTTrrrraaaannnnssssllllaaaattttiiiioooonnnnssss
          ....eeeecccc _c   \       \       –    Set escape character.
          ....eeeeoooo     on      –       –    Turn off escape character mechanism.
          ....eeeeccccssss    \       –       –    Save escape character.
          ....eeeeccccrrrr    \       –       –    Restore saved escape character.
          ....eeeessssccccooooffffffff _e_s_c ... on      ignored–Disable escapes _e_s_c ....
          ....eeeessssccccoooonnnn _e_s_c ...  on      ignored–Enable escapes _e_s_c ....
          ....llllgggg _N   –;on    on      T    Ligature mode on if _N>0.
          ....fffflllliiiigggg _F _s_t_r_i_n_g _c ...    ignoredTDefine the ligatures in font _F.
          ....ffffddddeeeeffffeeeerrrrlllliiiigggg _F _s_t_r_i_n_g ... ignoredTDefer ligature building  for  the


                                       ‐ 12 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn

          first character of _s_t_r_i_n_g.
          ....uuuullll _N   off     _N=1     E    Underline (italicize in _t_r_o_f_f) _N in‐
          put lines.
          ....ccccuuuu _N   off     _N=1     E    Continuous underline in _n_r_o_f_f;  like
          uuuullll in _t_r_o_f_f.
          ....uuuuffff _F   Italic  Italic  –    Underline  font  set  to  _F  (to  be
          switched to by uuuullll).
          ....cccccccc _c   ....       ....       E    Set control character to _c.
          ....cccc2222 _c   ´´´´       ´´´´       E    Set nobreak control character to _c.
          ....ttttrrrr _a_b_c_d....    none    –    O Translate _a to _b, etc. on output.
          ....ttttrrrriiiinnnn _a_b_c_d....  none    –    O Translate  but  retranslate   with
          aaaasssscccciiiiiiiiffffyyyy.
          ....ttttrrrrnnnntttt _a_b_c_d....  none    –    O Translate but not  on  transparent
          lines.
          ....ffffttttrrrr _F _a_b_c_d.... none    –    P,TFont‐specific ttttrrrr.
          ....cccchhhhaaaarrrr _c _s_t_r_i_n_g          ignored–Define character _c to _s_t_r_i_n_g.
          ....ffffcccchhhhaaaarrrr _c _s_t_r_i_n_g ignored T    Define fallback for character  _c  to
          _s_t_r_i_n_g.
          ....rrrrcccchhhhaaaarrrr _c...             ignored–Remove character definitions  for
          _c....
          ....uuuuttttffff8888ccccoooonnnnvvvv _c_1 _c_2 ignored –    _n_r_o_f_f UTF‐8 locale character  trans‐
          lation.
          ....oooouuuuttttppppuuuutttt _s_t_r_i_n_g          ignored–Write _s_t_r_i_n_g directly to interme‐
          diate output.
          11111111....   LLLLooooccccaaaallll  HHHHoooorrrriiiizzzzoooonnnnttttaaaallll  aaaannnndddd  VVVVeeeerrrrttttiiiiccccaaaallll  MMMMoooottttiiiioooonnnnssss,,,,  aaaannnndddd  tttthhhheeee  WWWWiiiiddddtttthhhh
          F1111FFFu2222uuun....nnnccccttttiOOOOiiiovvvvoooneeeennnrrrrssssttttrrrriiiikkkkeeee,,,, BBBBrrrraaaacccckkkkeeeetttt,,,, LLLLiiiinnnneeee‐ddddrrrraaaawwwwiiiinnnngggg,,,, GGGGrrrraaaapppphhhhiiiiccccssss,,,, aaaannnndddd  ZZZZeeeerrrroooo‐wwwwiiiiddddtttthhhh
          F....FFFFFFFuccccuuuuuuunoooonnnnnnncnnnnccccccctnnnntttttttieeeeiiiiiiioccccooooooonttttnnnnnnnsccccssshhhhaaaarrrr _c..        """"\\\\((((rrrruuuu\\\\((((uuuullll\\\\((((rrrrnnnnoffEConnected characters for
          FlFFFuiuuunnnnncecccttttidiiiorooonannnswsssing.
          11113333....  HHHHyyyypppphhhheeeennnnaaaattttiiiioooonnnn....
          ....nnnnhhhh     hyphenate       –    E No hyphenation.
          ....hhhhyyyy _N   hyphenate       hyphenateEHyphenate; _N = mode.
          ....hhhhyyyyllllaaaannnngggg _n_a_m_e    off     off  E Set the hyphenation language.
          ....sssshhhhcccc _c  ‐       ‐       E    Set the soft hyphenation character.
          ....hhhhccccooooddddeeee _a_b_c_d...          –    E Hyphenation code of _a is _b, etc.
          ....hhhhyyyylllleeeennnn _N        5       5    E Hyphenate only words of at least _N
          characters in length.
          ....hhhhllllmmmm _N  off     off     E    Maximum number  of  consecutive  hy‐
          phenated lines.
          ....hhhhyyyypppppppp _N _M _L     0 0 0   0 0 0  EDefine hyphenation penalties  for
          aaaadddd pppp mode.
          ....bbbbrrrreeeeaaaakkkkcccchhhhaaaarrrr _c.   ‐‐‐‐————      off  E Optional line break characters.
          ....nnnnhhhhyyyycccchhhhaaaarrrr _c...   ‐‐‐‐————      off  E Hyphenation‐inhibiting characters.
          ....hhhhcccc _c   \\\\%%%%      \\\\%%%%      E    Hyphenation indicator character _c.
          ....hhhhwwww _w_o_r_d ...    –       ignored–Add words to hyphenation  dictio‐
          nary.
          11114444....  TTTThhhhrrrreeeeeeee‐PPPPaaaarrrrtttt TTTTiiiittttlllleeeessss....
          ....ttttllll ´_l_e_f_t´_c_e_n_t_e_r´_r_i_g_h_t´ –    – Three part title; delimiter may be
          any character.
          ....ppppcccc _c   %%%%       off     –    Page number character.
          ....lllltttt ±_N  6.5in   previous     E,mmmmLength of title.



                                       ‐ 13 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn

          11115555....  OOOOuuuuttttppppuuuutttt LLLLiiiinnnneeee NNNNuuuummmmbbbbeeeerrrriiiinnnngggg....
          ....nnnnmmmm ±_N _M _S _I            off  E Number  mode  on   or   off,   set
          parameters.
          ....nnnnnnnn _N   –       _N=1     E    Do not number next _N lines.
          11116666....  CCCCoooonnnnddddiiiittttiiiioooonnnnaaaallll AAAAcccccccceeeeppppttttaaaannnncccceeee ooooffff IIIInnnnppppuuuutttt
          ....iiiiffff _c _a_n_y_t_h_i_n_g          –    – If condition _c true,  accept  _a_n_y_‐
          _t_h_i_n_g as input,
                                       for multi‐line use \{_a_n_y_t_h_i_n_g\}.
          ....iiiiffff !!!!_c _a_n_y_t_h_i_n_g         –    – If  condition  _c   false,   accept
          _a_n_y_t_h_i_n_g.
          ....iiiiffff _N _a_n_y_t_h_i_n_g          –    uuuu If  expression  _N  >   0,   accept
          _a_n_y_t_h_i_n_g.
          ....iiiiffff !!!!_N _a_n_y_t_h_i_n_g –       uuuu    If expression _N ≤  0  [sic],  accept
          _a_n_y_t_h_i_n_g.
          ....iiiiffff ffff_F _a_n_y_t_h_i_n_g –       uuuu    If floating‐point expression _F >  0,
          accept _a_n_y_t_h_i_n_g.
          ....iiiiffff !!!!ffff_F _a_n_y_t_h_i_n_g        –    uuuu If floating‐point expression _F ≤ 0
          [sic], accept _a_n_y_t_h_i_n_g.
          ....iiiiffff ´_s_t_r_i_n_g_1´_s_t_r_i_n_g_2´ _a_n_y_t_h_i_n_g –If _s_t_r_i_n_g_1 identical to  _s_t_r_i_n_g_2,
          accept _a_n_y_t_h_i_n_g.
          ....iiiiffff !!!!´_s_t_r_i_n_g_1´_s_t_r_i_n_g_2´ _a_n_y_t_h_i_n_g–If  _s_t_r_i_n_g_1  not   identical   to
          _s_t_r_i_n_g_2, accept _a_n_y_t_h_i_n_g.
          ....iiiieeee _c _a_n_y_t_h_i_n_g          –    uuuu If portion of if‐else;  all  above
          forms (like iiiiffff).
          ....eeeellll _a_n_y_t_h_i_n_g            –    – Else portion of if‐else.
          ....wwwwhhhhiiiilllleeee _c _a_n_y_t_h_i_n_g       –    – Execute _a_n_y_t_h_i_n_g while _c (like iiiiffff)
          is true.
          ....bbbbrrrreeeeaaaakkkk _n        –       1    – Break out of _n nested wwwwhhhhiiiilllleeee loops.
          ....ccccoooonnnnttttiiiinnnnuuuueeee _n     –       1    – Continue at the _n‐th nested  wwwwhhhhiiiilllleeee
          loop.
          11117777....  EEEEnnnnvvvviiiirrrroooonnnnmmmmeeeennnntttt SSSSwwwwiiiittttcccchhhhiiiinnnngggg....
          ....eeeevvvv _n_a_m_e        _n_a_m_e=0  previous–Environment    switched    (_p_u_s_h
          _d_o_w_n).
          ....eeeevvvvcccc _n_a_m_e               –    – Copy environment _n_a_m_e to the  cur‐
          rent environment.
          11118888....  IIIInnnnsssseeeerrrrttttiiiioooonnnnssss ffffrrrroooommmm tttthhhheeee SSSSttttaaaannnnddddaaaarrrrdddd IIIInnnnppppuuuutttt
          ....rrrrdddd _p_r_o_m_p_t      –       _p_r_o_m_p_t=BEL–Read insertion.
          ....eeeexxxx     –       –       –    Exit from _n_r_o_f_f/_t_r_o_f_f.
          11119999....  IIIInnnnppppuuuutttt////OOOOuuuuttttppppuuuutttt FFFFiiiilllleeee SSSSwwwwiiiittttcccchhhhiiiinnnngggg
          ....ssssoooo _f_i_l_e_n_a_m_e            –    – Switch source file (_p_u_s_h _d_o_w_n).
          ....ppppssssoooo _s_t_r_i_n_g             –    – Execute  _s_t_r_i_n_g   and   read   its
          output.
          ....nnnnxxxx _f_i_l_e_n_a_m_e            end‐of‐file–Next file.
          ....ssssyyyy _s_t_r_i_n_g              –    – Execute program _s_t_r_i_n_g. Output not
          interpolated.
          ....ppppiiii _s_t_r_i_n_g              –    – Pipe output to program _s_t_r_i_n_g.
          ....ccccffff _f_i_l_e_n_a_m_e            –    – Copy  file   contents   to   _t_r_o_f_f
          output.
          ....ooooppppeeeennnn _s_t_r_e_a_m _f_i_l_e_n_a_m_e   ignored–Open _f_i_l_e_n_a_m_e as _s_t_r_e_a_m, truncat‐
          ing.
          ....ooooppppeeeennnnaaaa _s_t_r_e_a_m _f_i_l_e_n_a_m_e  ignored–Open _f_i_l_e_n_a_m_e as _s_t_r_e_a_m,  append‐


                                       ‐ 14 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn

          ing.
          ....wwwwrrrriiiitttteeee _s_t_r_e_a_m _t_e_x_t      ignored–Write _t_e_x_t to file _s_t_r_e_a_m.
          ....wwwwrrrriiiitttteeeecccc _s_t_r_e_a_m _t_e_x_t     ignored–Write  _t_e_x_t  without  terminating
          newline.
          ....wwwwrrrriiiitttteeeemmmm _s_t_r_e_a_m _x_x       ignored–Write contents of string,  macro,
          or diversion _x_x.
          ....cccclllloooosssseeee _s_t_r_e_a_m           –    – Close the file _s_t_r_e_a_m.
          22220000....  MMMMiiiisssscccceeeellllllllaaaannnneeeeoooouuuussss
          ....mmmmcccc _c _N –       off     E,mmmm  Set margin character _c  and  separa‐
          tion _N.
          ....llllppppffffxxxx _s_t_r_i_n_g    off     off  E Set line prefix to _s_t_r_i_n_g.
          ....ttttmmmm _s_t_r_i_n_g      –       newline–Print _s_t_r_i_n_g on  terminal  (stan‐
          dard error).
          ....ttttmmmmcccc _s_t_r_i_n_g     –       newline–Print _s_t_r_i_n_g without  newline  on
          terminal.
          ....nnnnoooopppp _r_e_m_a_i_n_d_e_r _o_f _l_i_n_e  –    – Use _r_e_m_a_i_n_d_e_r _o_f _l_i_n_e as input.
          ....cccchhhhoooommmmpppp _r_e_m_a_i_n_d_e_r _o_f _l_i_n_e     – –Use  _r_e_m_a_i_n_d_e_r  _o_f  _l_i_n_e  _w_i_t_h_o_u_t
          _n_e_w_l_i_n_e as input.
          ....aaaabbbb _s_t_r_i_n_g      –       newline–Print _s_t_r_i_n_g on  standard  error,
          exit program.
          ....iiiigggg _y_y  –       ._y_y=........  –    Ignore till call of _y_y.
          ....llllffff _N _f         –       –    Set input line number to _N and file‐
          name to _f.
          ....ppppmmmm _t   –       all     –    Print macro names and sizes;
                                       if _t present, print  only  total  of
          sizes.
          ....ffffllll     –       –       B    Flush output buffer.
          22221111....  OOOOuuuuttttppppuuuutttt aaaannnndddd EEEErrrrrrrroooorrrr MMMMeeeessssssssaaaaggggeeeessss,,,, DDDDeeeebbbbuuuuggggggggiiiinnnngggg
          ....wwwwaaaarrrrnnnn ±_b_i_t_s|_n_a_m_e        _w    – Control warning messages.
          ....sssspppprrrreeeeaaaaddddwwwwaaaarrrrnnnn _N   toggle  mmmm    Spread limit warning.
          ....eeeerrrrrrrrpppprrrriiiinnnntttt _s_t_r_i_n_g        newline–Print  _s_t_r_i_n_g   like   an   error
          message.
          ....wwwwaaaattttcccchhhh _x_x       off     ignore –Notify on  change  of  string  or
          macro _x_x.
          ....uuuunnnnwwwwaaaattttcccchhhh _x_x     off     ignore –Disable notification  for  string
          or macro _x_x.
          ....wwwwaaaattttcccchhhhlllleeeennnnggggtttthhhh _N  ignore  –    On change,  report  contents  up  to
          length _N.
          ....wwwwaaaattttcccchhhhnnnn _R       off     ignore –Notify on change of register _R.
          ....uuuunnnnwwwwaaaattttcccchhhhnnnn _R     off     ignore –Disable notification for register
          _R.
          22222222....  CCCCoooolllloooorrrr SSSSuuuuppppppppoooorrrrtttt
          ....CCCCLLLL _c_o_l_o_r _t_e_x_t  RGB black      –Print _t_e_x_t in _c_o_l_o_r.*
          22223333....  PPPPiiiiccccttttuuuurrrreeee IIIInnnncccclllluuuussssiiiioooonnnn
          ....ppppssssbbbbbbbb _f_i_l_e_n_a_m_e  –       –    Read  the  PostScript  bounding  box
          from _f_i_l_e_n_a_m_e.
          ....BBBBPPPP _s_o_u_r_c_e _h_e_i_g_h_t _w_i_d_t_h _p_o_s_i_t_i_o_n _o_f_f_s_e_t _f_l_a_g_s _l_a_b_e_lDefine a frame
          and place a picture in it.*
          ....EEEEPPPP     –       –       –    End a picture started by ....BBBBPPPP.*
          ....PPPPIIII _s_o_u_r_c_e _h_e_i_g_h_t,,,,_w_i_d_t_h,,,,_y_o_f_f_s_e_t,,,,_x_o_f_f_s_e_t _f_l_a_g_sLow‐level    picture
          inclusion.*


                                       ‐ 15 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn

          22224444....  SSSSppppeeeecccciiiiaaaallll FFFFeeeeaaaattttuuuurrrreeeessss ffffoooorrrr PPPPDDDDFFFF DDDDooooccccuuuummmmeeeennnnttttssss
          22225555....  _gggg_rrrr_oooo_ffff_ffff CCCCoooommmmppppaaaattttiiiibbbbiiiilllliiiittttyyyy
          ....ccccpppp _N   off     –       –    Enable _g_r_o_f_f compatibility mode.
          ....mmmmssssoooo _n_a_m_e       –       ignored–Include the macro package _n_a_m_e.*
          22226666....  OOOOuuuuttttppppuuuutttt LLLLaaaannnngggguuuuaaaaggggeeee
          22227777....  DDDDeeeevvvviiiicccceeee aaaannnndddd FFFFoooonnnntttt DDDDeeeessssccccrrrriiiippppttttiiiioooonnnn FFFFiiiilllleeeessss










































          ⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽
          ∗Defined as a macro in an external package; refer to the detailed
          description on how to include it.


                                       ‐ 16 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          AAAAllllpppphhhhaaaabbbbeeeettttiiiiccccaaaallll RRRReeeeqqqquuuueeeesssstttt aaaannnndddd SSSSeeeeccccttttiiiioooonnnn NNNNuuuummmmbbbbeeeerrrr CCCCrrrroooossssssss RRRReeeeffffeeeerrrreeeennnncccceeee
          ab........20de.........7hylang....13nhychar...13shift......7
          ad.........4di.........7hylen.....13nm........15so........19
          af.........8do.........1hypp......13nn........15sp.........5
          aln........8ds.........7ie........16nop.......20spacewidth.2
          als........7dwh........7if........16nr.........8spreadwarn21
          am.........7dt.........7ig........20nrf........8ss.........2
          as.........7ec........10in.........6ns.........5substring..7
          asciify....7ecs.......10index......7nx........19sv.........5
          bd.........2ecr.......10it.........7open......19sy........19
          bleedat....3el........16itc........7opena.....19ta.........9
          blm........7em.........7kern.......4os.........5tc.........9
          box........7eo........10kernafter..4output....10ti.........6
          boxa.......7EP........23kernbefore.4padj.......4tl........14
          bp.........3errprint..21kernpair...4papersize..3tm........20
          BP........23escoff....10lc.........9pc........14tr........10
          br.........4escon.....10lc_ctype...2pi........19track......4
          break.....16ev........17lds........7PI........23transchar..4
          breakchar.13evc.......17length.....7pl.........3trimat.....3
          brnl.......4ex........18letadj.....4pm........20trin......10
          brp........4fallback...2lf........20pn.........3trnt......10
          brpnl......4fc.........9lg........10po.........3uf........10
          c2........10fchar.....10lhang......4ps.........2ul........10
          cc........10fdeferlig.10li........10psbb......23unformat...7
          ce.........4feature....2ll.........6pshape.....6unwatch...21
          cf........19fi.........4lnr........8pso.......19unwatchn..21
          ch.........7fkern......4lnrf.......8rchar.....10utf8conv..10
          char......10fl........20lpfx......20rd........18vpt........7
          chomp.....20flig......10ls.........5recursionlimivts7.........5
          chop.......7fp.........2lsm........4return.....7warn......21
          close.....19fps........2lt........14rhang......4watch.....21
          CL........22fspacewidth2mc........20rj.........4watchlength21
          connectchar12ft.........2mediasize..3rm.........7watchn....21
          continue..16fzoom......2minss......4rn.........7wh.........7
          cp........25hc........13mk.........3rnn........8while.....16
          cropat.....3hcode.....13mso.......25rr.........8write.....19
          cs.........2hidechar...2na.........4rs.........5writec....19
          cu........10hlm.......13ne.........3rt.........3writem....19
          da.........7hw........13nf.........4sentchar...4xflag......1
          dch........7hy........13nh........13shc.......13
















                                       ‐ 17 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          EEEEssssccccaaaappppeeee SSSSeeeeqqqquuuueeeennnncccceeeessss ffffoooorrrr CCCChhhhaaaarrrraaaacccctttteeeerrrrssss,,,, IIIInnnnddddiiiiccccaaaattttoooorrrrssss,,,, aaaannnndddd FFFFuuuunnnnccccttttiiiioooonnnnssss
           _SSSS_eeee_cccc_tttt_iiii_oooo_nnnn   _EEEE_ssss_cccc_aaaa_pppp_eeee
          _RRRR_eeee_ffff_eeee_rrrr_eeee_nnnn_cccc_eeee  _SSSS_eeee_qqqq_uuuu_eeee_nnnn_cccc_eeee               _MMMM_eeee_aaaa_nnnn_iiii_nnnn_gggg
            10.1     \\\\\\\\                     \ (to prevent or delay the interpretation of \)
             2.1     \\\\´´´´                     ´ (acute accent); equivalent to \\\\((((aaaaaaaa
             2.1     \\\\````                     ` (grave accent); equivalent to \\\\((((ggggaaaa
             2.1     \\\\----                     - Minus sign in the _c_u_r_r_e_n_t font
            12.4     \\\\____                     _ (underrule character); equivalent to \\\\((((uuuullll
             7       \\\\....                     Period (dot) (see ddddeeee)
             4.1     \\\\(space)               Unpaddable space‐size space character
             4.1     \\\\∼∼∼∼                     Paddable no‐break space character
            11.1     \\\\0000                     Digit width space
            11.1     \\\\||||                     1/6em narrow space character (zero width in _n_r_o_f_f)
            11.1     \\\\^^^^                     1/12em half‐narrow space character (zero width in _n_r_o_f_f)
             4.1     \\\\&&&&                     Non‐printing, zero width character
             4.1     \\\\))))                     Transparent non‐printing zero width character
            10.6     \\\\!!!!                     Transparent line indicator
            10.8     \\\\""""                     Beginning of comment
            10.8     \\\\####                     Comment including newline
             7.3     \\\\$$$$_n,\\\\$$$$((((_n_n,\\\\$$$$[[[[_n_n_n]]]]      Interpolate argument _n, _n_n, or _n_n_n
             7.3     \\\\$$$$∗∗∗∗                    Interpolate all arguments separated by spaces
             7.3     \\\\$$$$@@@@                    Interpolate all arguments in double quotes
             7.3     \\\\$$$$0000                    Interpolate name of current macro or string
            13       \\\\%%%%                     Default optional hyphenation character
             2.1     \\\\((((_x_x                   Character named _x_x
             2.1     \\\\[[[[_x_x_x]                 Character named _x_x_x
             7.1     \\\\∗∗∗∗_x,\\\\∗∗∗∗((((_x_x,\\\\∗∗∗∗[[[[_x_x_x]]]]      Interpolate string _x, _x_x, or _x_x_x
             7.1     \\\\∗∗∗∗[[[[_x_x_x _a_r_g ...]]]]        Interpolate string _x_x_x with arguments _a_r_g ...
            13       \\\\::::                     Optional line‐break character
            10.2     \\\\;;;;                     Ligature suppressor
            17       \\\\@@@@{{{{,\\\\@@@@}}}}                Inline environment push/pop
             9.1     \\\\aaaa                     Non‐interpreted leader character
            24.6     \\\\AAAA´_s_t_r_i_n_g´             Anchor definition
            12.3     \\\\bbbb´_a_b_c...´             Bracket building function
             1.4     \\\\BBBB'_s_t_r_i_n_g'             Test if _s_t_r_i_n_g is a numerical expression
             4.2     \\\\cccc                     Interrupt text processing
             2.1     \\\\CCCC´_x_x_x´                Character named _x_x_x
            11.1     \\\\dddd                     Forward (down) 1/2em vertical motion (1/2 line in _n_r_o_f_f)
            12.5     \\\\DDDD´_c...´               Draw graphics function _c with parameters ...; _c=llll,cccc,eeee,aaaa,∼∼∼∼
            10.1     \\\\eeee                     Printable version of the _c_u_r_r_e_n_t escape character
            10.1     \\\\EEEE                     Escape character, not interpreted in _c_o_p_y _m_o_d_e
             2.2     \\\\ffff_x,\\\\ffff((((_x_x,\\\\ffff[[[[_x_x_x]]]],\\\\ffff_N  Change to font named _x, _x_x, or _x_x_x, or position _N
             8       \\\\gggg_x,\\\\gggg((((_x_x,\\\\gggg[[[[_x_x_x]]]]      Format of number register _x, _x_x, or _x_x_x
            11.1     \\\\hhhh´_N´                  Local horizontal motion; move right _N (_n_e_g_a_t_i_v_e _l_e_f_t)
             2.3     \\\\HHHH´_N´                  Height of current font is _N
             1.1     \\\\IIII'_s_t_r_i_n_g'             Test if _s_t_r_i_n_g is a valid identifier name
             4.1     \\\\jjjj´±_N´                 Penalty for breaking a line after the current word is _N
             4.1     \\\\JJJJ´±_N´                 Default line breaking penalty is _N
            11.3     \\\\kkkk_x,\\\\kkkk((((_x_x,\\\\kkkk[[[[_x_x_x]]]]      Mark horizontal _i_n_p_u_t place in register _x, _x_x, or _x_x_x
            12.4     \\\\llll´_N_c´                 Horizontal line drawing function (optionally with _c)
            12.4     \\\\LLLL´_N_c´                 Vertical line drawing function (optionally with _c)
             8       \\\\nnnn_x,\\\\nnnn((((_x_x,\\\\nnnn[[[[_x_x_x]]]]      Interpolate number register _x, _x_x, or _x_x_x
             2.      \\\\NNNN´_N´                  Character number _N on current font
            12.1     \\\\oooo´_a_b_c...´             Overstrike characters _a, _b, _c, ...


                                       ‐ 18 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


             4.1     \\\\pppp                     Break and spread output line
             7.5     \\\\PPPP_x,\\\\PPPP((((_x_x,\\\\PPPP[[[[_x_x_x]]]]      Output‐line trap _x, _x_x, or _x_x_x
            11.1     \\\\rrrr                     Reverse 1em vertical motion (reverse line in _n_r_o_f_f)
             8       \\\\RRRR´_R ±_N´               Set number register _R to ±_N
             2.3     \\\\ssss_N,\\\\ssss±_N,              Point‐size change function
                     \\\\ssss´´´´±_N´´´´,\\\\ssss±´´´´_N´´´´,
                     \\\\ssss[[[[±_N]]]],\\\\ssss±[[[[_N]]]]
             2.2     \\\\SSSS´_N´                  Slant output _N degrees
             9.1     \\\\tttt                     Non‐interpreted horizontal tab
            24.6     \\\\TTTT´_s_t_r_i_n_g´             Intra‐document link definition
            11.1     \\\\uuuu                     Reverse (up) 1/2em vertical motion (1/2 line in _n_r_o_f_f)
             2.1     \\\\UUUU´_X´                  Character at Unicode position U+_X
            11.1     \\\\vvvv´_N´                  Local vertical motion; move down _N (_n_e_g_a_t_i_v_e _u_p)
            20       \\\\VVVV_x,\\\\VVVV((((_x_x,\\\\VVVV[[[[_x_x_x]]]]      Environment variable _x, _x_x, or _x_x_x
            11.2     \\\\wwww´_s_t_r_i_n_g´             Interpolate width of _s_t_r_i_n_g
            24.6     \\\\WWWW´_s_t_r_i_n_g´             URI link definition
             5.2     \\\\xxxx´_N´                  Extra line‐space function (_n_e_g_a_t_i_v_e _b_e_f_o_r_e, _p_o_s_i_t_i_v_e _a_f_t_e_r)
            10.7     \\\\XXXX´_s_t_r_i_n_g´             Output _s_t_r_i_n_g as device control function
            10.7     \\\\YYYY_x,\\\\YYYY((((_x_x,\\\\YYYY[[[[_x_x_x]]]]      Output contents of macro _x, _x_x, or _x_x_x as device control function
            12.2     \\\\zzzz_c                    Print _c with zero width (without spacing)
            12.2     \\\\ZZZZ´_s_t_r_i_n_g´             Print _s_t_r_i_n_g with zero width and height
            16       \\\\{{{{                     Begin conditional input
            16       \\\\}}}}                     End conditional input
            10.7     \\\\(newline)             Concealed (ignored) newline
              –      \\\\_c                     _c, any character _n_o_t listed above


          The escape sequences \\\\\\\\, \\\\...., \\\\"""", \\\\####, \\\\$$$$, \\\\∗∗∗∗, \\\\aaaa, \\\\eeee, \\\\gggg, \\\\nnnn,  \\\\tttt,
          \\\\VVVV, and \\\\(newline) are interpreted in _c_o_p_y _m_o_d_e (§7.2).

          PPPPrrrreeeeddddeeeeffffiiiinnnneeeedddd GGGGeeeennnneeeerrrraaaallll NNNNuuuummmmbbbbeeeerrrr RRRReeeeggggiiiisssstttteeeerrrrssss

           _SSSS_eeee_cccc_tttt_iiii_oooo_nnnn   _RRRR_eeee_gggg_iiii_ssss_tttt_eeee_rrrr
          _RRRR_eeee_ffff_eeee_rrrr_eeee_nnnn_cccc_eeee  _NNNN_aaaa_mmmm_eeee      _DDDD_eeee_ssss_cccc_rrrr_iiii_pppp_tttt_iiii_oooo_nnnn
             3       %%%%         Current page number.
              –      cccc....        Number of _l_i_n_e_s read from current input file.
            11.2     cccctttt        Character type (set by _w_i_d_t_h function).
             7.4     ddddllll        Width (maximum) of last completed diversion.
             7.4     ddddnnnn        Height (vertical size) of last completed diversion.
              –      ddddwwww        Current day of the week (1–7).
              –      ddddyyyy        Current day of the month (1–31).
              –      hhhhoooouuuurrrrssss     Hours portion of current local time (0–23).
            11.3     hhhhpppp        Current horizontal place on _i_n_p_u_t line.
            15       llllnnnn        Output line number.
              –      mmmmiiiinnnnuuuutttteeeessss   Minutes portion of current local time (0–59).
              –      mmmmoooo        Current month (1–12).
             4.1     nnnnllll        Vertical position of last printed text base‐line.
            11.2     rrrrssssbbbb       Visual depth of string below base line (generated by _w_i_d_t_h function).
            11.2     rrrrsssstttt       Visual height of string above base line (generated by _w_i_d_t_h function).
            11.2     ssssbbbb        Depth of string below base line (generated by _w_i_d_t_h function).
              –      sssseeeeccccoooonnnnddddssss   Seconds portion of current local time (0–60).
            11.2     sssstttt        Height of string above base line (generated by _w_i_d_t_h function).
              –      yyyyeeeeaaaarrrr      Current year.
              –      yyyyrrrr        Current year minus 1900.


                                       ‐ 19 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


            25.1     ....gggg        Current _g_r_o_f_f compatibility mode (0=off).


          PPPPrrrreeeeddddeeeeffffiiiinnnneeeedddd RRRReeeeaaaadddd‐OOOOnnnnllllyyyy NNNNuuuummmmbbbbeeeerrrr RRRReeeeggggiiiisssstttteeeerrrrssss

           _SSSS_eeee_cccc_tttt_iiii_oooo_nnnn   _RRRR_eeee_gggg_iiii_ssss_tttt_eeee_rrrr
          _RRRR_eeee_ffff_eeee_rrrr_eeee_nnnn_cccc_eeee  _NNNN_aaaa_mmmm_eeee          _DDDD_eeee_ssss_cccc_rrrr_iiii_pppp_tttt_iiii_oooo_nnnn
            19       $$$$$$$$            Process id of _n_r_o_f_f or _t_r_o_f_f.
             7.3     ....$$$$            Number of arguments available at the current macro level.
              –      ....AAAA            Set to 1 in _t_r_o_f_f, if ----aaaa option used; always 1 in _n_r_o_f_f.
             5.2     ....aaaa            Post‐line extra line‐space most recently utilized using \\\\xxxx´_N´.
             5.4     ....aaaasssscccceeeennnnddddeeeerrrr     Ascender of current font and point size.
             2.3     ....bbbb            Emboldening level.
            13       ....bbbbrrrreeeeaaaakkkkcccchhhhaaaarrrr    Current optional line break characters.
             4.1     ....bbbbrrrrnnnnllll         Remaining number of lines with break at newline.
             4.1     ....bbbbrrrrppppnnnnllll        Remaining number of lines with break and spread at newline.
              –      ....cccc            Number of _l_i_n_e_s read from current input file.
            11.2     ....ccccddddpppp          Visual depth below base line of previous character.
             4.1     ....cccceeee           Remaining number of lines to be centered.
            11.2     ....cccchhhhtttt          Visual height above base line of previous character.
            12.4     ....ccccoooonnnnnnnneeeeccccttttcccchhhhaaaarrrr  Current characters connected for line drawing [sic].
             7.4     ....dddd            Current vertical place in current diversion; equal to nnnnllll, if no diversion.
             4.1     ....ddddeeeeffffppppeeeennnnaaaallllttttyyyy   Default line breaking penalty.
             5.4     ....ddddeeeesssscccceeeennnnddddeeeerrrr    Descender of current font and point size.
             7.4     ....ddddiiiilllleeeevvvv        Current diversion level.
            17       ....eeeevvvv           Name of current environment [sic].
             2.2     ....ffff            Current font as physical quadrant (1‐255).
             2.2     ....ffffpppp           Next unused physical font quadrant.
             2.3     ....ffffzzzzoooooooommmm        Current font zoom factor (may be a decimal fraction).
            20       ....FFFF            Current input file name [sic].
             4       ....hhhh            Text base‐line high‐water mark on current page or diversion.
            13       ....hhhhllllcccc          Current number of consecutive hyphenated lines.
            13       ....hhhhllllmmmm          Maximum number of consecutive hyphenated lines.
            13       ....hhhhyyyy           Current hyphenation flags.
            13       ....hhhhyyyyllllaaaannnngggg       Current hyphenation language [sic].
            13       ....hhhhyyyylllleeeennnn        Current minimum hyphenation word length.
            13       ....hhhhyyyypppppppp         Penalty for hyphen in aaaadddd pppp mode.
            13       ....hhhhyyyypppppppp2222        Penalty for consecutive hyphens in aaaadddd pppp mode.
            13       ....hhhhyyyypppppppp3333        Penalty for hyphenating the last word of a paragraph in aaaadddd pppp mode.
            11.1     ....HHHH            Available horizontal resolution in basic units.
             6       ....iiii            Current indent as set by iiiinnnn.
             6       ....iiiinnnn           Current indent including temporary indent, if any.
             4.2     ....iiiinnnntttt          Non‐zero if the previous line was interrupted with \\\\cccc.
             4       ....jjjj            Current aaaadddd mode.
             4.1     ....kkkk            Current output horizontal position.
             4.2     ....kkkkcccc           Output horizontal length of interrupted word, if any.
             6       ....llll            Current line length.
            14       ....lllltttt           Current title length.
             2.1     ....llllcccc____ccccttttyyyyppppeeee     Current LC_CTYPE locale [sic].
             4.1     ....lllleeeettttssssssss        Current dynamic letter space threshold.
            20       ....llllppppffffxxxx         Current line prefix [sic].
             4.1     ....llllsssshhhhmmmmiiiinnnn       Current minimum dynamic letter shape (may be a decimal fraction).
             4.1     ....llllsssshhhhmmmmaaaaxxxx       Current maximum dynamic letter shape (may be a decimal fraction).
             4.1     ....llllssssppppmmmmiiiinnnn       Current minimum dynamic letter space (may be a decimal fraction).


                                       ‐ 20 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


             4.1     ....llllssssppppmmmmaaaaxxxx       Current maximum dynamic letter space (may be a decimal fraction).
             5.1     ....LLLL            Current llllssss value.
             4.1     ....mmmmiiiinnnnssssssss        Current minimum space size.
             4       ....nnnn            Length of text portion on previous output line.
             5       ....nnnnssss           Non‐zero if no‐space mode is active.
            13       ....nnnnhhhhyyyycccchhhhaaaarrrr      Current hyphenation‐inhibiting characters.
             3       ....oooo            Current page offset.
             3       ....pppp            Current page length.
             4       ....ppppaaaaddddjjjj         Current paragraph‐at‐once global setting.
             3       ....ppppnnnn           Number of next page.
             2.3     ....ppppssss           Current point size in units.
             2.3     ....ppppssssrrrr          Last requested point size in units.
             4.1     ....rrrrjjjj           Remaining number of lines to be right‐aligned.
             2.3     ....ssss            Current point size (may be a decimal fraction).
            13       ....sssshhhhcccc          Current soft hyphenation character [sic].
             4.1     ....sssseeeennnnttttcccchhhhaaaarrrr     Current sentence‐ending characters [sic].
             2.3     ....ssssrrrr           Last requested point size (may be a decimal fraction).
             2       ....ssssssss           Current space size.
             2       ....ssssssssssss          Current sentence space size.
             9.1     ....SSSS            Current tab stops such that they can be passed back to ttttaaaa.
             7.5     ....tttt            Distance to the next trap.
             9.1     ....ttttaaaabbbbssss         Current tab stops such that they can be passed back to ttttaaaa.
             4.1     ....ttttrrrraaaannnnsssscccchhhhaaaarrrr    Current characters transparent for sentence‐ending [sic].
              –      ....TTTT            Set to 1 in _n_r_o_f_f, if ----TTTT option used; always 0 in _t_r_o_f_f.
             4.1     ....uuuu            Equal to 1 in fill mode and 0 in nofill mode.
             5.1     ....vvvv            Current vertical line spacing.
             7.5     ....vvvvpppptttt          Vertical position traps enabled (1) or disabled (0).
            11.1     ....VVVV            Available vertical resolution in basic units.
            11.2     ....wwww            Width of previous character.
            21       ....wwwwaaaarrrrnnnn         Currently activated warning categories.
             4.1     ....xxxx            Remaining horizontal space on current output line.*
             1.1     ....XXXX            Current extension level.
             6       ....yyyy            Current indent including temporary indent, if any.*
             7.4     ....zzzz            Name [sic] of current diversion.
             4.1     llllssssnnnn           Number of leading spaces of a input line in fill mode.
             4.1     llllssssssss           Horizontal space corresponding to a line with leading spaces in fill mode.














          ⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽
          ∗The ....xxxx  and  ....yyyy  registers  had  been  described  as  ‘‘reserved
          version‐dependent registers’’ in previous editions.  Their seman‐
          tics have actually been as described from 7th Edition _t_r_o_f_f on.


                                       ‐ 21 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016








                                  RRRREEEEFFFFEEEERRRREEEENNNNCCCCEEEE MMMMAAAANNNNUUUUAAAALLLL

          1111....  GGGGeeeennnneeeerrrraaaallll EEEExxxxppppllllaaaannnnaaaattttiiiioooonnnn
          _1._1._F_o_r_m _o_f _i_n_p_u_t. Input consists of _t_e_x_t _l_i_n_e_s, which  are  des‐
          tined  to  be printed, interspersed with _c_o_n_t_r_o_l _l_i_n_e_s, which set
          parameters or otherwise control subsequent  processing.   Control
          lines  begin  with  a  _c_o_n_t_r_o_l  _c_h_a_r_a_c_t_e_r—normally  .... (period) or
          ´´´´ (acute accent)—followed  by  a  name  that  specifies  a  basic
          _r_e_q_u_e_s_t  or  the substitution of a user‐defined _m_a_c_r_o in place of
          the control line.  The control character ´´´´ suppresses  the  _b_r_e_a_k
          function—the  forced  output of a partially filled line—caused by
          certain requests.  The control character may  be  separated  from
          the  request/macro  name  by white space (spaces and/or tabs) for
          esthetic reasons.  Names must be  followed  by  either  space  or
          newline.  Control lines with unrecognized names are ignored.
          Various special functions may be introduced anywhere in the input
          by  means  of  an  _e_s_c_a_p_e  character,  normally \\\\ .  For example,
          the function \\\\nnnn_R causes the interpolation of the contents of  the
          _n_u_m_b_e_r  _r_e_g_i_s_t_e_r  _R  in place of the function; here _R is either a
          single character name as in \\\\nnnn_x,  a  left‐parenthesis‐introduced,
          two‐character  name  as  in  \\\\nnnn((((_x_x, or a left‐bracket‐introduced,
          multiple character name as in \\\\nnnn[[[[_x_x_x].
          In traditional _t_r_o_f_f, only  one  and  two  character  names  were
          permitted  for  request, macro, string, number register, and font
          names.  Heirloom _t_r_o_f_f can accept  names  containing  a  (nearly)
          arbitrary  number  of ASCII characters.  Escape \\\\IIII'_s_t_r_i_n_g' can by
          used to test if _s_t_r_i_n_g is a valid identifier name.   By  default,
          request  and  macro  names  are still required to contain at most
          two characters for compatibility reasons.  The  ----xxxx  command  line
          option,  the  ddddoooo  request,  or  the xxxxffffllllaaaagggg request make the longer
          names available.  The current extension level is available in the
          ....XXXX register.
          Four levels of extension availability are currently defined:
          0 disables all extensions except for locale‐dependent  input  and
            Type 1/OpenType/TrueType font selection using ffffpppp.  Since the ddddoooo
            request is not available at this level, it is not  possible  to
            change  to another extension level again.  It is most useful to
            print unmaintained documents for which any  adaption  would  be
            too tedious.
          1 enables extensions except for  direct  access  to  long  names,
            i.e.,  ....aaaabbbbccccddddeeee  will  be interpreted as request aaaabbbb with argument
            ccccddddeeee, and \\\\****[[[[xxxxyyyyzzzz]]]] refers to the string named [[[[ followed  by  the
            text  xxxxyyyyzzzz]]]].   Long  names can be accessed using the ddddoooo request,
            e.g. ....ddddoooo ddddeeee aaaabbbbccccddddeeee,  ....ddddoooo  iiiiffff  1111  \\\\****[[[[xxxxyyyyzzzz]]]].   This  level  is  the
            default.
          2 enables direct access to long names on request lines and escape
            sequences,  i.e.,  ....aaaabbbbccccddddeeee  will  be interpreted as macro aaaabbbbccccddddeeee,
            and \\\\****[[[[xxxxyyyyzzzz]]]] refers to the string named xxxxyyyyzzzz.   If  an  undefined


                                       ‐ 22 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


            long  name  is  read,  its first two characters are interpreted
            as a short request using the remaining characters as  argument.
            So  if  a  macro  aaaabbbbccccddddeeee is defined, ....aaaabbbbccccddddeeee will execute it, but
            otherwise, ....aaaabbbbccccddddeeee continues to execute aaaabbbb.  String  and  number
            register  references  are only interpreted if they start in the
            first two characters of a name, i.e. no  string  interpretation
            is performed on input ....aaaabbbb\\\\****((((xxxxyyyy.
          3 ignores undefined long requests even  if  they  form  a  prefix
            of  a  short request, and interprets string and number register
            references in any position of a name.
          It is recommended to execute ....ddddoooo xxxxffffllllaaaagggg 3333 at the beginning of  new
          _t_r_o_f_f programs that need not rely on any existing code.
          _1._2._F_o_r_m_a_t_t_e_r _a_n_d _d_e_v_i_c_e _r_e_s_o_l_u_t_i_o_n. _t_r_o_f_f internally stores  and
          processes  dimensions  in units that correspond to the particular
          device for which  output  is  being  prepared;  values  from  300
          to  72000/inch  are  typical.   See  §27.   _n_r_o_f_f internally uses
          240 units/inch, corresponding to the  least  common  multiple  of
          the  horizontal  and  vertical resolutions of various typewriter‐
          like output devices.  _t_r_o_f_f rounds horizontal/vertical  numerical
          parameter  input  to the actual horizontal/vertical resolution of
          the output device indicated by the ----TTTT option (default ppppssss).  _n_r_o_f_f
          similarly  rounds  numerical  input  to  the actual resolution of
          the output device indicated by the −−−−TTTT option  (default  Model  37
          Teletype).
          _1._3._N_u_m_e_r_i_c_a_l _p_a_r_a_m_e_t_e_r _i_n_p_u_t. Both _n_r_o_f_f and _t_r_o_f_f accept numer‐
          ical  input  with  the  appended  scale  indicators  shown in the
          following table, where _S is the current type size  in  points,  _V
          is  the  current vertical line spacing in basic units, and _C is a
          _n_o_m_i_n_a_l _c_h_a_r_a_c_t_e_r _w_i_d_t_h in basic units.



























                                       ‐ 23 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          ─┌───────────┬──────────────────────┬────────────────────────────────┐
          │  Scale   │                     │ Number of basic units          │
          │Indicator │       Meaning       │ _t_r_o_f_f -_T_p_s       _n_r_o_f_f         │
          ─├───────────┼──────────────────────┼─────────────────┬───────────────┤
          │    iiii     │ Inch                │ 72000          │ 240           │
          │    cccc     │ Centimeter          │ 72000×50/127   │ 240×50/127    │
          │    PPPP     │ Pica = 1/6 inch     │ 12000          │ 240/6         │
          │    mmmm     │ Em = _S points       │ _S              │ _C             │
          │    nnnn     │ En = Em/2           │ _S/2            │ _C, _s_a_m_e _a_s _E_m │
          │    MMMM     │ 1/100 Em            │ _S/100          │ _C/100         │
          │   pppp,zzzz    │ Point = 1/72 inch   │ 1000           │ 240/72        │
          │   uuuu,ssss    │ Basic unit          │ 1              │ 1             │
          │    tttt     │ Printer’s point     │ 72000×100/7227 │ 240×100/7227  │
          │    TTTT     │ Printer’s pica      │ 72000×400/2409 │ 240×400/2409  │
          │    DDDD     │ Didot point         │ 72000×24/1621  │ 240×24/1621   │
          │    CCCC     │ Cicero              │ 72000×288/1621 │ 240×288/1621  │
          │    vvvv     │ Vertical line space │ _V              │ _V             │
          │  none    │ Default, see below  │                │               │
          ─└───────────┴──────────────────────┴─────────────────┴───────────────┘

          In _n_r_o_f_f, _b_o_t_h the em and the en are taken to  be  equal  to  the
          _C,  which  is output‐device dependent; common values are 1/10 and
          1/12 inch.  Actual character widths in _n_r_o_f_f need not be all  the
          same  and  constructed  characters such as −> (→) are often extra
          wide.  The default scaling is  mmmm  for  the  horizontally‐oriented
          requests  and  functions  llllllll, iiiinnnn, ttttiiii, ttttaaaa, lllltttt, ppppoooo, mmmmcccc, sssspppprrrreeeeaaaaddddwwwwaaaarrrrnnnn,
          \\\\hhhh, \\\\llll, and horizontal coordinates of \\\\DDDD; vvvv for  the  vertically‐
          oriented  requests  and  functions  ppppllll,  wwwwhhhh,  cccchhhh, ddddtttt, sssspppp, ssssvvvv, nnnneeee,
          rrrrtttt, \\\\vvvv, \\\\xxxx, \\\\LLLL, and vertical coordinates of \\\\DDDD;  pppp  for  the  vvvvssss,
          ppppaaaappppeeeerrrrssssiiiizzzzeeee,  mmmmeeeeddddiiiiaaaassssiiiizzzzeeee,  ttttrrrriiiimmmmaaaatttt, bbbblllleeeeeeeeddddaaaatttt, and ccccrrrrooooppppaaaatttt requests; and
          uuuu for the requests nnnnrrrr, nnnnrrrrffff,  iiiiffff,  and  iiiieeee.   _A_l_l  other  requests
          ignore  any  scale indicators.  When a number register containing
          an already appropriately scaled number is interpolated to provide
          numerical  input,  the  unit  scale  indicator  uuuu  may need to be
          appended to prevent an additional inappropriate default  scaling.
          The  number, _N, may be specified in decimal‐fraction form but the
          parameter finally stored is rounded to an integer number of basic
          units,  except for floating‐point computations with nnnnrrrrffff and iiiiffff ffff.
          Exponential notation as in ‘1eeee++++9’ or ‘1eeee----10’ is supported.
          The _a_b_s_o_l_u_t_e _p_o_s_i_t_i_o_n indicator |||| may be prepended to a number  _N
          to  generate  the distance to the vertical or horizontal place _N.
          For vertically‐oriented requests and functions,  ||||_N  becomes  the
          distance  in  basic  units from the current vertical place on the
          page or in a _d_i_v_e_r_s_i_o_n (§7.4) to the the vertical place  _N.   For
          _a_l_l  other  requests  and functions, ||||_N becomes the distance from
          the current horizontal place on the _i_n_p_u_t line to the  horizontal
          place _N.  For example,
               ....sssspppp  ||||3333....2222cccc
          will space _i_n _t_h_e _r_e_q_u_i_r_e_d _d_i_r_e_c_t_i_o_n to 3.2centimeters  from  the
          top of the page.
          _1._4._N_u_m_e_r_i_c_a_l _e_x_p_r_e_s_s_i_o_n_s. Wherever numerical input  is  expected
          an  expression involving parentheses, the arithmetic operators ++++,
          −−−−, ////, ∗∗∗∗, %%%% (mod), the logical operators <<<<, >>>>, <<<<====, >>>>====, ==== (or  ========),
          <<<<>>>>  (not equal), &&&& (and), :::: (or), and the functions _a<<<<????_b (minimum


                                       ‐ 24 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          of _a and _b), _a>>>>????_b (maximum of  _a  and  _b),  and  ((((_c;;;;_e))))  (evaluate
          the  expression _e using _c as default scale indicator, or ignoring
          scaling indicators if _c is omitted) may be  used.   Except  where
          controlled  by parentheses, evaluation of expressions is left‐to‐
          right; there is no operator precedence.  Spaces  are  ignored  if
          they  occur  within  parentheses; any other non‐numeric character
          terminates the expression.  In the case of certain  requests,  an
          initial  ++++  or  −−−−  is stripped and interpreted as an increment or
          decrement indicator respectively.  In  the  presence  of  default
          scaling,  the  desired  scale indicator must be attached to _e_v_e_r_y
          number in an expression for which the desired and default scaling
          differ.  For example, if the number register xxxx contains 2 and the
          current point size is 10, then
               ....llllllll  ((((4444....22225555iiii++++\\\\nnnnxxxxPPPP++++3333))))////2222uuuu
          will set the line length to 1/2 the sum of 4.25 inches + 2  picas
          + 30 points.
          The \\\\BBBB’_s_t_r_i_n_g’ escape sequence checks whether _s_t_r_i_n_g is  a  valid
          numerical  expression  and  evaluates  to ‘‘1’’ if it does and to
          ‘‘0’’ otherwise.
          _1._5._N_o_t_a_t_i_o_n. Numerical parameters are indicated in  this  manual
          in  two  ways.   ±_N  means  that  the argument may take the forms
          _N, +_N, or −_N and that the corresponding  effect  is  to  set  the
          affected parameter to _N, to increment it by _N, or to decrement it
          by _N respectively.  Plain _N means that an initial algebraic  sign
          is  _n_o_t an increment indicator, but merely the sign of _N.  Gener‐
          ally, unreasonable numerical input is either ignored or truncated
          to  a reasonable value.  For example, most requests expect to set
          parameters to non‐negative values; exceptions are sssspppp, wwwwhhhh, cccchhhh, nnnnrrrr,
          and  iiiiffff.  The requests ppppssss, fffftttt, ppppoooo, vvvvssss, llllssss, llllllll, iiiinnnn, and lllltttt restore
          the _p_r_e_v_i_o_u_s parameter value in the _a_b_s_e_n_c_e of an argument.
          Single character arguments are indicated  by  single  lower  case
          letters  and  one/two character arguments are indicated by a pair
          of lower case letters.  Character string arguments are  indicated
          by multi‐character mnemonics.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ddddoooo _n_a_m_e                ignored–Execute the request or macro _n_a_m_e
                                       in extension level 3 and restore the
                                       previous level afterwards.
          ....xxxxffffllllaaaagggg _N        1       ignored–Set the  extension  level  perma‐
                                       nently to _N.
          2222....  FFFFoooonnnntttt aaaannnndddd CCCChhhhaaaarrrraaaacccctttteeeerrrr SSSSiiiizzzzeeee CCCCoooonnnnttttrrrroooollll
          _2._1._C_h_a_r_a_c_t_e_r _s_e_t. The basic _t_r_o_f_f character set  is  defined  by
          a  description  file specific to each output device (§27).  There
          are normally several  regular  fonts  and  one  or  more  special
          fonts.  The basic character set is shown in the attached Table I.
          All ASCII characters are  included,  with  some  on  the  Special
          Font.   With  three exceptions, the ASCII characters are input as
          themselves, and non‐ASCII characters are input in the  form  \\\\((((_x_x
          where  _x_x is a two‐character name given in the attached Table II.
          The three ASCII exceptions are mapped as follows:





                                       ‐ 25 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                ─┌──────────────────────────┬─────────────────────────┐
                │      ASCII Input        │    Printed by _t_r_o_f_f     │
                │Character       Name     │ Character      Name     │
                ─├──────────────────────────┼─────────────────────────┤
                │    ´       acute accent │     ’       close quote │
                │    `       grave accent │     ‘       open quote  │
                │    −       minus        │     –       hyphen      │
                ─└──────────────────────────┴─────────────────────────┘

          The characters ´´´´, ````, and ----  may  be  input  by  \\\\´´´´,  \\\\````,  and  \\\\----
          respectively  or by their names (Table II).  The characters \\\\ and
          """" can also be referred to as \\\\((((rrrrssss and  \\\\((((ddddqqqq,  respectively;  this
          form  allows to completely avoid their interpretation as argument
          delimiter or escape character.  In traditional _t_r_o_f_f,, the  ASCII
          characters @@@@, ####, """", ´´´´, ````, <<<<, >>>>, \\\\, {{{{, }}}}, ~~~~, ^^^^, and ____ existed only
          on the Special Font and were printed as a 1‐em space if that Font
          was  not  mounted.  With the ppppsssslllloooowwww device, these characters print
          in the _T_i_m_e_s font by default regardless of the current font  (but
          see the ffffppppssss request below).  With other devices, these characters
          are taken from the current font.
          With Type 1, OpenType, and TrueType fonts, _t_r_o_f_f allows to access
          all  named PostScript characters of the current font and of those
          in the ffffaaaallllllllbbbbaaaacccckkkk sequence in the forms \\\\[[[[_n_a_m_e]]]] or \\\\CCCC''''_n_a_m_e''''.
          _t_r_o_f_f internally converts non‐ASCII  characters  of  the  current
          LC_CTYPE locale to named PostScript characters once they are read
          in regular (not _c_o_p_y) mode.  If the current font is  an  OpenType
          or  a  TrueType font and contains a custom Unicode mapping table,
          the input character is looked up in that table first.  Otherwise,
          a  default table is used.  A character that is not present in the
          current font is searched using the ffffaaaallllllllbbbbaaaacccckkkk sequence first,  then
          in  the  special  fonts.  If the character cannot be found, it is
          discarded.  Characters for which no name is known are replaced by
          spaces.
          The \\\\NNNN''''_n'''' escape sequence  has  historically  been  available  to
          refer  to character _n of the current font.  It is still accepted,
          but its use is discouraged with Type 1,  OpenType,  and  TrueType
          fonts  since  the  arrangement  of  character  in  font tables is
          performed at run‐time and may  change  with  future  versions  of
          _t_r_o_f_f.   When  register  ....gggg is set to 1111 8‐bit character codes can
          also be accessed with \\\\[[[[cccchhhhaaaarrrr_n]]]] where 32≤_n≤255.
          _n_r_o_f_f has an analogous, but different, mechanism for defining le‐
          gal  characters and how to print them.  By default all characters
          are valid.  There are such additional characters as may be avail‐
          able  on  the output device, such characters as may be able to be
          constructed by overstriking or other combination, and those  that
          can  reasonably  be  mapped into other printable characters.  The
          exact behavior is determined by a driving table prepared for each
          device.   In  a UTF‐8 locale, combining characters are processed.
          The characters ´´´´, ````, and ____ print as themselves.
          Both _n_r_o_f_f and _t_r_o_f_f allow references to specific Unicode charac‐
          ters  with  the \\\\UUUU''''_X'''' escape sequence; it causes the character at
          position U+_X to be printed (_X  is  a  hexadecimal  number).   For
          _t_r_o_f_f,  it is required that this character is available in one of
          the fonts mounted at this point.  As an example, \U'20AC'  prints


                                       ‐ 26 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          the  Euro  character  €.   When  register  ....gggg is set to 1111 Unicode
          charactes can also be accessed with \\\\[[[[uuuu_X_X_X_X]]]] where _X_X_X_X is a four
          digit hexadecimal number.
          _2._2._F_o_n_t_s. _t_r_o_f_f begins execution by reading  information  for  a
          set  of  defaults  fonts, said to be _m_o_u_n_t_e_d; conventionally, the
          first four are Times Roman (RRRR),  Times  Italic  (IIII),  Times  Bold
          (BBBB),  and  Times Bold Italic (BBBBIIII), and the last is a Special font
          (SSSS) containing miscellaneous characters.  The set  of  fonts  and
          positions is determined by the device description file, described
          in §27.
          The _c_u_r_r_e_n_t font, initially Roman,  may  be  changed  (among  the
          mounted  fonts)  by use of the fffftttt request, or by imbedding at any
          desired point either \\\\ffff_x, \\\\ffff((((_x_x, \\\\ffff[[[[_x_x_x]]]], or \\\\ffff_N where _x, _x_x, and
          _x_x_x  are  the  name  of  a mounted font and _N is a numerical font
          position.
          It is _n_o_t necessary to change to the Special font; characters  on
          that  font  are  automatically handled as if they were physically
          part of the current font.   The  Special  font  may  actually  be
          several  fonts;  the name SSSS is reserved and is generally used for
          one of these.  The ffffaaaallllllllbbbbaaaacccckkkk request sets a font‐specific sequence
          of additional fonts that are searched for missing characters.
          _t_r_o_f_f can be informed that any particular font is mounted by  use
          of  the  ffffpppp request.  The list of known fonts is installation de‐
          pendent.  In the subsequent discussion of font‐related  requests,
          _F  represents either a one/two‐character font name or the numeri‐
          cal font position.  The current font is available  (as  numerical
          position)  in  the read‐only number register ....ffff; the ....ffffpppp register
          holds the next unused position.
          A request for a named but not‐mounted  font  is  honored  if  the
          font  description  information  exists.  In this way, there is no
          limit on the number of fonts that may  be  printed  in  any  part
          of  a  document.   Mounted fonts may be handled more efficiently,
          and they may be referred to by their mount positions,  but  there
          is  no  other  difference.  Mention of an unmounted font loads it
          temporarily at font position zero, which  serves  as  a  one‐font
          cache.
          The function \\\\SSSS’±_N’ causes the current font to be slanted  by  ±_N
          degrees.  Not all devices support slanting.
          _n_r_o_f_f understands font control  and  normally  underlines  Italic
          characters (see §10.5).
          _2._3._C_h_a_r_a_c_t_e_r _s_i_z_e. Character point sizes available depend on the
          specific  output  device; a typical (historical) set of values is
          6, 7, 8, 9, 10, 11, 12, 14, 16, 18,  20,  22,  24,  28,  and  36.
          This  is a range of 1/12 inch to 1/2 inch.  Modern output devices
          such as the default ddddeeeevvvvppppssss usually allow the point size to be  set
          to arbitrary values, including fractional points.  The ppppssss request
          is used to change or restore the point size.   Alternatively  the
          point size may be changed between any two characters by imbedding
          a \\\\ssss_N at the desired point to set  the  size  to  _N,  or  a  \\\\ssss±_N
          (1≤_N≤8)  to  increment/decrement  the size by _N; \\\\ssss0000 restores the
          _p_r_e_v_i_o_u_s size.  On historical  output  devices,  requested  point
          size  values  that are between two valid sizes yielded the larger
          of the two.
          Note that through an accident of  history,  a  construction  like


                                       ‐ 27 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          \\\\ssss33339999  is  parsed as size 39, and thus converted to size 36 (given
          the sizes above), while \\\\ssss44440000 is parsed as size 4 followed  by  0000.
          The  forms  \\\\ssss((((_n_n, \\\\ssss±±±±((((_n_n, \\\\ssss´´´´±_n_n´´´´, \\\\ssss±´´´´_n_n´´´´, \\\\ssss[[[[±_n_n]]]], and \\\\ssss±[[[[_n_n]]]]
          permit specification of sizes that would otherwise be ambiguous.
          The current size (in points) is available  in  the  ....ssss  register.
          Note  that  this  may  be a decimal fraction if the current point
          size is not an integer.  The ....ppppssss register stores the current size
          in  units.   The ....ssssrrrr and ....ppppssssrrrr registers store the requested point
          size in points and units, respectively; it is  identical  to  the
          current  size  on modern output devices.  _n_r_o_f_f ignores type size
          control.
          The function \\\\HHHH´±_N’ sets the height of the current font to _N,  or
          increments  it  by +_N, or decrements it by -_N; if _N=0, the height
          is restored to the current point size.  In each case,  the  width
          is  unchanged.   Not  all  devices support independent height and
          width for characters.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....llllcccc____ccccttttyyyyppppeeee _n_a_m_e  ignored –    Set the  LC_CTYPE  locale  to  _n_a_m_e.
                                       The  default  is  the  value  of the
                                       LC_CTYPE environment variable.  This
                                       request  is  useful  to  specify  an
                                       input character  set  regardless  of
                                       environment influences.  The current
                                       value is available in the  ....llllcccc____ccccttttyyyyppppeeee
                                       number register.
          ....ppppssss ±_N  10point previous     E,ppppPoint size set to  ±_N.   Alterna‐
                                       tively  imbed  \\\\ssss_N,  \\\\ssss±_N, or \\\\ssss´´´´_N´´´´.
                                       Any  positive  size  value  may   be
                                       requested  on  modern  devices.   If
                                       invalid, the next larger valid  size
                                       will  result on traditional devices,
                                       with a  maximum  of  36.   A  paired
                                       sequence +_N,−_N will work because the
                                       previous requested value is also re‐
                                       membered.  Ignored in _n_r_o_f_f.
          ....ffffzzzzoooooooommmm _F _Z      1       ignoredP,TZoom font _F by factor _Z,  which
                                       is a positive floating point number.
                                       This request is useful for adjusting
                                       fonts  with  different  visual sizes
                                       but identical  nominal  points;  the
                                       zoom  is thus not applied to charac‐
                                       ters from  another  font  that  have
                                       been  found by the ffffaaaallllllllbbbbaaaacccckkkk sequence
                                       or by the  special  font  mechanism.
                                       The  current  value  of  the current
                                       font is available in the ....ffffzzzzoooooooommmm num‐
                                       ber register.
          ....ssssssss _N [_M]       12/36m  ignoredE,TSpace‐character size is set  to
                                       _N/36ems.   This  size  is  the mini‐
                                       mum word spacing in  adjusted  text.
                                       The  optional  second  argument sets
                                       the  space  that  is  added  between
                                       sentences  to  _M/36ems.   Ignored in


                                       ‐ 28 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       _n_r_o_f_f.  The number registers ....ssssssss and
                                       ....ssssssssssss contain the current values of _N
                                       and _M, respectively.
          ....ccccssss_F_N_M  off     –       P    Constant  character  space   (width)
                                       mode is set on for font _F (if mount‐
                                       ed); the width  of  every  character
                                       will  be  taken  to be _N/36 ems.  If
                                       _M is  absent,  the  em  is  that  of
                                       the  character’s  point  size;  if _M
                                       is given, the em is  _M‐points.   All
                                       affected  characters are centered in
                                       this space, including those with  an
                                       actual width larger than this space.
                                       Special  Font  characters  occurring
                                       while the current font is _F are also
                                       so treated.  If  _N  is  absent,  the
                                       mode  is  turned off.  The mode must
                                       be still or again in effect when the
                                       characters  are  physically printed.
                                       Ignored in _n_r_o_f_f.
          ....bbbbdddd _F _N off     –       P    The characters in  font  _F  will  be
                                       artificially  emboldened by printing
                                       each one twice, separated by _N−1 ba‐
                                       sic units.  A reasonable value for _N
                                       is 3 when the character size  is  in
                                       the  vicinity of 10 points.  If _N is
                                       missing the embolden mode is  turned
                                       off.   The emboldening value _N is in
                                       the ....bbbb register.
                                       TTTThhhhiiiissss ppppaaaarrrraaaaggggrrrraaaapppphhhh iiiissss pppprrrriiiinnnntttteeeedddd  wwwwiiiitttthhhh  ...._b_d
                                       _R  _3....   TTTThhhheeee  mmmmooooddddeeee  mmmmuuuusssstttt  bbbbeeee ssssttttiiiillllllll oooorrrr
                                       aaaaggggaaaaiiiinnnn iiiinnnn eeeeffffffffeeeecccctttt wwwwhhhheeeennnn tttthhhheeee  cccchhhhaaaarrrraaaacccctttteeeerrrrssss
                                       aaaarrrreeee  pppphhhhyyyyssssiiiiccccaaaallllllllyyyy pppprrrriiiinnnntttteeeedddd....  IIIIggggnnnnoooorrrreeeedddd iiiinnnn
                                       _n_r_o_f_f....
          ....bbbbdddd SSSS _F _N       off     –    P The characters in the Special Font
                                       will be emboldened whenever the cur‐
                                       rent font is _F.  The  mode  must  be
                                       still  or  again  in effect when the
                                       characters are physically printed.
          ....fffftttt _F   Roman   previous     E Font changed to _F.  Alternatively,
                                       imbed  \\\\ffff_F.   The  font  name  PPPP  is
                                       reserved to mean the previous  font,
                                       and the name SSSS for the special font.
          ....ffffpppp _N _F [_f_i_l_e [_s_u_p_p_l_y]] ignoredPFont position.  This is a  state‐
                                       ment  that a font named _F is mounted
                                       on position _N.  With two  arguments,
                                       it  is  a  fatal  error  if _F is not
                                       known as a legacy  _t_r_o_f_f  font  file
                                       (§27.2).
                                       With three or more  arguments,  font
                                       metrics  are  read  from  the  given
                                       _f_i_l_e, which must be in Type 1, Open‐
                                       Type,  or  TrueType  format.  If the
                                       TTTTRRRROOOOFFFFFFFFOOOONNNNTTTTSSSS  environment  variable  is


                                       ‐ 29 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       set, each of the colon‐separated di‐
                                       rectories in it is  tested  for  the
                                       files  _f_i_l_e._a_f_m, _f_i_l_e._o_t_f, _f_i_l_e._t_t_f,
                                       or, if  the  _f_i_l_e  argument  has  an
                                       ....aaaaffffmmmm,  ....oooottttffff,  or  ....ttttttttffff extension it‐
                                       self,  for  _f_i_l_e.   Otherwise,   the
                                       font   is   loaded   from  the  file
                                       ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////ffffoooonnnntttt////ddddeeeevvvvppppssss////_f_i_l_e....aaaaffffmmmm.
                                       The _N argument specifies a  register
                                       on  which  the font is to be mounted
                                       (1≤_N≤255).  If it is zero, the  font
                                       is mounted on the next free position
                                       (not on position zero).  At most 255
                                       fonts may be mounted simultaneously;
                                       it is possible to use more than  255
                                       fonts  in a document by reusing font
                                       registers.
                                       The font is then available with  ....fffftttt
                                       FFFF,   \\\\ffffFFFF,  etc.   FFFF  may  be  freely
                                       chosen, and may consist of more than
                                       two characters.
                                       _F may be the name  of  a  previously
                                       mounted  font,  such  as RRRR.  In this
                                       case, the same _N  register  must  be
                                       reused.  For best compatibility with
                                       conventional _t_r_o_f_f usage, it is rec‐
                                       ommended  that  the  base  fonts  of
                                       a document are mounted  as  ‘‘1 R’’,
                                       ‘‘2 I’’,   ‘‘3 B’’,  ‘‘4 BI’’.   The
                                       initial fonts on  positions  9  (SSSS1111)
                                       and  10  (SSSS)  should not be changed,
                                       as they contain special metrics  for
                                       drawing commands.
                                       If the optional _s_u_p_p_l_y  argument  is
                                       present,  glyph  data is included in
                                       the generated PostScript  file.   If
                                       _s_u_p_p_l_y  is  one  of  oooottttffff,  ppppffffbbbb, ppppffffaaaa,
                                       ttttttttffff, or  tttt44442222,  the  file  _s_u_p_p_l_y._p_f_b
                                       (or  likewise)  is  searched  in the
                                       directories in  TTTTRRRROOOOFFFFFFFFOOOONNNNTTTTSSSS  first  as
                                       described  for  the  AFM file above,
                                       and if it is  not  found  there,  in
                                       ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////ffffoooonnnntttt////ddddeeeevvvvppppssss////_s_u_p_p_l_y....ppppffffbbbb
                                       (or likewise).  _s_u_p_p_l_y may  also  be
                                       the  basename  of  a  file like _f_i_l_e
                                       above.
                                       The _f_i_l_e_n_a_m_e may  be  surrounded  by
                                       double‐quotes   to  permit  imbedded
                                       space characters.
          ....ffffppppssss _m_a_p ...            ignoredP,TMount a  font  with  a  special
                                       character  map.   By  default,  spe‐
                                       cial characters like  \\\\((((∗∗∗∗aaaa  are  not
                                       assigned  when  a  font  is  mounted
                                       even if a matching named  PostScript


                                       ‐ 30 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       character (like \\\\[[[[aaaallllpppphhhhaaaa]]]]) would have
                                       been available.  The following  spe‐
                                       cial character maps exist:
                                       mmmmaaaatttthhhh    mathematical characters like
                                       ≤ ∪ → ∞
                                       ggggrrrreeeeeeeekkkk   greek characters like α β  γ
                                       Α Β Γ
                                       ppppuuuunnnncccctttt   the characters \(or - \`  \´
                                       " # < > @ \ ^ |
                                       llllaaaarrrrggggeeee   parts  of  large  characters
                                       like ⌉ ⎬ ⎩ ⎨
                                       The ppppuuuunnnncccctttt map is used by default for
                                       the ppppssss and ppppssssmmmmeeeedddd devices.
                                       The remaining arguments are  handled
                                       as described for ffffpppp.
          ....ffffeeeeaaaattttuuuurrrreeee _F ±_n_a_m_e ...    ignoredP,TEnable  (+)  or   disable   (-)
                                       the  OpenType  feature  _n_a_m_e in font
                                       _F.  Only OpenType features that  re‐
                                       sult  in context‐insensitive single‐
                                       character substitutions are support‐
                                       ed.   Typical  features  are oooonnnnuuuummmm to
                                       enable old‐style numerals,  or  ssssmmmmccccpppp
                                       to enable small capitals.
          ....ffffaaaallllllllbbbbaaaacccckkkk _F _A _B ...     ignoredP,TSelect  the  fallback  sequence
                                       for  font _F.  If the current font is
                                       _F and a character is not found, font
                                       _A  is  searched  first, then font _B,
                                       etc.  If the character still has not
                                       been  found,  it  is searched for in
                                       the Special Font, then in the  fonts
                                       mounted  at  positions  0, 1, and so
                                       forth.
          ....hhhhiiiiddddeeeecccchhhhaaaarrrr _F _c _d ...     ignoredP,THide the characters _c, _d,  etc.
                                       from  font  F.   If  the  characters
                                       appear in input afterwards, they are
                                       searched  in  other  fonts using the
                                       fallback sequence.  This  is  useful
                                       e.g. for combining characters from a
                                       regular and a Type 1 expert font.
          ....ssssppppaaaacccceeeewwwwiiiiddddtttthhhh _N   on      O,T  If _N≠0, use  the  space  width  from
                                       the  font  metrics  file.  The space
                                       width otherwise  defaults  to  1/3em
                                       for   variable‐width  fonts,  or  to
                                       the width  of  the  ssssppppaaaacccceeee  character
                                       for  monospaced  fonts.   With  this
                                       request, the space width is  set  to
                                       the  width of the ssssppppaaaacccceeee character as
                                       obtained from the font metrics  file
                                       for variable‐width fonts too.
          ....ffffssssppppaaaacccceeeewwwwiiiiddddtttthhhh _F [_N]      ignoredO,TSet  the  width  of  the  space
                                       character  in  font _F to _N, which is
                                       given in units of 1/72000 of an inch
                                       multiplied by the current point size
                                       or 1/1000 of an em (as in AFM  kern‐


                                       ‐ 31 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       ing  pair definitions).  If only one
                                       argument is present, the space width
                                       is  set  to  the  width of the ssssppppaaaacccceeee
                                       character as obtained from the  font
                                       metrics file.
                                       When the width of spaces  in  output
                                       is actually computed, the space size
                                       as set by  ssssssss  is  also  taken  into
                                       account.  The space width as defined
                                       above is used directly with ....ssssssss  11112222,
                                       which  is  the  default.  Otherwise,
                                       it is multiplied by the  ssssssss  setting
                                       divided by 12.
          3333....  PPPPaaaaggggeeee ccccoooonnnnttttrrrroooollll
          Top and bottom margins are  _n_o_t  automatically  provided;  it  is
          conventional  to  define  two _m_a_c_r_o_s and to set _t_r_a_p_s for them at
          vertical positions 0 (top) and −_N (_N from the  bottom).   See  §7
          and  Tutorial  Examples  §T2.   A pseudo‐page transition onto the
          _f_i_r_s_t page occurs either when the first _b_r_e_a_k occurs or when  the
          first  _n_o_n‐_d_i_v_e_r_t_e_d  text  processing occurs.  Arrangements for a
          trap to occur at the top of the  first  page  must  be  completed
          before  this  transition.   In  the  following, references to the
          _c_u_r_r_e_n_t _d_i_v_e_r_s_i_o_n (§7.4) mean that the mechanism being  described
          works  during  both  ordinary  and  diverted  output  (the former
          considered as the top diversion level).
          The physical limitations on _t_r_o_f_f and  _n_r_o_f_f  output  are  device
          dependent.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ppppllll ±_N  11in    11in    vvvv    Page length set to ±_N.  The  current
                                       page  length  is available in the ....pppp
                                       register.
          ....ppppaaaappppeeeerrrrssssiiiizzzzeeee _m_e_d_i_a        ignoredT,uuuuSet the paper size.  _m_e_d_i_a  can
                                       be  one of eeeexxxxeeeeccccuuuuttttiiiivvvveeee, lllleeeetttttttteeeerrrr, lllleeeeggggaaaallll,
                                       lllleeeeddddggggeeeerrrr, ttttaaaabbbbllllooooiiiidddd, aaaa_N, bbbb_N, cccc_N, or  two
                                       numbers  giving the width and height
                                       directly.  The page  length  is  set
                                       from these parameters, the page off‐
                                       set and  line  length  are  adjusted
                                       as  needed,  and  the post‐processor
                                       is informed about the  page  metrics
                                       for  its internal calculations.  The
                                       last action is the real  reason  why
                                       this  request  exists;  without  it,
                                       PostScript printers may displace the
                                       pages  of the document.  The default
                                       are lllleeeetttttttteeeerrrr measurements.   This  re‐
                                       quest  should  be  used  early  in a
                                       document; if it  is  given  multiple
                                       times,  the  last one will setup the
                                       device.
          ....mmmmeeeeddddiiiiaaaassssiiiizzzzeeee _m_e_d_i_a        ignoredT,uuuuSet the device media size.  _m_e_‐
                                       _d_i_a can be one of eeeexxxxeeeeccccuuuuttttiiiivvvveeee, lllleeeetttttttteeeerrrr,
                                       lllleeeeggggaaaallll, lllleeeeddddggggeeeerrrr, ttttaaaabbbbllllooooiiiidddd, aaaa_N, bbbb_N,  cccc_N,


                                       ‐ 32 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       or  two numbers giving the width and
                                       height directly.  This request  per‐
                                       forms  the same actions as ppppaaaappppeeeerrrrssssiiiizzzzeeee
                                       and generates a device setup command
                                       in  addition  (the  PostScript Level
                                       2  operator  sssseeeettttppppaaaaggggeeeeddddeeeevvvviiiicccceeee  as  well
                                       as  the DSC comment %%%%%%%%DDDDooooccccuuuummmmeeeennnnttttMMMMeeeeddddiiiiaaaa::::
                                       with _d_p_o_s_t).   The  effect  of  this
                                       command  can  be  the selection of a
                                       matching paper tray  on  a  printer;
                                       on  the other hand, the document may
                                       not print at all  if  no  such  tray
                                       is  available.   In  general,  it is
                                       recommended to use  printer‐specific
                                       options  from  a  PPD  file when the
                                       file  is  submitted  to  the   print
                                       spooling  system instead of this re‐
                                       quest.   However,  when   generating
                                       PostScript  as  intermediate  format
                                       with the intent of PDF creation, use
                                       of this request is recommended.
          ....ccccrrrrooooppppaaaatttt _L _T _W _H ignored T,pppp  Set the ‘‘CropBox’’  page  parameter
                                       for  PDF generation.  The four argu‐
                                       ments give the offset from the  left
                                       (_L)  and  top  (_T)  margins  of  the
                                       document (as set by mmmmeeeeddddiiiiaaaassssiiiizzzzeeee),  and
                                       width  (_W)  and  height  (_H)  of the
                                       box.  The default units are  points.
                                       The  CropBox  restricts  the area of
                                       the page that  is  shown  by  a  PDF
                                       viewer  program.   It  is  useful to
                                       hide cut marks  and  other  printing
                                       instructions when the same PDF docu‐
                                       ment is intended to be displayed  on
                                       screen.
          ....ttttrrrriiiimmmmaaaatttt _L _T _W _H ignored T,pppp  Set the ‘‘TrimBox’’  page  parameter
                                       for   PDF   generation  and  enables
                                       printing of marks when combined with
                                       _d_p_o_s_t -_M.   The  four arguments give
                                       the offset from  the  left  (_L)  and
                                       top  (_T) margins of the document (as
                                       set by mmmmeeeeddddiiiiaaaassssiiiizzzzeeee), and width (_W) and
                                       height  (_H) of the box.  The default
                                       units are points.  The TrimBox spec‐
                                       ifies  how  the  page  is  to be cut
                                       after it has  been  printed;  it  is
                                       sort of an electronic equivalent for
                                       cut marks (which should continue  to
                                       be printed in addition).
          ....bbbblllleeeeeeeeddddaaaatttt _L _T _W _H        ignoredT,ppppSet the ‘‘BleedBox’’  page  pa‐
                                       rameter  for  PDF  generation.   The
                                       four arguments give the offset  from
                                       the  left (_L) and top (_T) margins of
                                       the document (as set by  mmmmeeeeddddiiiiaaaassssiiiizzzzeeee),


                                       ‐ 33 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       and  width (_W) and height (_H) of the
                                       box.  The default units are  points.
                                       The  BleedBox should be defined as a
                                       a frame around the  objects  of  the
                                       actual  document including any bleed
                                       areas (i.e. content that should  ex‐
                                       tend to the end of the trimmed final
                                       page but is extended a bit  such  to
                                       work around possible cutting inaccu‐
                                       racies).  Cut marks, color bars, and
                                       other  information  for the printing
                                       office should be positioned  outside
                                       the BleedBox.
          ....bbbbpppp ±_N  _N=1     –       B    Begin page.   The  current  page  is
                                       ejected and a new page is begun.  If
                                       ±_N is given,  the  new  page  number
                                       will be ±_N.  Also see request nnnnssss.
          ....ppppnnnn ±_N  _N=1     ignored –    Page number.  The  next  page  (when
                                       it occurs) will have the page number
                                       ±_N.  A  ppppnnnn  must  occur  before  the
                                       initial  pseudo‐page  transition  to
                                       effect the page number of the  first
                                       page.  The current page number is in
                                       the %%%% register.  The number  of  the
                                       next  page  is  in the ....ppppnnnn register;
                                       this is either the value set  by  ppppnnnn
                                       or the current page number plus 1.
          ....ppppoooo ±_N  0;1i    previous     mmmm Page  offset.   The  current  _l_e_f_t
                                       _m_a_r_g_i_n  is  set  to  ±_N.   The _t_r_o_f_f
                                       initial value provides about  1 inch
                                       of paper margin on a typical device.
                                       The current page offset is available
                                       in the ....oooo register.
          ....nnnneeee _N   –       _N=1_V    D,vvvv  Need  _N  vertical  space.   If   the
                                       distance,  _D, to the next trap posi‐
                                       tion (see §7.5) is less  than  _N,  a
                                       forward  vertical  space  of  size _D
                                       occurs, which will spring the  trap.
                                       If  there  are no remaining traps on
                                       the  page,  _D  is  the  distance  to
                                       the bottom of the page.  If _D<_V, an‐
                                       other line could still be output and
                                       spring  the  trap.   In a diversion,
                                       _D is the distance to  the  _d_i_v_e_r_s_i_o_n
                                       _t_r_a_p, if any, or is very large.
          ....mmmmkkkk _R   none    internal     D Mark the  _c_u_r_r_e_n_t  vertical  place
                                       in  an internal register (both asso‐
                                       ciated with  the  current  diversion
                                       level),  or in register _R, if given.
                                       See rrrrtttt request.
          ....rrrrtttt ±_N  none    internal     D,vvvvReturn _u_p_w_a_r_d _o_n_l_y  to  a  marked
                                       vertical place in the current diver‐
                                       sion.  If ±_N (w.r.t. current  place)
                                       is  given,  the  place  is  ±_N  from


                                       ‐ 34 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       the top of  the  page  or  diversion
                                       or,  if  _N  is  absent,  to  a place
                                       marked  by  a  previous  mmmmkkkk.    Note
                                       that  the  sssspppp  request (§5.3) may be
                                       used in all cases instead of  rrrrtttt  by
                                       spacing to the absolute place stored
                                       in a explicit register;  e.g.  using
                                       the  sequence  ....mmmmkkkk _R  ... ....sssspppp ||||\\\\nnnn_Ruuuu;
                                       this also works when the  motion  is
                                       downwards.
          4444....  TTTTeeeexxxxtttt FFFFiiiilllllllliiiinnnngggg,,,, AAAAddddjjjjuuuussssttttiiiinnnngggg,,,, aaaannnndddd CCCCeeeennnntttteeeerrrriiiinnnngggg
          _4._1._F_i_l_l_i_n_g _a_n_d _a_d_j_u_s_t_i_n_g. Normally,  words  are  collected  from
          input  text  lines  and  assembled  into a output text line until
          some word does not fit.  An attempt is then  made  the  hyphenate
          the  word  in  effort  to  assemble  a part of it into the output
          line.  The spaces between the words on the output line  are  then
          increased to spread out the line to the current _l_i_n_e _l_e_n_g_t_h minus
          any current _i_n_d_e_n_t.  A _w_o_r_d is any string of characters delimited
          by  the  _s_p_a_c_e  character or the beginning/end of the input line.
          Any adjacent pair of words that must be  kept  together  (neither
          split across output lines nor spread apart in the adjustment pro‐
          cess) can be tied together by separating them with the _u_n_p_a_d_d_a_b_l_e
          _s_p_a_c_e  character  "\\\\  " (backslash‐space).  The paddable no‐break
          space character \\\\∼∼∼∼ keeps words on the same output line but may be
          spread during adjustment.  The adjusted word spacings are uniform
          in _t_r_o_f_f and the minimum  interword  spacing  can  be  controlled
          with  the  ssssssss request (§2).  In _n_r_o_f_f, word spacings are normally
          nonuniform because of quantization to character‐size spaces; how‐
          ever, the command line option ----eeee causes uniform spacing with full
          output device resolution.  Filling, adjustment,  and  hyphenation
          (§13) can all be prevented or controlled.  The _t_e_x_t _l_e_n_g_t_h on the
          last line output is available in the ....nnnn register, and text  base‐
          line  position  on  the page for this line is in the nnnnllll register.
          The text base‐line high‐water mark (lowest place) on the  current
          page is in the ....hhhh register.*
          The current horizontal output position is  in  the  ....kkkk  register.
          The  ....xxxx  register indicates the remaining horizontal space on the
          current output line.
          Text lines beginning with space characters and empty  text  lines
          (blank  lines)  cause a break.  The filling of the line currently
          being collected is stopped and the line is output without adjust‐
          ment.   The  ....bbbbllllmmmm  request can be used to redefine the processing
          of blank input lines.  With the ....llllssssmmmm request the effect of  lines
          beginning  with spaces is changed.  The read‐only number register
          llllssssnnnn contains the number of leading spaces.  The read‐only  number
          register  llllssssssss  contains the horizontal space which corresponds to
          the leading spaces.  Both registers are set also if ....llllssssmmmm  is  not
          used.
          _t_r_o_f_f can optionally decrease word spacings,  change  the  letter
          spacing,  and reshape letters when adjusting lines to fit on both
          margins.  The interword spacing controlled with  the  ssssssss  request
          is  then  understood as the optimum setting.  Words are collected
          ⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽
          ∗Local motions have no effect on register ....hhhh.


                                       ‐ 35 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          from input until the first word that would  require  to  condense
          spacing  or  letter  shapings is encountered.  Between the end of
          the previous word and the end of this  word,  hyphenation  points
          are  additionally examined until the two possibilities to end the
          line surrounding the optimum are found.  The point closest to the
          optimum  is then chosen.  If the word spacing so determined would
          fall below the minimum allowed, letter spacings and shapings  are
          condensed.   If it would exceed the threshold for expanded letter
          spacing and letter shaping, it is attempted to  compensate  until
          the  threshold is reached, up to the maximum allowed letter spac‐
          ing and letter shaping.  Remaining space is distributed among the
          word spacings.  Distribution among letter spacings and shaping is
          equal until one of the respective limits is reached.  Lines  that
          terminate  with  a  _b_r_e_a_k are normally set using the optimum word
          and line spacings unless the last word  collected  is  the  first
          word  that  falls  below the optimum spacing, which may result in
          condensed spacing and shaping.  The horizontal positions  in  the
          ....kkkk  and  ....xxxx registers are always computed using default character
          and spacing widths.
          As an alternative to adjusting one line at a time  as  described,
          _t_r_o_f_f  also  supports  adjusting  one paragraph at once.  In this
          mode, words are collected  from  input  lines  and  requests  are
          processed  until  a  _b_r_e_a_k occurs.  The words are then split into
          lines such that the interword spaces are closest to  the  optimum
          setting  across  the  entire paragraph.  Ultimately, the lines so
          determined are printed.  Traps, page breaks, and any  positioning
          become  effective  only  at  this time.  It is thus well possible
          that the current page number as read on the  input  line  in  the
          %%%%  register  is  lower  than  the number of the page on which the
          corresponding text is actually output.  Any reference to the page
          number or page position (e.g. writing an index entry) should thus
          be handled using the output‐line trap mechanism  instead  of  in‐
          line macros.  Likewise the ....kkkk and ....xxxx registers are not meaningful
          in this mode, except that ....kkkk is never zero when text  is  present
          in a partial paragraph.
          An input text line ending with ...., ????, !!!!, or ::::, optionally followed
          by any number of """", ´´´´, )))), ]]]], ****, or ††††, is taken to be the end of a
          _s_e_n_t_e_n_c_e, and an additional space character is automatically pro‐
          vided  during  filling.  To prevent this at individual locations,
          add \\\\&&&& to the end of the  input  line;  the  second  argument  to
          the  ssssssss  request  (§2)  changes  the size of this space character
          and can also disable it globally.  Both the  sentence‐ending  and
          the  transparent  characters  are configurable.  The \\\\)))) character
          is always transparent but behaves like \\\\&&&& in all other  respects.
          Multiple  inter‐word  space  characters  found  in  the input are
          retained, although the second character in a sequence  of  spaces
          following a sentence‐ending character has the width of a sentence
          space; if the sentence space has been set to zero,  any  sequence
          of  spaces following a sentence‐ending character has the width of
          a single space.  Trailing spaces are always  discarded.   Initial
          spaces are always retained and also cause a _b_r_e_a_k.
          With the bbbbrrrrnnnnllll request, a _b_r_e_a_k occurs at the  end  of  each  text
          input  line  in  fill mode, except for lines interrupted with \\\\cccc.
          Contrasting to nofill mode, text is still adjusted  to  the  line


                                       ‐ 36 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          length.
          When filling is in effect, a \\\\pppp may be imbedded  or  attached  to
          a  word  to  cause  a  _b_r_e_a_k  at the _e_n_d of the word and have the
          resulting output line _s_p_r_e_a_d _o_u_t to fill the current line length.
          When  adjusting  paragraphs  at  once,  is  possible  to  specify
          additional  _p_e_n_a_l_t_i_e_s  for putting a line break after the current
          word (or part of a hyphenated word) by imbedding or  attaching  a
          \\\\jjjj´±_N´  to  it.   A positive value of _N discourages a line break,
          a negative value encourages it.  Values of 1000000 and above  are
          taken  as  infinitive  penalties and always prevent a line break;
          values of -1000000 always cause a line break.  A default  penalty
          can  be  set  with  the \\\\JJJJ´±_N´ escape sequence; this is useful to
          discourage line breaks within a certain group of  words,  e.g.  a
          person’s  name  or a formula.  Relative values in the argument to
          \\\\jjjj refer to the default penalty.  The current default penalty  is
          available in the ....ddddeeeeffffppppeeeennnnaaaallllttttyyyy number register.  Separate penalties
          can be specified for breaking a line after a hyphenated word part
          using the hhhhyyyypppppppp request (§13).
          With the bbbbrrrrppppnnnnllll request, each end of a text  input  line  in  fill
          mode  causes  a  _b_r_e_a_k and a spread, except for lines interrupted
          with \\\\cccc.  The meaning of \\\\pppp is then  changed  such  that  a  line
          that  it is attached to is _n_o_t spread; this is the only method to
          achieve a regular _b_r_e_a_k without a spread then.  Manually adjusted
          text  can  thus  be typed more comfortably since only the (fewer)
          lines that are not spread need to be marked.
          A text input line that happens to begin with a control  character
          can  be made to not look like a control line by prefacing it with
          the non‐printing, zero‐width filler character \\\\&&&&.  Still  another
          way is to specify output translation of some convenient character
          into the control character using ttttrrrr (§10.5).
          _4._2._I_n_t_e_r_r_u_p_t_e_d _t_e_x_t. The copying  of  a  input  line  in  _n_o_f_i_l_l
          (non‐fill)  mode  can  be  _i_n_t_e_r_r_u_p_t_e_d by terminating the partial
          line with a \\\\cccc.   The  _n_e_x_t  encountered  input  text  line  will
          be  considered  to  be  a  continuation of the same line of input
          text.  Similarly, a word within _f_i_l_l_e_d text  may  be  interrupted
          by  terminating the word (and line) with \\\\cccc; the next encountered
          text will be taken as a continuation  of  the  interrupted  word.
          If  the intervening control lines cause a break, any partial line
          will be forced out along with any partial word.  The ....iiiinnnntttt  number
          register  is  set  to  a  non‐zero value if the previous line was
          interrupted and to zero otherwise.  The length of a partial  word
          is  ignored for the value of the ....kkkk number register in _f_i_l_l mode;
          it is separately available with the ....kkkkcccc register.
          _4._3._K_e_r_n_i_n_g. _t_r_o_f_f reads kerning tables  from  Type 1,  OpenType,
          and  TrueType  font files.  These tables contain small horizontal
          spacing adjustments for pairs of individual characters, e.g., the
          pair ‘‘Vo’’ would print as ‘‘Vo’’ without kerning applied.  Plac‐
          ing \\\\&&&& between two characters disables kerning at that  location;
          the  kkkkeeeerrrrnnnn  request can disable it globally.  The kkkkeeeerrrrnnnnppppaaaaiiiirrrr request
          adds a kerning pair; in contrast to predefined pairs,  it  allows
          the characters to originate from different fonts.
          It is sometimes useful to  add  or  substact  a  constant  amount
          of  spacing  whenever  a specific character appears; for example,
          french quotation marks usually require some  additional  distance


                                       ‐ 37 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          to  the  words  contained  in them.  The kkkkeeeerrrrnnnnaaaafffftttteeeerrrr and kkkkeeeerrrrnnnnbbbbeeeeffffoooorrrreeee
          requests allow to define such adjustments.  Again, a \\\\....  disables
          them  at individual points; they are generally not applied if the
          other character is a space.
          _4._4._H_a_n_g_i_n_g _c_h_a_r_a_c_t_e_r_s. Characters can hang beyond  the  left  or
          right  margins  of  adjusted  text;  the llllhhhhaaaannnngggg and rrrrhhhhaaaannnngggg requests
          specify this.  Left margin adjustments are evaluated  before  the
          letters  that  fit on the current line are computed, and can thus
          principally be of any length.  In contrast, right margin  adjust‐
          ments  are  evaluated after this computation is finished, and the
          adjustment is simply added to the word space of the output  line.
          Thus a positive right adjustment that is large in relation to the
          line length will cause visible holes, and a  negative  adjustment
          will  ultimately  cause  the words on the line to be printed over
          each other.  This is not a problem for the typical application of
          hanging  punctuation for visual alignment, though; if e.g. a line
          with eight word spaces is shifted by .08 em, each word  space  is
          enlarged by only .01 em.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....bbbbrrrr     –       –       B    Break.   The  filling  of  the  line
                                       currently being collected is stopped
                                       and  the  line  is  output   without
                                       adjustment.   Text  lines  beginning
                                       with space characters and empty text
                                       lines  (blank  lines)  also  cause a
                                       break (This can be changed with  the
                                       ....bbbbllllmmmm and ....llllssssmmmm requests.).
          ....llllssssmmmm _x_x none    none    –    Whenever  a  line   beginning   with
                                       spaces  is encountered, the macro _x_x
                                       is invoked instead  of  the  default
                                       behavior  to  cause a break.  If the
                                       spaces are followed  by  an  escape,
                                       that  may  be  processed  before the
                                       macro is called (e.g. font changes).
                                       To  avoid  this  prepend that escape
                                       with \\\\&&&&.
          ....bbbbrrrrpppp    –       –       B    Break and spread; same effect as the
                                       \\\\pppp  escape  sequence  except that it
                                       causes the remaining part of a para‐
                                       graph shape as set with ppppsssshhhhaaaappppeeee to be
                                       discarded.
          ....ffffiiii     fill on –       B,E  Fill subsequent output  lines.   The
                                       register  ....uuuu is 1 in fill mode and 0
                                       in nofill mode.
          ....nnnnffff     fill on –       B,E  Nofill.  Subsequent output lines are
                                       _n_e_i_t_h_e_r  filled _n_o_r adjusted.  Input
                                       text lines are  copied  directly  to
                                       output  lines _w_i_t_h_o_u_t _r_e_g_a_r_d for the
                                       current line length.
          ....aaaadddd _c   adj,both        adjust ELine  adjustment  is  begun.   If
                                       fill  mode  is  not  on,  adjustment
                                       will be deferred until fill mode  is
                                       back  on.   If  the type indicator _c


                                       ‐ 38 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       is present, the adjustment  type  is
                                       changed  as  shown  in the following
                                       table.

                                 ─┌───────────┬────────────────────────────────────┐
                                 │Indicator │            Adjust Type             │
                                 ─├───────────┼────────────────────────────────────┤
                                 │    llll     │ adjust left margin only            │
                                 │    rrrr     │ adjust right margin only           │
                                 │    cccc     │ center                             │
                                 │ bbbb or nnnn   │ adjust both margins                │
                                 │ pppp or ppppbbbb  │ adjust both margins paragraph‐wise │
                                 │   ppppllll     │ adjust left margin paragraph‐wise  │
                                 │   pppprrrr     │ adjust right margin paragraph‐wise │
                                 │   ppppcccc     │ center paragraph‐wise              │
                                 │ absent   │ unchanged                          │
                                 ─└───────────┴────────────────────────────────────┘

                                       The number register ....jjjj contains  the
                                       current  value  of  the  aaaadddd setting;
                                       its value can be recorded  and  used
                                       subsequently to set adjustment.
          ....nnnnaaaa     adjust  –       E    Noadjust.  Adjustment is turned off;
                                       the  right  margin  will  be ragged.
                                       The adjustment type for  aaaadddd  is  not
                                       changed.   Output line filling still
                                       occurs if fill mode is on.
          ....ppppaaaaddddjjjj _N off     on      –    Control paragraph‐at‐once adjustment
                                       globally.    If   _N≠0   or  missing,
                                       paragraph‐at‐once adjustment is  en‐
                                       abled  in all environments, and aaaadddd _x
                                       effectively acts  like  aaaadddd pppp_x.   The
                                       current  value  is  available in the
                                       ....ppppaaaaddddjjjj register.
          ....cccceeee _N   off     _N=1     B,E  Center the next _N input  text  lines
                                       within  the current (line‐length mi‐
                                       nus indent).  If _N=0,  any  residual
                                       count  is  cleared.   A break occurs
                                       after each of  the  _N  input  lines.
                                       If  the  input  line is too long, it
                                       will be left adjusted.   The  number
                                       of  lines  to  be  right‐aligned, if
                                       any, is set to zero.  The  remaining
                                       number  of  lines  to be centered is
                                       available in the ....cccceeee register.
          ....rrrrjjjj _N   off     _N=1     B,E  Right‐align the next  _N  input  text
                                       lines   within  the  current  (line‐
                                       length minus indent); otherwise like
                                       cccceeee.   The  number  of  lines  to  be
                                       centered, if any, is  set  to  zero.
                                       The  remaining number of lines to be
                                       right‐justified is available in  the
                                       ....rrrrjjjj register.
          ....bbbbrrrrnnnnllll _N off     _N=∞     B,E  Break at end of next  _N  input  text


                                       ‐ 39 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       lines  when  filling  is  in effect.
                                       The remaining  number  of  lines  so
                                       treated  is  available  in the ....bbbbrrrrnnnnllll
                                       register.
          ....bbbbrrrrppppnnnnllll _N        off     _N=∞  B,EBreak and spread at end  of  next
                                       _N  input  text lines when filling is
                                       in  effect.   The  remaining  number
                                       of  lines so treated is available in
                                       the ....bbbbrrrrppppnnnnllll register.  bbbbrrrrppppnnnnllll disables
                                       bbbbrrrrnnnnllll and vice‐versa.
          ....mmmmiiiinnnnssssssss _N        off     off  E,TMinimum word space.  When adjust‐
                                       ing both margins, _t_r_o_f_f may decrease
                                       the size of the word space  down  to
                                       _N/36ems  (rather  than  to the value
                                       set by ssssssss).  The  current  value  is
                                       available in the ....mmmmiiiinnnnssssssss register.
          ....lllleeeettttaaaaddddjjjj _X _U _S _Y _V       off  E,TDynamic letter  spacing  and  re‐
                                       shaping  when  adjusting lines.  The
                                       space between  letters  can  be  au‐
                                       tomatically  expanded  or  condensed
                                       (in addition to  the  space  between
                                       words),  and  the  width  of letters
                                       can be automatically changed in aaaadddd bbbb
                                       mode.   The  _X  argument  gives  the
                                       minimum percentage of an en  of  the
                                       current point size by which adjacent
                                       characters may be tightened;  the  _U
                                       argument  gives the minimum percent‐
                                       age of the  letter  width  by  which
                                       letters  may be condensed.  When the
                                       computed  size  of  the  word  space
                                       would  have  to  be  larger  than _S,
                                       additional space  will  be  inserted
                                       between  letters  up  to  a limit of
                                       _Y percent of an en  of  the  current
                                       point  size, and letters will be ex‐
                                       panded by up to _V percent  of  their
                                       width  until the word space does not
                                       extend beyond _S anymore.  _S is given
                                       in units of 1/36ems as with ssssssss.  The
                                       number registers  ....llllssssppppmmmmiiiinnnn,  ....llllsssshhhhmmmmiiiinnnn,
                                       ....lllleeeettttssssssss, ....llllssssppppmmmmaaaaxxxx, and ....llllsssshhhhmmmmaaaaxxxx contain
                                       the current values of _X,  _U,  _S,  _Y,
                                       and _V, respectively.
          ....sssseeeennnnttttcccchhhhaaaarrrr _c...  ....????!!!!::::    off  E Sentence‐ending characters.   When
                                       one  of  the characters _c... appears
                                       at  the  end  of   an   input   text
                                       line,  an additional space character
                                       of the  size  defined  with  the  ssssssss
                                       request  is  inserted.   The current
                                       set of sentence‐ending characters is
                                       available  in  the  ....sssseeeennnnttttcccchhhhaaaarrrr number
                                       register.
          ....ttttrrrraaaannnnsssscccchhhhaaaarrrr _c..  """"’))))]]]]****††††  off  E Transparent     characters     for


                                       ‐ 40 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       sentence‐ending.   A sentence‐ending
                                       character is recognized as such even
                                       if  followed  by  one or more of the
                                       characters _c... before  the  end  of
                                       an  input  text  line.   The current
                                       set of  transparent  characters  for
                                       sentence  ending is available in the
                                       ....ttttrrrraaaannnnsssscccchhhhaaaarrrr number register.
          ....ttttrrrraaaacccckkkk _F _S _N _T _M        ignoredP,T,ppppStatic letter space tracking.
                                       If  the  current  font  is _F and the
                                       point size is below or equal  to  _S,
                                       white  space  of  width  _N  is added
                                       to each  character.   If  the  point
                                       size  is  above or equal to _T, white
                                       space  of  width  _M  is  added.   If
                                       the  point  size  is  between  _S and
                                       _T, the amount of white  space  added
                                       is  computed  as  a  value between _N
                                       and _M using the current  point  size
                                       _s:   (_s_M-_s_N+_T_N-_S_M)/(_T-_S).   The  de‐
                                       fault unit for all numeric arguments
                                       is  points.   Negative  numbers  are
                                       accepted and  cause  a  decrease  of
                                       letter space.  No adjustment is per‐
                                       formed on the last character  of  an
                                       output  line.  Tracking also applies
                                       to characters from another font that
                                       have  been  selected by the ffffaaaallllllllbbbbaaaacccckkkk
                                       sequence.
          ....kkkkeeeerrrrnnnn _N 1       1       P,T  Control pairwise  kerning;  disabled
                                       if _N=0, otherwise enabled.
          ....ffffkkkkeeeerrrrnnnn _F _N      1       1    P,TControl the use of kerning tables
                                       from  font  _F;  disabled if _N=0, en‐
                                       abled if _N=1 or missing.   For  _N≥2,
                                       only  kerning  pairs  with  absolute
                                       values greater or  equal  to  _N  are
                                       used.   _t_r_o_f_f kerning adjustments as
                                       defined by  the  following  requests
                                       are not affected.
          ....kkkkeeeerrrrnnnnppppaaaaiiiirrrr _F _c... _G _d... _N    ignoredP,TAdd a kerning pair to  the
                                       kerning  table  for character _c from
                                       font _F and  character  _d  from  font
                                       _G.   _c  and  _d may consist of multi‐
                                       ple characters; in this case,  table
                                       entries  are added for any pair com‐
                                       bination of characters  from  _c  and
                                       _d.   The _N argument is 1/72000 of an
                                       inch multiplied by the current point
                                       size  or  1/1000 of an em (as in AFM
                                       kerning pair definitions); it may be
                                       negative.   To  add  a  kerning pair
                                       that includes the  space  character,
                                       use ‘‘\ ’’.
          ....kkkkeeeerrrrnnnnaaaafffftttteeeerrrr _F _c... _N _d... _M ... P,TAdd a constant amount of  space


                                       ‐ 41 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       after  a  character  if  the current
                                       font is _F and _c is the first charac‐
                                       ter  of a pair of characters subject
                                       to kerning.  _c may consist of multi‐
                                       ple  characters;  in  this case, the
                                       same amount is added whenever one of
                                       the  given  characters appears.  The
                                       _N argument is  1/72000  of  an  inch
                                       multiplied by the current point size
                                       or  1/1000  of  an  em  (as  in  AFM
                                       kerning pair definitions); it may be
                                       negative.  Same for _d/_M etc.
          ....kkkkeeeerrrrnnnnbbbbeeeeffffoooorrrreeee _F _c... _N _d... _M ...P,TAdd a constant amount of  space
                                       before  a  character  if the current
                                       font  is  _F  and  _c  is  the  second
                                       character  of  a  pair of characters
                                       subject to kerning.  _c  may  consist
                                       of   multiple  characters;  in  this
                                       case, the same amount is added when‐
                                       ever  one  of  the  given characters
                                       appears.  The _N argument is  1/72000
                                       of an inch multiplied by the current
                                       point size or 1/1000 of  an  em  (as
                                       in AFM kerning pair definitions); it
                                       may be negative.  Same for _d/_M etc.
          ....llllhhhhaaaannnngggg _F _c... _N _d... _M ...   ignoredTHanging characters  at  left
                                       margin.   When  the  current font is
                                       _F and _c appears at the  left  margin
                                       of  an output line in left‐adjusted,
                                       both‐adjusted, or nofill  mode,  the
                                       margin  is  relocated  to  the right
                                       by _N, which is 1/72000  of  an  inch
                                       multiplied by the current point size
                                       or 1/1000 of an em (as in AFM  char‐
                                       acter  width definitions); it may be
                                       negative.  _c may consist of multiple
                                       characters; in this case, the margin
                                       is relocated  whenever  one  of  the
                                       given  characters appears.  Same for
                                       _d/_M etc.
          ....rrrrhhhhaaaannnngggg _F _c... _N _d... _M ...   ignoredTHanging characters at  right
                                       margin.   When the current font is _F
                                       and _c appears at  the  right  margin
                                       of an output line in right‐adjusted,
                                       both‐adjusted, or nofill  mode,  the
                                       margin  is  relocated  to  the right
                                       by _N, which is 1/72000  of  an  inch
                                       multiplied by the current point size
                                       or 1/1000 of an em (as in AFM  char‐
                                       acter  width definitions); it may be
                                       negative.  _c may consist of multiple
                                       characters; in this case, the margin
                                       is relocated  whenever  one  of  the
                                       given  characters appears.  Same for


                                       ‐ 42 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       _d/_M etc.
          5555....  VVVVeeeerrrrttttiiiiccccaaaallll SSSSppppaaaacccciiiinnnngggg
          _5._1._B_a_s_e‐_l_i_n_e _s_p_a_c_i_n_g. The vertical spacing (_V) between the base‐
          lines of successive output lines can be set using the vvvvssss request.
          _V should be large enough to accommodate the  character  sizes  on
          the  affected  output  lines.   For  the  common type sizes (9–12
          points), usual typesetting practice  is  to  set  _V  to  2 points
          greater  than  the  point size; _t_r_o_f_f default is 10‐point type on
          a 12‐point spacing (as in  this  document).   The  current  _V  is
          available  in  the ....vvvv register.  Multiple‐_V line separation (e.g.
          double spacing) may be requested with llllssss, but it is better to use
          a  large vvvvssss instead; certain preprocessors assume single spacing.
          The current line spacing is available in the ....LLLL register.
          _5._2._E_x_t_r_a _l_i_n_e‐_s_p_a_c_e.  If  a  word  contains  a  vertically  tall
          construct  requiring  the output line containing it to have extra
          vertical space before and/or after it, the _e_x_t_r_a‐_l_i_n_e‐_s_p_a_c_e func‐
          tion  \\\\xxxx´_N´  can  be  imbedded in or attached to that word.  If _N
          is negative, the output line containing the word will be preceded
          by  _N  extra  vertical  space;  if _N is positive, the output line
          containing the word will be followed by _N extra  vertical  space.
          If  successive  requests  for extra space apply to the same line,
          the maximum values are used.  The most  recently  utilized  post‐
          line extra line‐space is available in the ....aaaa register.
          In \\\\xxxx´...´ and other functions having a pair of delimiters around
          their  parameter  (here  ´´´´),  the  delimiter choice is arbitrary,
          except that it can not look like the  continuation  of  a  number
          expression for _N.
          _5._3._B_l_o_c_k_s _o_f _v_e_r_t_i_c_a_l _s_p_a_c_e. A block of vertical space is  ordi‐
          narily  requested  using  sssspppp,  which honors the _n_o‐_s_p_a_c_e mode and
          which does not space _p_a_s_t a trap.  A contiguous block of vertical
          space may be reserved using ssssvvvv.
          _5._4._A_s_c_e_n_d_e_r_s _a_n_d _d_e_s_c_e_n_d_e_r_s. Type 1, OpenType, and TrueType met‐
          rics  supply  information about the typical extents of characters
          above the base‐line (ascender) and below it (descender).   Usual‐
          ly,  these  correspond  to the top of the lowercase ‘‘d’’ and the
          bottom of the lowercase ‘‘p’’, respectively.  The  ....aaaasssscccceeeennnnddddeeeerrrr  and
          ....ddddeeeesssscccceeeennnnddddeeeerrrr  number  registers  contain these values in units with
          correct scaling for the current point size applied.  If no values
          are available, these registers are set to zero.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....vvvvssss_N    1/6in;12pts     previousE,ppppSet vertical base‐line spacing
                                       size  _V.   Transient  _e_x_t_r_a vertical
                                       space  available  with  \\\\xxxx´_N´   (see
                                       above).
          ....llllssss_N    _N=1     previous     E _L_i_n_e spacing set to  ±_N.   _N−1  _Vs
                                       (_b_l_a_n_k  _l_i_n_e_s)  are appended to each
                                       output text  line.   Appended  blank
                                       lines  are  omitted,  if the text or
                                       previous appended blank line reached
                                       a trap position.
          ....sssspppp _N   –       _N=1_V    B,vvvv  Space vertically  in  _e_i_t_h_e_r  direc‐
                                       tion.   If _N is negative, the motion
                                       is _b_a_c_k_w_a_r_d (upward) and is  limited


                                       ‐ 43 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       to  the  distance  to the top of the
                                       page.  Forward (downward) motion  is
                                       truncated  to  the  distance  to the
                                       nearest trap.  (Recall  the  use  of
                                       ....sssspppp ||||_N  from §1.3.)  If the no‐space
                                       mode is on, no spacing  occurs  (see
                                       nnnnssss, and rrrrssss below).
          ....ssssvvvv _N   –       _N=1_V    vvvv    Save a contiguous vertical block  of
                                       size _N.  If the distance to the next
                                       trap is greater than _N,  _N  vertical
                                       space  is output.  No‐space mode has
                                       _n_o effect.  If this distance is less
                                       than _N, no vertical space is immedi‐
                                       ately output, but  _N  is  remembered
                                       for  later  output (see oooossss).  Subse‐
                                       quent ssssvvvv requests will overwrite any
                                       still remembered _N.
          ....oooossss     –       –       –    Output saved  vertical  space.   No‐
                                       space  mode  has _n_o effect.  Used to
                                       finally output a block  of  vertical
                                       space  requested  by  an  earlier ssssvvvv
                                       request.
          ....nnnnssss     space   –       D    No‐space  mode  turned   on.    When
                                       on,  the  no‐space  mode inhibits sssspppp
                                       requests and bbbbpppp requests  _w_i_t_h_o_u_t  a
                                       next page number.  The no‐space mode
                                       is turned off when a line of  output
                                       occurs,  or  with  rrrrssss.   The  number
                                       register ....nnnnssss is set  to  a  non‐zero
                                       value  in  no‐space mode and to zero
                                       otherwise.
          ....rrrrssss     space   –       D    Restore spacing.  The no‐space  mode
                                       is turned off.
          Blank text line.        –    B Causes a break  and  output  of  a
                                       blank  line exactly like sssspppp 1111 unless
                                       a different action has  been  speci‐
                                       fied with the bbbbllllmmmm request.
          6666....  LLLLiiiinnnneeee LLLLeeeennnnggggtttthhhh aaaannnndddd IIIInnnnddddeeeennnnttttiiiinnnngggg
          The maximum line length for fill mode may be set  with  llllllll.   The
          indent  may  be  set  with  iiiinnnn;  an indent applicable to _o_n_l_y the
          _n_e_x_t output line may be set with ttttiiii.  The  line  length  includes
          indent  space  but  _n_o_t page offset space.  The line‐length minus
          the indent is the basis for centering with  cccceeee.   The  effect  of
          llllllll,  iiiinnnn,  or ttttiiii is delayed, if a partially collected line exists,
          until after that line is output.  In fill mode the length of text
          on  an output line is less than or equal to the line length minus
          the indent.  The current line length and indent are available  in
          registers  ....llll  and ....iiii respectively; the ....yyyy and ....iiiinnnn registers both
          hold the indent that actually applies to the current line, taking
          a temporary indent into account.  The length of _t_h_r_e_e‐_p_a_r_t _t_i_t_l_e_s
          produced by ttttllll (see §14) is _i_n_d_e_p_e_n_d_e_n_t_l_y set by lllltttt.
          In aaaadddd pppp mode, indent, temporary indent, and line length should be
          predefined  for  the entire paragraph at the time a _b_r_e_a_k occurs.
          To achieve this with indent and  line  length  varying  inside  a


                                       ‐ 44 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          paragraph,  a  shape  can  be defined with ppppsssshhhhaaaappppeeee.  The llllllll and iiiinnnn
          requests are also effective while formatting a paragraph but  may
          result in less optimal line breaking decisions then.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....llllllll ±_N  6.5in   previous     E,mmmmLine length is set to ±_N.
          ....iiiinnnn ±_N  _N=0     previous     B,E,mmmmIndent  is  set  to  ±_N.    The
                                       indent  is  prepended to each output
                                       line.
          ....ttttiiii ±_N  –       ignored B,E,mmmm  Temporary indent.  The _n_e_x_t output
                                       text  line  will  be indented a dis‐
                                       tance ±_N with respect to the current
                                       indent.   The resulting total indent
                                       may not be  negative.   The  current
                                       indent is not cghraanpghedi.n     when  the
                                       a special    aaaadddd pppp          paragraph
                                       shape for    mode.   At    gets for‐
                                       the  cur‐    the           matted,
                                       rent para‐   next _b_r_e_a_k   its  first
                                       line  is  indented  by  _I_1  and  has
                                       length _L_1, its second  line  is  in‐
                                       dented  by  _I_2  and  has  length _L_2,
                                       and  so  forth.   Relative   numbers
                                       refer   to  the     for  the   first
                                       previous indent     pair.   The last
                                       or  line length     of  the   indent
                                       pair,   or   to     and  line length
                                       the  values set     pairs stays  ef‐
                                       by  iiiinnnn  and  llllllll     fective  if  the
                                       paragraph has more lines than  pairs
                                       are  given.   With  an odd number of
                                       arguments, the standard line  length
                                       as  set  by  llllllll  is used at the end.
                                       Once the current paragraph has  been
                                       printed,  the shape specification is
                                       forgotten, and the  standard  indent
                                       and  line  length  values are in ef‐
                                       fect  again  unless  another  ppppsssshhhhaaaappppeeee
                                       request  occurs.   As  an exception,
                                       \\\\pppp preserves the remaining  part  of
                                       the  shape.   To produce shapes with
                                       holes as in this example,  diversion
                                       traps  can  be  used to move format‐
                                       ted lines in a  vertical  direction.
          7777....  MMMMaaaaccccrrrroooossss,,,, SSSSttttrrrriiiinnnnggggssss,,,, DDDDiiiivvvveeeerrrrssssiiiioooonnnn,,,, aaaannnndddd PPPPoooossssiiiittttiiiioooonnnn TTTTrrrraaaappppssss
          _7._1._M_a_c_r_o_s _a_n_d _s_t_r_i_n_g_s. A _m_a_c_r_o is a named set of arbitrary _l_i_n_e_s
          that  may be invoked by name or with a _t_r_a_p.  A _s_t_r_i_n_g is a named
          string of _c_h_a_r_a_c_t_e_r_s, _n_o_t including a newline character, that may
          be interpolated by name at any point.  Request, macro, and string
          names share the _s_a_m_e name  list.   Macro  and  string  names  may
          consist of an arbitrary number of ASCII characters (§1.1) and may
          usurp previously defined request, macro, or  string  names;  this
          implies  that  build‐in operators may be (irrevocably) redefined.
          Any of these entities may be renamed with rrrrnnnn or removed with  rrrrmmmm.


                                       ‐ 45 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          Macros  are  created  by ddddeeee and ddddiiii, and appended to by aaaammmm and ddddaaaa;
          ddddiiii and ddddaaaa cause normal output to be stored in a  macro.   Strings
          are  created  by  ddddssss  and  appended to by aaaassss.  A macro is invoked
          in the same way as a request; a control line beginning  ...._x_x  will
          interpolate  the contents of macro _x_x.  The remainder of the line
          may contain arbitrarily many _a_r_g_u_m_e_n_t_s.  The strings _x,  _x_x,  and
          _x_x_x  are  interpolated  at any desired point with \\\\∗∗∗∗_x, \\\\∗∗∗∗((((_x_x, and
          \\\\∗∗∗∗[[[[_x_x_x]]]] respectively; the form \\\\∗∗∗∗[[[[_x_x_x _a_r_g ...]]]]  allows to specify
          arguments  to  a string.  String references and macro invocations
          may be nested.
          _7._2._C_o_p_y _m_o_d_e _i_n_p_u_t _i_n_t_e_r_p_r_e_t_a_t_i_o_n. During the definition and ex‐
          tension  of  strings  and  macros (not by diversion) the input is
          read in _c_o_p_y _m_o_d_e.  The input is  copied  without  interpretation
          _e_x_c_e_p_t that:
               • The contents of number registers indicated by \\\\nnnn are interpolated.
               • Strings indicated by \\\\∗∗∗∗ are interpolated.
               • Arguments indicated by \\\\$$$$ are interpolated.
               • Environment variables indicated by \\\\VVVV are interpolated.
               • Concealed newlines indicated by \\\\(newline) are eliminated.
               • Comments indicated by \\\\"""" or \\\\#### are eliminated.
               • \\\\tttt and \\\\aaaa are interpreted as ASCII horizontal tab and SOH respectively (§9).
               • \\\\\\\\ is interpreted as \\\\.
               • \\\\.... is interpreted as "....".
          These interpretations can be suppressed by prepending a \\\\ .   For
          example,  since \\\\\\\\ maps into a \\\\ , \\\\\\\\nnnn will copy as \\\\nnnn which will
          be interpreted as a number register indicator when the  macro  or
          string is reread.
          _7._3._A_r_g_u_m_e_n_t_s. When a macro is invoked  by  name,  the  remainder
          of  the  line  is  taken  to  contain  arguments.   The  argument
          separator is the space character, and arguments may be surrounded
          by  double‐quotes  to  permit  imbedded  space characters.  Pairs
          of double‐quotes may be imbedded in  double‐quoted  arguments  to
          represent  a  single  double‐quote character.  The argument """""""" is
          explicitly null.  If the desired arguments won’t fit on  a  line,
          a  concealed newline may be used to continue on the next line.  A
          trailing double quote may be omitted.
          Similarly, arguments may  be  passed  to  strings  with  the  \\\\∗∗∗∗[[[[
          syntax,  separated  by  spaces, until the argument list ends with
          the ]]]] character.  String arguments are otherwise handled  exactly
          like macro arguments.
          When a macro is invoked  the  _i_n_p_u_t  _l_e_v_e_l  is  _p_u_s_h_e_d  _d_o_w_n  and
          any  arguments available at the previous level become unavailable
          until the macro is completely read and the previous level is  re‐
          stored.  A macro’s own arguments can be interpolated at _a_n_y point
          within the macro with \\\\$$$$_n, \\\\$$$$((((_n_n, or \\\\$$$$[[[[_n_n_n]]]], which  interpolates
          the  _nth,  _n_nth,  or _n_n_nth argument, respectively.  If an invoked
          argument doesn’t exist, a null string results.  For example,  the
          macro _x_x may be defined by
               ....ddddeeee xxxxxxxx \\\\""""bbbbeeeeggggiiiinnnn ddddeeeeffffiiiinnnniiiittttiiiioooonnnn
               TTTTooooddddaaaayyyy iiiissss \\\\\\\\$$$$1111 tttthhhheeee \\\\\\\\$$$$2222....
               ........     \\\\""""eeeennnndddd ddddeeeeffffiiiinnnniiiittttiiiioooonnnn
          and called by
               ....xxxxxxxx MMMMoooonnnnddddaaaayyyy 11114444tttthhhh
          to produce the text


                                       ‐ 46 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


               TTTTooooddddaaaayyyy iiiissss MMMMoooonnnnddddaaaayyyy tttthhhheeee 11114444tttthhhh....
          Note that the \\\\$$$$ was concealed in the definition with a prepended
          \\\\.
          The escape sequence \\\\$$$$∗∗∗∗ interpolates all arguments  to  a  macro,
          separated  by  spaces;  \\\\$$$$@@@@  interpolates all arguments, each one
          surrounded by double quotes, separated by spaces.   The  name  of
          the  current  macro  or  string  is available with the \\\\$$$$0000 escape
          sequence.  The number of currently available arguments is in  the
          ....$$$$ register.
          No arguments are available at the top (non‐macro) level or within
          a trap‐invoked macro.
          Arguments are copied in _c_o_p_y _m_o_d_e onto a  stack  where  they  are
          available  for reference.  It is advisable to conceal string ref‐
          erences (with an extra \\\\) to delay interpolation  until  argument
          reference time.
          _7._4._D_i_v_e_r_s_i_o_n_s. Processed output may be  diverted  into  a  macro
          for  purposes  such  as footnote processing (see Tutorial §T5) or
          determining the horizontal and vertical size  of  some  text  for
          conditional  changing  of  pages  or columns.  A single diversion
          trap may be set at a specified  vertical  position.   The  number
          registers  ddddnnnn  and ddddllll respectively contain the vertical and hori‐
          zontal size of the most recently ended diversion.  Processed text
          that  is  diverted into a macro retains the vertical size of each
          of its lines when reread in _n_o_f_i_l_l mode regardless of the current
          _V.  Constant‐spaced (ccccssss) or emboldened (bbbbdddd) text that is diverted
          can be reread correctly only if these modes are  again  or  still
          in  effect at reread time.  One way to do this is to imbed in the
          diversion the appropriate ccccssss or bbbbdddd requests with the  _t_r_a_n_s_p_a_r_e_n_t
          mechanism described in §10.6.
          Diversions may be nested and  certain  parameters  and  registers
          are  associated  with  the  current diversion level (the top non‐
          diversion level may be thought of as the  0th  diversion  level).
          These are the diversion trap and associated macro, no‐space mode,
          the internally‐saved marked place (see mmmmkkkk and  rrrrtttt),  the  current
          vertical  place  (....dddd register), the current high‐water text base‐
          line (....hhhh register), and the current diversion name (....zzzz register).
          The current diversion level is available in the ....ddddiiiilllleeeevvvv register.
          A previous partially filled line is  included  when  a  diversion
          begins.   A  partially  filled  line  at  the  end of a diversion
          is not included but becomes part  of  the  surrounding  diversion
          level.   With  the  bbbbooooxxxx request, a previous partially filled line
          is not included.  At the end of  the  diversion,  this  partially
          filled  line is restored at the surrounding level, discarding any
          partially filled line from within the diversion.  The behavior is
          otherwise the same as with a standard diversion.
          _7._5._T_r_a_p_s. Five  types  of  trap  mechanisms  are  available—page
          traps,  output‐line  traps,  a  single  diversion  trap, multiple
          diversion traps, and an input‐line‐count trap.   Macro‐invocation
          traps  may be planted using wwwwhhhh at any page position including the
          top.  This trap position may be changed using cccchhhh.  Trap positions
          at or below the bottom of the page have no effect unless or until
          moved to within the page or rendered effective by an increase  in
          page  length.  Two traps may be planted at the _s_a_m_e position only
          by first planting them at different  positions  and  then  moving


                                       ‐ 47 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          one  of the traps; the first planted trap will conceal the second
          unless and until the first one is moved  (see  Tutorial  Examples
          §T5).  If the first one is moved back, it again conceals the sec‐
          ond trap.  The macro associated with a page trap is automatically
          invoked when a line of text is output whose vertical size _r_e_a_c_h_e_s
          or _s_w_e_e_p_s _p_a_s_t the trap position.  Reaching the bottom of a  page
          springs  the  top‐of‐page  trap, if any, provided there is a next
          page.  The distance to the next trap position is available in the
          ....tttt  register;  if there are no traps between the current position
          and the bottom of the page, the distance returned is the distance
          to the page bottom.
          An output‐line trap is planted using  the  escape  sequence  \\\\PPPP_x,
          \\\\PPPP((((_x_x,  or  \\\\PPPP[[[[_x_x_x]]]].   It  is  converted to an internal character
          code that becomes part  of  the  current  text.   When  the  line
          containing  it  has  been  physically output, the macro _x, _x_x, or
          _x_x_x, respectively, is invoked.  A line may contain more than  one
          output‐line  trap; they are invoked in the order they appear.  If
          a page trap becomes effective at the same point,  it  is  invoked
          immediately  after  all output‐line traps.  Output‐line traps are
          not invoked at the time they become part of  a  diversion.   They
          can  thus  be used to determine e.g. the effective page number of
          the surrounding text, even when it had originally  been  diverted
          on another page.
          A single macro‐invocation trap effective in the current diversion
          may  be  planted  using  ddddtttt.   If  another ddddtttt follows in the same
          diversion, the trap position is changed.  Multiple traps  may  be
          planted  in  the  current  diversion  using  ddddwwwwhhhh and ddddcccchhhh.  The ....tttt
          register works in a diversion; if there  is  no  subsequent  trap
          a  _l_a_r_g_e  distance is returned.  For a description of input‐line‐
          count traps, see iiiitttt below.
          _7._6._R_e_c_u_r_s_i_o_n. _t_r_o_f_f macros can be invoked recursively.  In  gen‐
          eral, return information and arguments for macro calls are stored
          as _f_r_a_m_e_s on a _s_t_a_c_k.  Since the size of  the  stack  is  limited
          by  available memory, recursive calls cannot descend to arbitrary
          depths.  To avoid consumption of large amounts of memory in  case
          of  endless  loops, the depth is deliberately restricted further;
          the rrrreeeeccccuuuurrrrssssiiiioooonnnnlllliiiimmmmiiiitttt request allows to adjust that restriction.
          A macro call can be _t_a_i_l‐_r_e_c_u_r_s_i_v_e, that  is,  the  re‐invocation
          of  the current macro can occur in its last statement.  _t_r_o_f_f can
          then replace the stack frame of the current macro  instance  with
          that  of  the following one, and the stack size remains constant.
          The depth of  tail‐recursive  macro  calls  is  thus  principally
          unlimited,  and is not artificially restricted by default.  Since
          _t_r_o_f_f cannot determine the control  character  at  the  time  the
          macro  is  executed in advance, the recursive macro call must not
          only be the last statement of a macro, but must actually occur in
          the last line for tail‐recursion elimination to become effective,
          although it may be prefixed by ....iiiiffff or ....eeeellll or followed by \\\\}}}}.
          _7._7._L_o_c_a_l _s_t_r_i_n_g_s. Strings,  macros,  and  diversions  are,  once
          defined,  normally  accessible  from any part of a _t_r_o_f_f program.
          Local strings, defined with llllddddssss, are accessible only  within  the
          currently  executing  macro  instance,  and  are not inherited to
          macros invoked from them.  When  the  currently  executing  macro
          terminates,  they  are  automatically deleted, and all associated


                                       ‐ 48 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          storage is reclaimed.
          As long as a local string named _x_x  exists,  any  reference  with
          \\\\((((_x_x  or  \\\\[[[[_x_x]]]]  retrieves  the  value  of  the local string; the
          global string _x_x, if any, becomes inaccessible  by  this  method.
          Calls  to aaaassss, ssssuuuubbbbssssttttrrrriiiinnnngggg, iiiinnnnddddeeeexxxx, and cccchhhhoooopppp modify the local string.
          wwwwaaaattttcccchhhh with the name of a local string  as  argument  notifies  on
          modifications of the local string.  rrrrmmmm removes a local string and
          possibly makes a global string visible again, rrrrnnnn renames a  local
          string  to another local string, and aaaallllssss creates a local alias to
          a local string.
          It is not allowed to define local macros  or  diversions.   Calls
          to  ._x_x  or  ´´´´_x_x  reference a global macro or diversion even if a
          local string _x_x exists.  Traps and the \\\\YYYY escape sequence  always
          operate on global macros or diversions.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ddddeeee _x_x _y_y       –       ._y_y=........ –Define or redefine the macro  _x_x.
                                       The  contents  of the macro begin on
                                       the next input  line.   Input  lines
                                       are  copied  in  _c_o_p_y _m_o_d_e until the
                                       definition is terminated by  a  line
                                       beginning  with  ...._y_y,  whereupon the
                                       macro _y_y is called.  In the  absence
                                       of  _y_y, the definition is terminated
                                       by a line beginning  with  "........".   A
                                       macro  may  contain ddddeeee requests pro‐
                                       vided the terminating macros  differ
                                       or the contained definition termina‐
                                       tor  is  concealed.   "........"  can   be
                                       concealed as \\\\\\\\........ which will copy as
                                       \\\\........ and be reread as "........".
          ....aaaammmm _x_x _y_y       –       ._y_y=........ –Append to macro  (append  version
                                       of ddddeeee).
          ....ddddssss _x_x _s_t_r_i_n_g   –       ignored–Define  a  string  _x_x  containing
                                       _s_t_r_i_n_g.   Any  initial  double‐quote
                                       in _s_t_r_i_n_g is stripped off to  permit
                                       initial blanks.
          ....aaaassss _x_x _s_t_r_i_n_g   –       ignored–Append _s_t_r_i_n_g to string  _x_x  (ap‐
                                       pend version of ddddssss).
          ....llllddddssss _x_x _s_t_r_i_n_g  –       ignored–Define local string _x_x containing
                                       _s_t_r_i_n_g.  Equivalent to ddddssss at the top
                                       non‐macro level.
          ....ssssuuuubbbbssssttttrrrriiiinnnngggg _x_x _N [_M]     _M=−1 – Replace string _x_x by its substring
                                       between  indices  _N  and _M.  _N and _M
                                       start at 0.  Negative values are in‐
                                       terpreted relative to the end of the
                                       string; −1 implies the last  charac‐
                                       ter of the string.
          ....lllleeeennnnggggtttthhhh _R _s_t_r_i_n_g        _R set to 0–Store the length of _s_t_r_i_n_g  in
                                       register  _R.  _s_t_r_i_n_g is read in _c_o_p_y
                                       _m_o_d_e.
          ....iiiinnnnddddeeeexxxx _R _x_x _s_t_r_i_n_g      ignored–Store the position of  the  first
                                       occurence  of _s_t_r_i_n_g in _x_x in regis‐
                                       ter _R.  Positions are  counted  from


                                       ‐ 49 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       0.   If  no occurence is found, _R is
                                       set to -1.  _s_t_r_i_n_g is read  in  _c_o_p_y
                                       _m_o_d_e.
          ....cccchhhhoooopppp _x_x        –       ignored–Remove the last character of  the
                                       macro, string, or diversion _x_x.
          ....rrrrmmmm _x_x  –       ignored –    Remove request,  macro,  or  string.
                                       The  name  _x_x  is  removed  from the
                                       name list and  any  related  storage
                                       space  is  freed.  Subsequent refer‐
                                       ences will have no effect.  If  many
                                       macros and strings are being created
                                       dynamically, it may become necessary
                                       to  remove  unused ones to recapture
                                       internal  storage  space  for  newer
                                       registers.   If  a  macro is removed
                                       while it is in use, associated stor‐
                                       age  is  not released, and a warning
                                       of the mmmmaaaacccc category is emitted.
                                       rrrrmmmm  may  have  an  unlimited  number
                                       of  arguments.  However for creating
                                       portable documents only one argument
                                       to rrrrmmmm should be used.
          ....rrrrnnnn _x_x _y_y       –       ignored–Rename request, macro, or  string
                                       _x_x to _y_y.  If _y_y exists, it is first
                                       removed.
          ....ddddiiii _x_x  –       end     D    Divert output to macro  _x_x.   Normal
                                       text processing occurs during diver‐
                                       sion except that page offsetting  is
                                       not  done.   The diversion ends when
                                       the request ddddiiii or ddddaaaa is  encountered
                                       without  an argument; extraneous re‐
                                       quests  of  this  type  should   not
                                       appear  when  nested  diversions are
                                       being used.
          ....ddddaaaa _x_x  –       end     D    Divert, appending to _x_x (append ver‐
                                       sion of ddddiiii).
          ....bbbbooooxxxx _x_x –       end     D    Divert output to macro _x_x, excluding
                                       a partially filled line.
          ....bbbbooooxxxxaaaa _x_x        –       end  D Divert and append to _x_x, excluding
                                       a partially filled line.
          ....uuuunnnnffffoooorrrrmmmmaaaatttt _x_x    –       ignored–Strip line break information from
                                       diversion   _x_x.    All  breaks  that
                                       do not result in  explicit  vertical
                                       movement  are  discarded,  interword
                                       spaces that had  been  converted  to
                                       horizontal  movements during adjust‐
                                       ment become space characters  again,
                                       the  effects of tabulators and field
                                       characters are reverted, and hyphen‐
                                       ated word parts are combined again.
          ....aaaasssscccciiiiiiiiffffyyyy _x_x     –       ignored–All characters  in  diversion  _x_x
                                       changed  to  plain  text.   Has  all
                                       effects described for  uuuunnnnffffoooorrrrmmmmaaaatttt  and
                                       additionally discards font and point


                                       ‐ 50 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       size information and splits  substi‐
                                       tuted  ligatures to their individual
                                       characters.
          ....wwwwhhhh _N _x_x        –       –    vvvv Install a trap  to  invoke  _x_x  at
                                       page  position  _N; a _n_e_g_a_t_i_v_e _N will
                                       be interpreted with respect  to  the
                                       page  _b_o_t_t_o_m.   Any macro previously
                                       planted at _N is replaced by  _x_x.   A
                                       zero  _N refers to the _t_o_p of a page.
                                       In the  absence  of  _x_x,  the  first
                                       found trap at _N, if any, is removed.
          ....cccchhhh _x_x _N        –       –    vvvv Change the trap position for macro
                                       _x_x  to  be  _N.  In the absence of _N,
                                       the trap, if any, is removed.
          ....ddddwwwwhhhh _N _x_x       –       –    D,vvvvSet location trap in current  di‐
                                       version.   Diversion  traps  planted
                                       with ddddtttt are not  affected;  if  both
                                       a  ddddwwwwhhhh  and  a  ddddtttt  trap  are set at
                                       the same position, both  are  effec‐
                                       tive.   A ddddwwwwhhhh trap previously set at
                                       the same position is  replaced.   At
                                       the  top  non‐diversion level, it is
                                       equivalent to wwwwhhhh.  Otherwise with  a
                                       negative  or  zero  _N, the trap will
                                       never be invoked since  a  diversion
                                       has  no  bottom  and can never reach
                                       its top again.
          ....ddddcccchhhh _x_x _N       –       –    D,vvvvChange trap location  in  current
                                       diversion;  equivalent  to cccchhhh at the
                                       top non‐diversion level.
          ....ddddtttt _N _x_x        –       off  D,vvvvInstall a diversion trap at posi‐
                                       tion  _N  in the _c_u_r_r_e_n_t diversion to
                                       invoke macro _x_x.   Another  ddddtttt  will
                                       redefine  the diversion trap.  If no
                                       arguments are given,  the  diversion
                                       trap is removed.
          ....vvvvpppptttt _N  1       ignored –    Enable (_N≠0) or disable  (_N=0)  page
                                       ejections   and   vertical  position
                                       traps, i.e. those set with wwwwhhhh or ddddtttt.
                                       At  end of input, the page is force‐
                                       fully ejected.  The number  register
                                       ....vvvvpppptttt holds the current setting.
          ....iiiitttt _N _x_x        –       off  E Set an  input‐line‐count  trap  to
                                       invoke the macro _x_x after _N lines of
                                       _t_e_x_t input have been  read  (control
                                       or  request lines don’t count).  The
                                       text may be in‐line text or text in‐
                                       terpolated by inline or trap‐invoked
                                       macros.
          ....iiiittttcccc _N _x_x       –       off  E Set an input‐line‐count trap  like
                                       iiiitttt,  but  ignore  line interruptions
                                       with \\\\cccc when counting lines.
          ....rrrreeeettttuuuurrrrnnnn –       –       –    Immediately return from the  current
                                       macro to the level above.


                                       ‐ 51 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          ....sssshhhhiiiifffftttt _N        –       1    – Shift the arguments to the current
                                       macro by _N.
          ....aaaallllssss _y_y _x_x      –       –    – _y_y is  created  as  an  alias  for
                                       the  request,  macro,  or string _x_x.
                                       The alias name is in  every  respect
                                       identical  to the original name.  If
                                       _x_x is removed or renamed, _y_y contin‐
                                       ues  to  refer  to the object at the
                                       time the alias had been created (and
                                       vice‐versa).   If  either  _x_x  or _y_y
                                       are redefined, both refer to the new
                                       definition.
          ....bbbbllllmmmm _x_x none    none    –    Whenever a  blank  line  is  encoun‐
                                       tered,   the  macro  _x_x  is  invoked
                                       instead of the default  behavior  to
                                       output a blank line.
          ....eeeemmmm _x_x  none    none    –    The macro _x_x will  be  invoked  when
                                       all  input has ended.  The effect is
                                       the same as if the  contents  of  _x_x
                                       had been at the end of the last file
                                       processed, but all processing ceases
                                       at the next page eject.
          ....rrrreeeeccccuuuurrrrssssiiiioooonnnnlllliiiimmmmiiiitttt _N _M     –    – Set the maximum  stack  depth  for
                                       generally  recursive  invocations of
                                       macros to _N, and for invocations  of
                                       tail‐recursive macros to _M.  If _N or
                                       _M are zero, the respective depth  is
                                       unlimited.   The  default is 512 for
                                       the general case, and no  limit  for
                                       tail‐recursion.
          8888....  NNNNuuuummmmbbbbeeeerrrr RRRReeeeggggiiiisssstttteeeerrrrssss
          A variety of parameters are available to the user as  predefined,
          named  _n_u_m_b_e_r  _r_e_g_i_s_t_e_r_s  (see  Summary  and  Index, page 7).  In
          addition, the user may define his own named registers.   Register
          names  are  one  or  two characters long and _d_o _n_o_t conflict with
          request, macro, or string names.  Except for  certain  predefined
          read‐only  registers, a number register can be read, written, au‐
          tomatically incremented or decremented, and interpolated into the
          input  in  a  variety of formats.  One common use of user‐defined
          registers is to automatically number sections, paragraphs, lines,
          etc.   A  number  register  may  be used any time numerical input
          is expected or desired and may be used in  numerical  _e_x_p_r_e_s_s_i_o_n_s
          (§1.4).
          Number  registers  are  created  and  modified  using  nnnnrrrr,  which
          specifies  the  name,  numerical  value,  and  the auto‐increment
          size.  Registers are also modified, if  accessed  with  an  auto‐
          incrementing  sequence.   If  the registers _x and _x_x both contain
          _N and have  the  auto‐increment  size  _M,  the  following  access
          sequences have the effect shown:







                                       ‐ 52 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                   ─┌──────────┬──────────────────────┬──────────────┐
                   │         │     Effect on       │   Value      │
                   │Sequence │      Register       │Interpolated  │
                   ─├──────────┼──────────────────────┼──────────────┤
                   │\\\\nnnn_x      │        none         │     _N        │
                   │\\\\nnnn((((_x_x    │        none         │     _N        │
                   │\\\\nnnn[[[[_x_x_x]]]]  │none                 │     _N        │
                   │\\\\nnnn++++_x     │_x incremented by _M   │    _N+_M       │
                   │\\\\nnnn----_x     │_x decremented by _M   │    _N-_M       │
                   │\\\\nnnn++++((((_x_x   │_x_x incremented by _M  │    _N+_M       │
                   │\\\\nnnn----((((_x_x   │_x_x decremented by _M  │    _N-_M       │
                   │\\\\nnnn++++[[[[_x_x_x]]]] │_x_x_x incremented by _M │    _N+_M       │
                   │\\\\nnnn----[[[[_x_x_x]]]] │_x_x_x decremented by _M │    _N-_M       │
                   ─└──────────┴──────────────────────┴──────────────┘

          Floating‐point registers can be created and modified  using  nnnnrrrrffff.
          They  share  a  common  name  space  with integer registers; a nnnnrrrr
          request turns a floating‐point register into an integer register.
          Access and auto‐increment are as with integer registers.
          When interpolated, a number register is converted to decimal (de‐
          fault),  decimal with leading zeros, lower‐case Roman, upper‐case
          Roman, lower‐case sequential alphabetic, or upper‐case sequential
          alphabetic according to the format specified by aaaaffff.
          Local number registers can be created and modified using llllnnnnrrrr  and
          llllnnnnrrrrffff.   Like  local  strings, local registers are accessible only
          within the currently executing macro instance, are not  inherited
          to  macros  invoked  from  them, and are deleted when the current
          macro returns.
          The existence of a local number register _x_x makes the global num‐
          ber  register _x_x, if any, completely inaccessible.  The sequences
          \\\\nnnn((((_x_x and \\\\nnnn[[[[_x_x]]]]  retrieve  the  value  of  the  local  register,
          \\\\RRRR’_x_x...’, \\\\nnnn++++((((_x_x and \\\\nnnn++++[[[[_x_x]]]] (and likewise) modify it, and \\\\gggg((((_x_x
          and \\\\gggg[[[[_x_x]]]] retrieve its format.  Subsequent calls to nnnnrrrr, nnnnrrrrffff, aaaaffff,
          lllleeeennnnggggtttthhhh,  and iiiinnnnddddeeeexxxx with _x_x as argument modify the local register.
          wwwwaaaattttcccchhhhnnnn notifies on  modifications  of  the  local  register.   rrrrrrrr
          removes  a  local  register  and possibly makes a global register
          visible again, rrrrnnnnnnnn renames a  local  register  to  another  local
          register, and aaaallllnnnn creates a local alias to a local register.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....nnnnrrrr _R ±_N _M              –    uuuu The number register _R is  assigned
                                       the  value  ±_N  with  respect to the
                                       previous value, if any.  The  incre‐
                                       ment for auto‐incrementing is set to
                                       _M.  An alternate syntax is available
                                       with the \\\\RRRR´_R ±_N´ escape sequence.
          ....nnnnrrrrffff _R ±_F _G             –    uuuu The floating‐point register  _R  is
                                       assigned  the  value ±_F with respect
                                       to the previous value, if any.  Com‐
                                       parison  computations in the expres‐
                                       sion _F are performed using floating‐
                                       point  values.   The  increment  for
                                       auto‐incrementing, which also  is  a
                                       floating‐point value, is set to _G.


                                       ‐ 53 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          ....llllnnnnrrrr _R ±_N _M             –    uuuu Define and set local number regis‐
                                       ter _R.
          ....llllnnnnrrrrffff _R ±_F _G            –    uuuu Define  and  set  local  floating‐
                                       point register _R.
          ....aaaaffff _R _c arabic  –       –    Assign format _c to register _R.   The
                                       available formats are:

                                   ─┌────────┬───────────────────────────────────┐
                                   │       │            Numbering              │
                                   │Format │             Sequence              │
                                   ─├────────┼───────────────────────────────────┤
                                   │  1111    │0,1,2,3,4,5,...                    │
                                   │ 000000001111   │000,001,002,003,004,005,...        │
                                   │  iiii    │0,i,ii,iii,iv,v,...                │
                                   │  IIII    │0,I,II,III,IV,V,...                │
                                   │  aaaa    │0,a,b,c,...,z,aa,ab,...,zz,aaa,... │
                                   │  AAAA    │0,A,B,C,...,Z,AA,AB,...,ZZ,AAA,... │
                                   ─└────────┴───────────────────────────────────┘

                                       An arabic  format  having  _N  digits
                                       specifies  a  field  width of _N dig‐
                                       its (example 2  above).   The  read‐
                                       only  registers,  the _w_i_d_t_h function
                                       (§11.2), and  floating‐point  regis‐
                                       ters  are  always  arabic.  Warning:
                                       the value of a  number  register  in
                                       a  non‐Arabic format is not numeric,
                                       and will not  produce  the  expected
                                       results in expressions.
                                       The function \\\\gggg_x, \\\\gggg((((_x_x, or  \\\\gggg[[[[_x_x_x]]]]
                                       returns  the format of a number reg‐
                                       ister in a form suitable for aaaaffff;  it
                                       returns  nothing if the register has
                                       not been used.
          ....rrrrrrrr _R   –       ignored –    Remove register _R.  If  many  regis‐
                                       ters  are being created dynamically,
                                       it may become necessary to remove no
                                       longer  used  registers to recapture
                                       internal  storage  space  for  newer
                                       registers.  The register ....RRRR contains
                                       the number of number registers still
                                       available.
                                       rrrrrrrr  may  have  an  unlimited  number
                                       of  arguments.  However for creating
                                       portable documents only one argument
                                       to rrrrrrrr should be used.
          ....rrrrnnnnnnnn _R _S        –       –    – Rename register  _R  to  _S.   If  _S
                                       exists, it is first removed.
          ....aaaallllnnnn _S _R        –       –    – Register _S is created as an  alias
                                       for  _R.   The alias name is in every
                                       respect identical  to  the  original
                                       name.   If  _R is removed or renamed,
                                       _S continues to refer to the register
                                       at  the time the alias had been cre‐


                                       ‐ 54 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       ated (and vice‐versa).  A change  in
                                       value  or  format in _R affects _S and
                                       vice‐versa.
          9999....  TTTTaaaabbbbssss,,,, LLLLeeeeaaaaddddeeeerrrrssss,,,, aaaannnndddd FFFFiiiieeeellllddddssss
          _9._1._T_a_b_s _a_n_d _l_e_a_d_e_r_s. The ASCII horizontal tab character and  the
          ASCII  SOH  (hereafter known as the _l_e_a_d_e_r character) can both be
          used to generate either horizontal motion or a string of repeated
          characters.   The  length  of the generated entity is governed by
          internal _t_a_b _s_t_o_p_s specifiable with ttttaaaa.  The  default  difference
          is  that  tabs  generate  motion and leaders generate a string of
          periods; ttttcccc and llllcccc offer the  choice  of  repeated  character  or
          motion.  There are three types of internal tab stops—_l_e_f_t adjust‐
          ing, _r_i_g_h_t adjusting, and _c_e_n_t_e_r_i_n_g.   In  the  following  table,
          _D  is  the  distance  from the current position on the _i_n_p_u_t line
          (where a tab or leader was found) to the  next  tab  stop,  _n_e_x_t‐
          _s_t_r_i_n_g  consists  of  the  input characters following the tab (or
          leader) up to the next tab (or leader) or end of line, and  _W  is
          the width of _n_e_x_t‐_s_t_r_i_n_g.

             ─┌──────────┬─────────────────────┬───────────────────────────┐
             │  Tab    │Length of motion or │       Location of         │
             │  type   │repeated characters │       _n_e_x_t‐_s_t_r_i_n_g         │
             ─├──────────┼─────────────────────┼───────────────────────────┤
             │  Left   │         _D          │Following _D                │
             │ Right   │        _D-_W         │Right adjusted within _D    │
             │Centered │       _D-_W/2        │Centered on right end of _D │
             ─└──────────┴─────────────────────┴───────────────────────────┘

          The length of generated motion is allowed  to  be  negative,  but
          that  of a repeated character string cannot be.  Repeated charac‐
          ter strings contain an integer  number  of  characters,  and  any
          residual  distance is prepended as motion.  Tabs or leaders found
          after the last tab stop are ignored, but may  be  used  as  _n_e_x_t‐
          _s_t_r_i_n_g terminators.
          Tabs and leaders are not interpreted in _c_o_p_y  _m_o_d_e.   \\\\tttt  and  \\\\aaaa
          always  generate  a  non‐interpreted tab and leader respectively,
          and are equivalent to actual tabs and leaders in _c_o_p_y _m_o_d_e.
          _9._2._F_i_e_l_d_s. A _f_i_e_l_d is contained between a _p_a_i_r of  _f_i_e_l_d  _d_e_l_i_m_‐
          _i_t_e_r characters, and consists of sub‐strings separated by _p_a_d_d_i_n_g
          indicator characters.  The field length is the  distance  on  the
          _i_n_p_u_t  line  from the position where the field begins to the next
          tab stop.  The difference between the total  length  of  all  the
          sub‐strings  and  the  field length is incorporated as horizontal
          padding space that is divided among the indicated padding places.
          The incorporated padding is allowed to be negative.  For example,
          if the field delimiter is ####  and  the  padding  indicator  is  ^^^^,
          ####^^^^_x_x_x^^^^_r_i_g_h_t####  specifies  a  right‐adjusted string with the string
          _x_x_x centered in the remaining space.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ttttaaaa _N_t ...      8n; 0.5i     noneE,mmmmSet  tab  stops  and   types.
                                       _t=RRRR,  right  adjusting; _t=CCCC, center‐
          ⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽
          ∗Register ....SSSS is available for compatibility with DWB.


                                       ‐ 55 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       ing;  _t  absent,   left   adjusting.
                                       _t_r_o_f_f  tab  stops  are  preset every
                                       0.5in.; _n_r_o_f_f every 0.8in.  The stop
                                       values  are separated by spaces, and
                                       a value preceded by ++++ is treated  as
                                       an  increment  to  the previous stop
                                       value.  The  ....SSSS  register*  and  the
                                       ....ttttaaaabbbbssss  register  hold  a string with
                                       the current tab stops in a form that
                                       is acceptable for the ttttaaaa request; it
                                       can thus be used to save and restore
                                       tab stops.
          ....ttttaaaa _M_v ... _N_w TTTT _A_t ... _Z_ua   _N=0E,mmmmSet   repeated    tab    stops
                                       and    types   at   _M_v,   ...,   _N_w,
                                       _N + _A_t,  ...,  _N + _Z_u,   _N + _Z + _A_t,
                                       ...,  _N + _Z + _Z_u, _N + 2·_Z + _A_t, ...,
                                       _N + 2·_Z + _Z_u,   _N + 3·_Z + _A_t,   ...,
                                       _N + 3·_Z + _Z_u, ... .  Thus ....ttttaaaa TTTT 0000....5555iiii
                                       sets  tab  stops  every  0.5in,  and
                                       ....ttttaaaa 1111iiii 4444iiii TTTT ....22225555iiii 1111iiii  sets  tab stops
                                       at 1in, 4in,  4.25in,  5in,  5.25in,
                                       6in, 6.25in, etc.
          ....ttttcccc _c   none    none    E    The tab repetition character becomes
                                       _c, or is removed specifying motion.
          ....llllcccc _c   ....       none    E    The leader repetition character  be‐
                                       comes  _c,  or  is removed specifying
                                       motion.
          ....ffffcccc _a _b off     off     –    The field delimiter  is  set  to  _a;
                                       the  padding indicator is set to the
                                       _s_p_a_c_e character or to _b,  if  given.
                                       In  the  absence  of  arguments  the
                                       field mechanism is turned off.
          11110000....  IIIInnnnppppuuuutttt aaaannnndddd OOOOuuuuttttppppuuuutttt CCCCoooonnnnvvvveeeennnnttttiiiioooonnnnssss aaaannnndddd CCCChhhhaaaarrrraaaacccctttteeeerrrr TTTTrrrraaaannnnssssllllaaaattttiiiioooonnnnssss
          _1_0._1._I_n_p_u_t _c_h_a_r_a_c_t_e_r _t_r_a_n_s_l_a_t_i_o_n_s. Ways of inputting the  graphic
          character  set were discussed in §2.1.  The ASCII control charac‐
          ters horizontal tab (§9.1), SOH (§9.1), and  e_backspace  (§10.3)
          are  discussed  elsewhere.  The newline delimits input lines.  In
          addition, STX, ETX, ENQ, ACK, and BEL are accepted,  and  may  be
          used  as delimiters or translated into a graphic with ttttrrrr (§10.5).
          _A_l_l others are ignored.
          The _e_s_c_a_p_e character \\\\  introduces  _e_s_c_a_p_e  _s_e_q_u_e_n_c_e_s—causes  the
          following  character  to  mean  another character, or to indicate
          some function.  A complete list of such  sequences  is  given  in
          the  Summary.   \\\\  should  not be confused with the ASCII control
          character ESC of the same name.  The escape character  \\\\  can  be
          output by using the special character \\\\((((rrrrssss.  The escape character
          can be changed with eeeecccc, and all that  has  been  said  about  the
          default  \\\\  becomes  true  for  the new escape character.  \\\\eeee can
          be used to print whatever the current escape character  is;  this
          escape sequence is interpreted in _c_o_p_y _m_o_d_e.  \\\\EEEE evaluates to the
          current escape character but is not interpreted in _c_o_p_y _m_o_d_e;  if
          it  is  put  into  a string or macro, it will introduce an escape
          sequence once the string is printed or  the  macro  is  executed,
          respectively.  eeeeccccssss and eeeeccccrrrr save and restore the escape character.


                                       ‐ 56 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          If necessary or convenient, the escape mechanism  may  be  turned
          off with eeeeoooo, and restored with eeeecccc.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....eeeecccc _c   \\\\       \\\\       –    Set escape character to \\\\, or to  _c,
                                       if given.
          ....eeeeoooo     on      –       –    Turn escape mechanism off.
          ....eeeeccccssss    \       –       –    Save escape character.
          ....eeeeccccrrrr    \       –       –    Restore saved escape character.
          ....eeeessssccccooooffffffff _e_s_c ... on      ignored–Disable  escapes  _e_s_c  ....   For
                                       example  the  request  ....eeeessssccccooooffffffff  ;;;;  @@@@
                                       would disable escapes \\\\;;;;,  \\\\@@@@{{{{,  and
                                       \\\\@@@@}}}}.   The request had been added as
                                       a workaround for manual pages  which
                                       by  mistake escape normal charaters.
                                       At the moment only one‐character ar‐
                                       guments  are valid.  This may change
                                       in future versions.
          ....eeeessssccccoooonnnn _e_s_c ...  on      ignored–Enable escapes _e_s_c ....
          _1_0._2._L_i_g_a_t_u_r_e_s. The set of available ligatures is device and font
          dependent,  but  is  often  a subset of ffffiiii, ffffllll, ffffffff, ffffffffiiii, and ffffffffllll.
          They may be input (even in _n_r_o_f_f) by \\\\((((ffffiiii, \\\\((((ffffllll, \\\\((((ffffffff, \\\\((((FFFFiiii,  and
          \\\\((((FFFFllll  respectively.  In _t_r_o_f_f, the fffflllliiiigggg request specifies the set
          of ligatures available with an  individual  font.   The  ligature
          mode is normally on in _t_r_o_f_f, and _a_u_t_o_m_a_t_i_c_a_l_l_y invokes ligatures
          during input.  At most the five named ligatures  are  enabled  by
          default.
          The ligature suppressor \\\\;;;; disables automatic  ligature  building
          if it is placed between two characters, but has no other effects.
          Many other escape sequences, e.g. \\\\&&&&, \\\\%%%%, also disable  automatic
          ligature building.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....llllgggg _N   off; on on      –    Ligature mode  is  turned  on  if  _N
                                       is  absent  or  non‐zero, and turned
                                       off  if  _N=0.   If  _N=2,  only   the
                                       two‐character ligatures are automat‐
                                       ically   invoked.    Ligature   mode
                                       is  inhibited  for  request,  macro,
                                       string, register, or file names, and
                                       in _c_o_p_y _m_o_d_e.  No effect in _n_r_o_f_f.
          ....fffflllliiiigggg _F _s_t_r_i_n_g _c ...    ignoredTDefine the set of ligatures to be
                                       used  with  font _F.  _s_t_r_i_n_g may con‐
                                       sist of up to four  characters;  its
                                       exact  occurences are substituted by
                                       the character _c whenever the current
                                       font  is  _F.   If _s_t_r_i_n_g starts with
                                       a minus sign,  ligature  subtitution
                                       for  it  is disabled; the _c argument
                                       must not be present  in  this  case.
                                       It is required that any substring of
                                       _s_t_r_i_n_g that consists of two or  more
                                       characters is also defined as a lig‐
                                       ature.  Multiple _s_t_r_i_n_g/_c pairs  may


                                       ‐ 57 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       be  given.  As a special case, ....fffflllliiiigggg
                                       _F 0000 disables all ligatures for  font
                                       _F.   The default set of ligatures is
                                       specific to a font and is determined
                                       from its metrics file.
                                       As examples, ....fffflllliiiigggg RRRR TTTThhhh  \\\\[[[[TTTT____hhhh]]]]  en‐
                                       ables  a ligature for ‘‘Th’’ in font
                                       RRRR, and ....fffflllliiiigggg RRRR ----TTTThhhh disables it.
          ....ffffddddeeeeffffeeeerrrrlllliiiigggg _F _s_t_r_i_n_g ... ignoredTDefer ligature building  for  the
                                       first character of _s_t_r_i_n_g.  Normally
                                       when a sequence of three  characters
                                       appears  for  which  both  the first
                                       and the last two characters are  de‐
                                       fined  as  a  ligature, the ligature
                                       is built using the first  two  char‐
                                       acters.   For  example,  if  ‘‘ffi’’
                                       appears in input and both ‘‘ff’’ and
                                       ‘‘fi’’ are defined as ligatures, the
                                       ‘‘ff’’ ligature is  built,  followed
                                       by  a  single  ‘‘i’’ character.  Use
                                       of this request causes the  ligature
                                       to  be  built  using  the second two
                                       characters, so in the example, ....ffffddddeeee‐‐‐‐
                                       ffffeeeerrrrlllliiiigggg  RRRR  ffffffffiiii  would  result  in  a
                                       single ‘‘f’’ character followed by a
                                       ‘‘fi’’ ligature.
          _1_0._3._B_a_c_k_s_p_a_c_i_n_g, _u_n_d_e_r_l_i_n_i_n_g, _o_v_e_r_s_t_r_i_k_i_n_g, _e_t_c. Unless in  _c_o_p_y
          _m_o_d_e,  the  ASCII  backspace  character is replaced by a backward
          horizontal motion  having  the  width  of  the  space  character.
          Underlining  as  a form of line‐drawing is discussed in §12.4.  A
          generalized overstriking function is described in §12.1.
          _n_r_o_f_f automatically underlines characters in the _u_n_d_e_r_l_i_n_e  font,
          specifiable  with  uuuuffff, normally that on font position 2 (normally
          Times Italic,  see  §2.2).   In  addition  to  fffftttt  and  \\\\ffff_F,  the
          underline  font  may  be  selected  by uuuullll and ccccuuuu.  Underlining is
          restricted to an  output‐device‐dependent  subset  of  _r_e_a_s_o_n_a_b_l_e
          characters.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....uuuullll _N   off     _N=1     E    Underline  in  _n_r_o_f_f  (italicize  in
                                       _t_r_o_f_f)  the next _N input text lines.
                                       Actually, switch to _u_n_d_e_r_l_i_n_e  font,
                                       saving  the  current  font for later
                                       restoration;  _o_t_h_e_r   font   changes
                                       within  the  span  of a uuuullll will take
                                       effect,  but  the  restoration  will
                                       undo the last change.  Output gener‐
                                       ated by ttttllll (§14) _i_s affected by  the
                                       font  change, but does _n_o_t decrement
                                       _N.  If _N>1, there is the risk that a
                                       trap  interpolated macro may provide
                                       text lines within the span; environ‐
                                       ment switching can prevent this.
          ....ccccuuuu _N   off     _N=1     E    Continuous underline.  A variant  of


                                       ‐ 58 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       uuuullll that causes _e_v_e_r_y character to be
                                       underlined in _n_r_o_f_f.   Identical  to
                                       uuuullll in _t_r_o_f_f.
          ....uuuuffff _F   Italic  Italic  –    Underline font set to _F.  In  _n_r_o_f_f,
                                       _F may _n_o_t be on position 1.
          _1_0._4._C_o_n_t_r_o_l _c_h_a_r_a_c_t_e_r_s. Both the control character .... and the _n_o‐
          _b_r_e_a_k  control  character  ´´´´  may be changed, if desired.  Such a
          change must be compatible with the  design  of  any  macros  used
          in  the  span of the change, and particularly of any trap‐invoked
          macros.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....cccccccc _c   ....       ....       E    The basic control character  is  set
                                       to _c, or reset to "....".
          ....cccc2222 _c   ´´´´       ´´´´       E    The _n_o_b_r_e_a_k control character is set
                                       to _c, or reset to "´´´´".
          _1_0._5._O_u_t_p_u_t _t_r_a_n_s_l_a_t_i_o_n. One character can be made a stand‐in for
          another  character using ttttrrrr.  All text processing (e.g. character
          comparisons) takes place  with  the  input  (stand‐in)  character
          which  appears  to  have  the  width of the final character.  The
          graphic translation occurs at the  moment  of  output  (including
          diversion).   Text  in  a  diversion is not translated again when
          it is output or rediverted unless the aaaasssscccciiiiiiiiffffyyyy  request  had  been
          applied on it.
          A character can  be  substituted  by  an  arbitrary  sequence  of
          characters,  motions, drawing commands, etc. by means of the cccchhhhaaaarrrr
          request.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ttttrrrr _a_b_c_d....    none    –    O Translate _a into _b, _c into _d, etc.
                                       If  an  odd  number of characters is
                                       given, the last one will  be  mapped
                                       into  the  space  character.   To be
                                       consistent, a particular translation
                                       must  stay  in  effect from _i_n_p_u_t to
                                       _o_u_t_p_u_t time.
          ....ttttrrrriiiinnnn _a_b_c_d....  none    –    O Translate _a into _b, _c into _d, etc.
                                       as  with  ttttrrrr,  but  when the aaaasssscccciiiiiiiiffffyyyy
                                       request is called, retranslate _b  to
                                       _a,  _d to _c, etc. in the diversion it
                                       is applied to.
          ....ttttrrrrnnnntttt _a_b_c_d....  none    –    O Translate _a into _b, _c into _d, etc.
                                       as  with  ttttrrrr,  unless  the output is
                                       written to a diversion in  transpar‐
                                       ent mode.
          ....ffffttttrrrr _F _a_b_c_d.... none    –    P,TFont‐specific ttttrrrr.  If the current
                                       character  originates  from  font _F,
                                       translate character _a into _b, _c into
                                       _d, etc.
          ....cccchhhhaaaarrrr _c _s_t_r_i_n_g          ignored–Define  character  _c  to  _s_t_r_i_n_g.
                                       _s_t_r_i_n_g is read in _c_o_p_y _m_o_d_e when the
                                       request is processed.
                                       Whenever _c occurs  in  regular  (not
                                       copy  mode)  later, a temporary copy


                                       ‐ 59 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       of  the   current   environment   is
                                       created,  the  escape  character  is
                                       temporarily set to \\\\  ,  and  _s_t_r_i_n_g
                                       is  output  in  nofill  mode  to  an
                                       unnamed  diversion.   If  _c   itself
                                       occurs  in _s_t_r_i_n_g, no recursive sub‐
                                       stitution takes place, but the plain
                                       character  _c  is  selected  instead.
                                       The resulting  object  continues  to
                                       behave  like  the  single  character
                                       _c in the data stream, notionally re‐
                                       taining  its font and character size
                                       properties.  It can thus be part  of
                                       a kerning definition, can be hyphen‐
                                       ated (possibly requiring an explicit
                                       hyphenation  code to be assigned us‐
                                       ing the hhhhccccooooddddeeee request),  can  become
                                       the tab or leader character, and can
                                       be used for line drawing.
                                       Static letter space adjustments  de‐
                                       fined  with  the  ttttrrrraaaacccckkkk  request are
                                       applied to each but the last charac‐
                                       ter inside the diversion, and to the
                                       object as a whole.   Dynamic  letter
                                       space  adjustments  defined with the
                                       lllleeeettttaaaaddddjjjj request are only  applied  to
                                       the  object  as  a whole.  No letter
                                       reshaping  is  performed  on  either
                                       the  object  or  the contents of the
                                       diversion.
                                       If both ttttrrrr and cccchhhhaaaarrrr are defined  for
                                       a  character _c, ttttrrrr becomes effective
                                       first and changes _c to the  transla‐
                                       tion defined, but if _c is the result
                                       of ttttrrrr and cccchhhhaaaarrrr is  defined  for  it,
                                       cccchhhhaaaarrrr  is applied.  ffffttttrrrr has no effect
                                       on characters for which cccchhhhaaaarrrr is  de‐
                                       fined.   Both ttttrrrr and ffffttttrrrr are applied
                                       to characters inside the cccchhhhaaaarrrr diver‐
                                       sion as usual.
                                       At the time _c would have  been  out‐
                                       put,  the  contents of the diversion
                                       are printed instead of it.
          ....ffffcccchhhhaaaarrrr _c _s_t_r_i_n_g ignored T    Define character _c to  _s_t_r_i_n_g  as  a
                                       fallback  only:   If  _c  is  present
                                       in the current font, output _c,  oth‐
                                       erwise, output _s_t_r_i_n_g as with cccchhhhaaaarrrr.
          ....rrrrcccchhhhaaaarrrr _c...             ignored–Remove character definitions  for
                                       _c...;   applies  to  both  cccchhhhaaaarrrr  and
                                       ffffcccchhhhaaaarrrr.
          ....uuuuttttffff8888ccccoooonnnnvvvv _c_1 _c_2 ignored –    _n_r_o_f_f only:   With  ----TTTTllllooooccccaaaalllleeee  and  a
                                       UTF‐8  locale,  "‐"  is  replaced by
                                       a UTF‐8  hyphen,  and  "\\\\‐"  remains
                                       the  ASCII  hyphen‐minus  character.


                                       ‐ 60 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       This is  because  in  manual  pages,
                                       "\\\\----"  represents  the  ASCII  option
                                       introduction character, and convert‐
                                       ing  it  to  a UTF‐8 minus character
                                       would make it  impossible  to  copy‐
                                       and‐paste option descriptions.  Sim‐
                                       ilar considerations apply to ` ' vs.
                                       \`  \'.   The former are typographic
                                       single quotes, while the latter  are
                                       commonly  used  for the ASCII syntax
                                       quotes in manual pages.
                                       By use of uuuuttttffff8888ccccoooonnnnvvvv the three default
                                       translations  can  be  redefined and
                                       additional translations can be done.
                                       If  _c_2  is  missing a translation is
                                       removed.  This is applied for manual
                                       pages  where  the  no translation is
                                       used.
          _1_0._6._T_r_a_n_s_p_a_r_e_n_t _t_h_r_o_u_g_h_p_u_t. An input line beginning  with  a  \\\\!!!!
          is  read  in _c_o_p_y _m_o_d_e and _t_r_a_n_s_p_a_r_e_n_t_l_y output (without the ini‐
          tial \\\\!!!!); the text processor is otherwise unaware of  the  line’s
          presence.  This mechanism may be used to pass control information
          to a post‐processor or to imbed control lines in a macro  created
          by a diversion.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....oooouuuuttttppppuuuutttt _s_t_r_i_n_g          ignored–Write _s_t_r_i_n_g directly to interme‐
                                       diate  output, regardless of whether
                                       there is a current diversion or not.
                                       _s_t_r_i_n_g  is read in copy mode, and an
                                       initial double‐quote is discarded.
          _1_0._7._T_r_a_n_s_p_a_r_e_n_t _o_u_t_p_u_t. The sequence  \\\\XXXX´_a_n_y_t_h_i_n_g´  copies  _a_n_y_‐
          _t_h_i_n_g  to  the  _t_r_o_f_f  output,  as  a  device control function in
          the form xxxx XXXX _a_n_y_t_h_i_n_g (§26).  Escape sequences  in  _a_n_y_t_h_i_n_g  are
          processed.   The  sequence  \\\\YYYY_x,  \\\\YYYY((((_x_x,  or  \\\\YYYY[[[[_x_x_x]]]]  copies the
          contents of the string or macro _x, _x_x, or _x_x_x,, respectively,  to
          the output as a device control function without processing escape
          sequences.  Newlines in the macro are  embedded  in  the  output.
          _n_r_o_f_f discards transparent output sequences and their contents.
          _1_0._8._C_o_m_m_e_n_t_s _a_n_d _c_o_n_c_e_a_l_e_d _n_e_w_l_i_n_e_s. An uncomfortably long input
          line  that  must  stay  one  line  (e.g.  a string definition, or
          nofilled text) can be split into many physical  lines  by  ending
          all but the last one with the escape \\\\ .  The sequence \\\\(newline)
          is _a_l_w_a_y_s ignored—except in a comment.  Comments may be  imbedded
          at  the  _e_n_d  of  any  line by prefacing them with \\\\"""".  This form
          does not conceal the newline at the end of the comment.   A  line
          beginning  with  \\\\""""  will  appear as a blank line and behave like
          ....sssspppp 1111; a comment can be on a line  by  itself  by  beginning  the
          line  with  ....\\\\"""".  The form \\\\#### includes the newline as part of the
          comment.  It thus effectively acts like a  concealed  newline  in
          concatenating the following line immediately to the current line.
          11111111....   LLLLooooccccaaaallll  HHHHoooorrrriiiizzzzoooonnnnttttaaaallll  aaaannnndddd  VVVVeeeerrrrttttiiiiccccaaaallll  MMMMoooottttiiiioooonnnnssss,,,,  aaaannnndddd  tttthhhheeee  WWWWiiiiddddtttthhhh
          F1_FFFu1_uuun.nnnc1_ccct.tttiL_iiioo_ooonc_nnn_a_l _M_o_t_i_o_n_s. The functions \\\\vvvv´´´´_N´´´´ and \\\\hhhh´´´´_N´´´´ can be used for
          Fl_FFFuo_uuunc_nnnca_ccctl_tttiiiioooonvnnnertical and horizontal motion respectively.  The distance


                                       ‐ 61 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _N may be negative; the  _p_o_s_i_t_i_v_e  directions  are  _r_i_g_h_t_w_a_r_d  and
          _d_o_w_n_w_a_r_d.   A  _l_o_c_a_l  motion  is one contained _w_i_t_h_i_n a line.  To
          avoid unexpected vertical dislocations, it is necessary that  the
          _n_e_t  vertical  local  motion  within  a  word  in filled text and
          otherwise within a line balance to zero.  The above  and  certain
          other  escape  sequences providing local motion are summarized in
          the following table.*

          ─┌──────────────┬────────────────────────╥──────────────┬─────────────────────────────┐
          │  Vertical   │      Effect in        ║ Horizontal  │         Effect in           │
          │Local Motion │  _t_r_o_f_f       _n_r_o_f_f    ║Local Motion │      _t_r_o_f_f          _n_r_o_f_f   │
          ─├──────────────┼────────────────────────╫──────────────┼─────────────────────────────┤
          ││   \\\\vvvv´´´´_N´´´´     ││Move distance _N        ║║   \\\\hhhh´´´´_N´´´´     ││Move distance _N              ││
          │├───────────────│┼───────────────────────║   \\\\(space)  │Unpaddable space‐size space  │
          │             │          │            ║   \\\\∼∼∼∼        │Paddable no‐break space      │
          │   \\\\uuuu        │½ em up   │½ line up   ║   \\\\0000        │Digit‐size space             │
          │   \\\\dddd        │½ em down │½ line down ║╟───────────────│┼─────────────────────────────│
          │   \\\\rrrr        │1 em up   │1 line up   ║   \\\\||||        │1/6 em space       │ignored  │
          │             │          │            ║   \\\\^^^^        │1/12 em space      │ignored  │
          ─└──────────────┴───────────┴─────────────╨──────────────┴────────────────────┴─────────┘

          As  an  example,  EEEE2222  could  be   generated   by   the   sequence
          EEEE\\\\ssss----2222\\\\vvvv´´´´----0000....4444mmmm´´´´2222\\\\vvvv´´´´0000....4444mmmm´´´´\\\\ssss++++2222;  note  that  the 0.4 em vertical mo‐
          tions are at the smaller size.
          _1_1._2._W_i_d_t_h _F_u_n_c_t_i_o_n. The _w_i_d_t_h function \\\\wwww´´´´_s_t_r_i_n_g´´´´ generates  the
          numerical  width  of  _s_t_r_i_n_g  (in  basic  units).   Size and font
          changes may be safely imbedded in _s_t_r_i_n_g, and will not affect the
          current environment.  For example, ....ttttiiii ----\\\\wwww´´´´\\\\ffffBBBB1111.... ´´´´uuuu could be used
          to temporarily indent leftward a distance equal to  the  size  of
          the string "1111.... " in font BBBB.
          The width function also sets five number registers.   The  regis‐
          ters  sssstttt  and  ssssbbbb  are set respectively to the highest and lowest
          extent of _s_t_r_i_n_g relative to the baseline; then, for example, the
          total  _h_e_i_g_h_t  of the string is \\\\nnnn((((ssssttttuuuu----\\\\nnnn((((ssssbbbbuuuu.  The registers rrrrsssstttt
          and rrrrssssbbbb are set respectively to the  highest  and  lowest  visual
          extent  of  _s_t_r_i_n_g  relative to the baseline, i.e. to the maximum
          and minimum extent of the _y value of  any  bounding  box  of  the
          characters  in _s_t_r_i_n_g.  In _t_r_o_f_f the number register cccctttt is set to
          a value between 0 and 3:  0 means that all of the  characters  in
          _s_t_r_i_n_g  were short lower case characters without descenders (like
          eeee); 1 means that at least one character  has  a  descender  (like
          yyyy);  2  means  that  at least one character is tall (like HHHH); and
          3 means that both tall characters and characters with  descenders
          are present.
          The ....wwww number register contains the width of the previous charac‐
          ter independently of the width function.  Similarly, the ....cccchhhhtttt and
          ....ccccddddpppp registers are set respectively to  the  highest  and  lowest
          visual extent of the previous character relative to the baseline.
          _1_1._3._M_a_r_k _h_o_r_i_z_o_n_t_a_l _p_l_a_c_e. The escape sequence  \\\\kkkk_x  will  cause
          the   _c_u_r_r_e_n_t  horizontal  position  in  the  _i_n_p_u_t  _l_i_n_e  to  be
          stored in register _x.   As  an  example,  the  construction  \\\\kkkkxxxx‐‐‐‐
          _w_o_r_d\\\\hhhh´´´´||||\\\\nnnnxxxxuuuu++++3333uuuu´´´´_w_o_r_d  will  embolden _w_o_r_d by backing up to almost
          ⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽
          ∗The line drawing escapes \l and \L also cause local motions.


                                       ‐ 62 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          its beginning and overprinting it, resulting in _w_w_o_o_r_r_d_d.   Likewise,
          \\\\kkkk((((_x_x  and \\\\kkkk[[[[_x_x_x]]]] will store the horizontal position in register
          _x_x or _x_x_x, respectively.  The hhhhpppp number register also  holds  the
          current horizontal position in the input line.
          11112222....  OOOOvvvveeeerrrrssssttttrrrriiiikkkkeeee,,,, BBBBrrrraaaacccckkkkeeeetttt,,,, LLLLiiiinnnneeee‐ddddrrrraaaawwwwiiiinnnngggg,,,, GGGGrrrraaaapppphhhhiiiiccccssss,,,, aaaannnndddd  ZZZZeeeerrrroooo‐wwwwiiiiddddtttthhhh
          F1_FFFu2_uuun.nnnc1_ccct.tttiO_iiiov_ooone_nnnsr_sss_s_t_r_i_k_i_n_g.  Automatically  centered  overstriking  of  up
          FtFFFuouuunnnncccctntttiiiiionooonennnssss characters  is  provided  by  the  _o_v_e_r_s_t_r_i_k_e  function
          \\\\oooo´´´´_s_t_r_i_n_g´´´´.  The characters in _s_t_r_i_n_g  overprinted  with  centers
          aligned; the total width is that of the widest character.  _s_t_r_i_n_g
          may _n_o_t contain local  vertical  motion.   As  examples,  \\\\oooo´´´´eeee\\\\´´´´´´´´
          produces e´´´´eee, and \\\\oooo´´´´\\\\((((mmmmoooo\\\\((((ssssllll´´´´ produces ∈////∈∈∈.
          _1_2._2._Z_e_r_o‐_w_i_d_t_h _c_h_a_r_a_c_t_e_r_s _a_n_d _s_t_r_i_n_g_s.  The  function  \\\\zzzz_c  will
          output  _c  without  spacing  over  it, and can be used to produce
          left‐aligned overstruck combinations.   As  examples,  \\\\zzzz\\\\((((cccciiii\\\\((((ppppllll
          will  produce ○++++○○○, and \\\\((((bbbbrrrr\\\\zzzz\\\\((((rrrrnnnn\\\\((((uuuullll\\\\((((bbbbrrrr will produce the smallest
          possible constructed box ││││‾____‾‾‾││││.
          The function \\\\ZZZZ’_s_t_r_i_n_g’ prints _s_t_r_i_n_g in nofill mode and restores
          the horizontal and vertical position afterwards.
          _1_2._3._L_a_r_g_e _B_r_a_c_k_e_t_s.  The  Special  Font  contains  a  number  of
          bracket  construction  pieces  (⎧⎩⎫⎭⎨⎬⎪⌊⌋⌈⌉) that can be combined
          into various bracket styles.   The  function  \\\\bbbb´´´´_s_t_r_i_n_g´´´´  may  be
          used  to  pile  up vertically the characters in _s_t_r_i_n_g (the first
          character on top and the last  at  the  bottom);  the  characters
          are  vertically  separated by 1 em and the total pile is centered
          1/2em above the current baseline (½ line in _n_r_o_f_f).  For example,
          \\\\bbbb´´´´\\\\((((llllcccc\\\\((((llllffff´´´´EEEE\\\\||||\\\\bbbb´´´´\\\\((((rrrrcccc\\\\((((rrrrffff´´´´\\\\xxxx´´´´----0000....5555mmmm´´´´\\\\xxxx´´´´0000....5555mmmm´´´´ produces ⌈⌈⌈⌈
                                                                ⌊⌊⌊⌊EEEE⌉⌉⌉⌉
                                                                  ⌋⌋⌋⌋.
          _1_2._4._L_i_n_e _d_r_a_w_i_n_g. The function \\\\llll´´´´_N_c´´´´ (backslash‐ell) will  draw
          a  string  of  repeated  _c’s  towards the right for a distance _N.
          If _c looks like a continuation of an expression  for  _N,  it  may
          insulated  from  _N  with  a  \\\\&&&&.   If  _c  is not specified, the ⎽⎽⎽⎽
          (baseline rule) is used (underline character  in  _n_r_o_f_f).   If  _N
          is  negative,  a  backward  horizontal  motion  of size _N is made
          _b_e_f_o_r_e drawing the string.  Any space resulting from  _N/(size  of
          _c)  having  a remainder is put at the beginning (left end) of the
          string.  If _N is less than the width of _c, a single _c is centered
          on  a  distance  _N.   In the case of characters that are designed
          to be connected such as baseline‐rule ⎽⎽⎽⎽, underrule ____,  and  root‐
          en ‾‾‾‾,  the remainder space is covered by over‐lapping; the set of
          these characters can be customized with the  ccccoooonnnnnnnneeeeccccttttcccchhhhaaaarrrr  request
          described below.  If _N is _l_e_s_s than the width of _c, a single _c is
          centered on a distance _N.  As an example, a macro to underscore a
          string can be written
               ....ddddeeee uuuussss
               \\\\\\\\$$$$1111\\\\llll´´´´||||0000\\\\((((uuuullll´´´´
               ........
          or one to draw a box around a string
               ....ddddeeee bbbbxxxx
               \\\\((((bbbbrrrr\\\\||||\\\\\\\\$$$$1111\\\\||||\\\\((((bbbbrrrr\\\\llll´´´´||||0000\\\\((((rrrrnnnn´´´´\\\\llll´´´´||||0000\\\\((((uuuullll´´´´
               ........
          such that
               ....uuuussss """"uuuunnnnddddeeeerrrrlllliiiinnnneeeedddd wwwwoooorrrrddddssss""""
          and
               ....bbbbxxxx """"wwwwoooorrrrddddssss iiiinnnn aaaa bbbbooooxxxx""""
          yield u_n_d_e_r_l_i_n_e_d__w_o_r_d_s_ and │_‾w_‾o_‾r_‾d_‾s_‾‾_i_‾n_‾‾_a_‾‾_b_‾o_‾x_‾│_‾.


                                       ‐ 63 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          The function \\\\LLLL´´´´_N_c´´´´ draws  a  vertical  line  consisting  of  the
          (optional)  character  _c stacked vertically apart 1 em (1 line in
          _n_r_o_f_f), with the first two characters overlapped,  if  necessary,
          to form a continuous line.  The default character is the _b_o_x _r_u_l_e
           │  (\\\\((((bbbbrrrr); the other suitable character is the _b_o_l_d  _v_e_r_t_i_c_a_l  ⎪
          (\\\\((((bbbbvvvv).  The line is begun without any initial motion relative to
          the current base line.  A positive _N specifies a line drawn down‐
          ward  and  a negative _N specifies a line drawn upward.  After the
          line is drawn _n_o compensating motions are made; the instantaneous
          baseline  is  at  the  _e_n_d  of the line.  Motions of line drawing
          functions are local which means that the effect of these  motions
          va_n_i_s_h_e_s__w_h_e_n__a__n_e_w__o_u_t_p_u_t__l_i_n_e__i_s__s_t_a_r_t_e_d_._________________________
          T│he horizontal and vertical line drawing functions may be used in  │
          c│ombination  to produce large boxes.  The zero‐width _b_o_x‐_r_u_l_e and  │
          t│he ½‐em wide _u_n_d_e_r_r_u_l_e were _d_e_s_i_g_n_e_d to form corners when  using  │
          1│‐em vertical spacings.  For example the macro                     │
          │    ....ddddeeee eeeebbbb                                                        │
          │    ....sssspppp ----1111  \\\\""""ccccoooommmmppppeeeennnnssssaaaatttteeee ffffoooorrrr nnnneeeexxxxtttt aaaauuuuttttoooommmmaaaattttiiiicccc bbbbaaaasssseeee‐lllliiiinnnneeee ssssppppaaaacccciiiinnnngggg     │
          │    ....nnnnffff     \\\\""""aaaavvvvooooiiiidddd ppppoooossssssssiiiibbbbllllyyyy oooovvvveeeerrrrfffflllloooowwwwiiiinnnngggg wwwwoooorrrrdddd bbbbuuuuffffffffeeeerrrr              │
          │    \\\\hhhh´´´´----....5555nnnn´´´´\\\\LLLL´´´´||||\\\\\\\\nnnnaaaauuuu----1111´´´´\\\\llll´´´´\\\\\\\\nnnn((((....lllluuuu++++1111nnnn\\\\((((uuuullll´´´´\\\\LLLL´´´´----||||\\\\\\\\nnnnaaaauuuu++++1111´´´´\\\\llll´´´´||||0000uuuu----....5555nnnn\\\\(│(((uuuullll´´´´    \\\\""""ddddrrrraaaawwww bbbbooooxxxx
          │    ....ffffiiii                                                           │
          │    ........                                                            │
          w│ill draw a box around some text whose beginning  vertical  place  │
          w│as  saved  in  number  register _a (e.g. using ....mmmmkkkk aaaa) as done for  │
          t_│h_i_s__p_a_r_a_g_r_a_p_h_._____________________________________________________│_
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ccccoooonnnnnnnneeeeccccttttcccchhhhaaaarrrr _c..    """"\\\\((((rrrruuuu\\\\((((uuuullll\o\\\(f(((rfrrrnEnnnConnected  characters  for  line
                                       drawing.   If  there  is a remainder
                                       to be drawn for a  horizontal  line,
                                       these  characters  are  drawn  over‐
                                       lapping.  The current set is  avail‐
                                       able   in  the  ....ccccoooonnnnnnnneeeeccccttttcccchhhhaaaarrrr  number
                                       register.
          _1_2._5._G_r_a_p_h_i_c_s. The function \\\\DDDD´_c...´ draws a  graphic  object  of
          type _c according to a sequence of parameters, which are generally
          pairs of numbers.
          \\\\DDDD´´´´llll _d_h _d_v´     draw line from current position by _d_h,_d_v
          \\\\DDDD´´´´pppp _d_h_1 _d_v_1 _d_h_2 _d_v_2 ...´draw polygon, i.e. a line to _d_h_1,_d_v_1, then to _d_h_2,_d_v_2, then ...
          \\\\DDDD´´´´PPPP _d_h_1 _d_v_1 _d_h_2 _d_v_2 ...´draw filled polygon
          \\\\DDDD´´´´cccc _d´         draw circle of diameter _d with left side at current position
          \\\\DDDD´´´´CCCC _d´         draw filled circle
          \\\\DDDD´´´´eeee _u _v´       draw ellipse of diameters _u and _v
          \\\\DDDD´´´´EEEE _u _v´       draw filled ellipse
          \\\\DDDD´´´´aaaa _a _b _c _d´   draw arc from current position to _a+_c,_b+_d, with center at _a,_b from current position
          \\\\DDDD´´´´∼∼∼∼ _a _b _c _d...´draw B‐spline from current position by _a,_b, then by _c,_d, then by _c,_d, then ...
          For example,\\\\DDDD´´´´eeee0000....2222iiii  0000....1111iiii´´´´  draws  the  ellipse  ,  and  \\\\DDDD´´´´llll....2222iiii
          ----....1111iiii´´´´\\\\DDDD´´´´llll....1111iiii  ....1111iiii´´´´  the  line A \\\\DDDD with an unknown _c is processed
          and copied through to the output for unspecified  interpretation;
          coordinates  are interpreted alternately as horizontal and verti‐
          cal values.
          Numbers taken as horizontal (first, third,  etc.)   have  default
          scaling  of  mmmm;  vertical  numbers  (second,  fourth, etc.)  have
          default scaling of vvvv (§1.3).   The  position  after  a  graphical


                                       ‐ 64 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          object  has  been  drawn is at its end; for circles and ellipses,
          the ‘‘end’’ is at the right side.
          11113333....  HHHHyyyypppphhhheeeennnnaaaattttiiiioooonnnn....
          Automatic hyphenation may be switched off and on.  When  switched
          on with hhhhyyyy, several variants may be set.  A _h_y_p_h_e_n_a_t_i_o_n _i_n_d_i_c_a_t_o_r
          character, by default \\\\%%%%, may be imbedded in a  word  to  specify
          desired  hyphenation  points,  or  may  be  prefixed  to suppress
          hyphenation.  The character \\\\:::: indicates that a  line  break  may
          optionally occur at a point, but that no hyphen is to be generat‐
          ed.  In addition, the user may specify a small list of  exception
          words.
          Only words that consist of a central alphabetic string surrounded
          by  (usually  null)  non‐alphabetic strings are considered candi‐
          dates for automatic hyphenation.   Unless  the  set  of  optional
          line break characters is otherwise configured, words that contain
          hyphens (minus), em‐dashes (\\\\((((eeeemmmm), or hyphenation indicator char‐
          acters  are  _a_l_w_a_y_s  subject to splitting after those characters,
          whether automatic hyphenation is on or off.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....nnnnhhhh     hyphenate       –    E Automatic  hyphenation  is  turned
                                       off.
          ....hhhhyyyy _N   on,_N=1  on,_N=1  E    Automatic hyphenation is  turned  on
                                       for  _N≥1,  or  off for _N=0.  If _N=2,
                                       _l_a_s_t lines  (ones  that  will  cause
                                       a  trap)  are  not  hyphenated.  For
                                       _N=4 and 8, the last  and  first  two
                                       characters  respectively  of  a word
                                       are not split  off.   For  _N=16  and
                                       32,  the  last  and first characters
                                       respectively of a word  are  allowed
                                       to be split off; this is only effec‐
                                       tive for explicit hyphenation points
                                       specified with \\\\%%%%, \\\\::::, or hhhhwwww.  These
                                       values are additive; i.e. _N=14  will
                                       invoke  the three restrictions.  The
                                       current value is  available  in  the
                                       ....hhhhyyyy number register.
          ....hhhhyyyyllllaaaannnngggg _n_a_m_e    off     off  E Set the  hyphenation  language  to
                                       _n_a_m_e,   which   is   one  of  ddddeeee____DDDDEEEE,
                                       ddddeeee____DDDDEEEE@@@@ttttrrrraaaaddddiiiittttiiiioooonnnnaaaallll,   eeeennnn____UUUUSSSS,   ffffrrrr____FFFFRRRR,
                                       iiiitttt____IIIITTTT,  llllaaaa____VVVVAAAA, or nnnnllll____NNNNLLLL.  Other lan‐
                                       guages  can  be  made  available  by
                                       adding  hyphenation files to the di‐
                                       rectory ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////hhhhyyyypppphhhheeeennnn.
                                       If  no _n_a_m_e argument is present, the
                                       hyphenation is reset to  the  tradi‐
                                       tional _t_r_o_f_f mechanism.  The current
                                       value is available  in  the  ....hhhhyyyyllllaaaannnngggg
                                       number register.
                                       This request  also  makes  parts  of
                                       words   composed   by   ‐   or  \\\\((((eeeemmmm
                                       characters subject  to  hyphenation,
                                       unless  otherwise defined explicitly


                                       ‐ 65 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       with  the  ....nnnnhhhhyyyycccchhhhaaaarrrr  request.   Tra‐
                                       ditionally,   the  only  hyphenation
                                       points in such words  had  been  the
                                       hyphens/dashes.
          ....sssshhhhcccc _c  ‐       ‐       E    Set the soft hyphenation  character,
                                       i.e.  the character that is inserted
                                       at the end  of  a  hyphenated  word.
                                       The current soft hyphenation charac‐
                                       ter is available in the ....sssshhhhcccc  number
                                       register.
          ....hhhhccccooooddddeeee _a_b_c_d...          –    E Hyphenation code.  When  determin‐
                                       ing  the  hyphenation  points for an
                                       input word, _a is mapped to  _b,  etc.
                                       When  no  hyphenation code is speci‐
                                       fied for a character, it  is  mapped
                                       to  its lower‐case variant if neces‐
                                       sary, and the ‘‘long s’’  (\\\\[[[[lllloooonnnnggggssss]]]])
                                       character  is  mapped  to  a ‘‘round
                                       s’’.
          ....hhhhyyyylllleeeennnn _N        5       5    E Hyphenate only words of at least _N
                                       characters  in  length.  The current
                                       value is  available  in  the  ....hhhhyyyylllleeeennnn
                                       number register.
          ....hhhhllllmmmm _N  off     off     E    Maximum number  of  consecutive  hy‐
                                       phenated   lines.    Each   time   a
                                       line  is  hyphenated  automatically,
                                       the  count of consecutive hyphenated
                                       lines (accessible in the ....hhhhllllcccc number
                                       register)  is  incremented; whenever
                                       a line is not automatically  hyphen‐
                                       ated,  it  is  reset  to zero.  This
                                       request allows to  set  a  limit  on
                                       the  maximum  number  of consecutive
                                       hyphenated lines; when the count  of
                                       consecutive  lines  has  reached the
                                       maximum, the current line is not hy‐
                                       phenated.   The default is no limit.
                                       The current value is  accessible  in
                                       the ....hhhhllllmmmm number register.
          ....hhhhyyyypppppppp _N _M _L     0 0 0   0 0 0  EDefine hyphenation penalties  for
                                       aaaadddd pppp mode.  Every inserted hyphen is
                                       given a penalty of _N when  computing
                                       optimal  break  points;  each hyphen
                                       that is followed by  another  hyphen
                                       gets  an  additional  penalty  of _M.
                                       A hyphen that  is  inserted  in  the
                                       last  word  of  a  paragraph gets an
                                       additional penalty of  _L.   A  value
                                       of  zero  means  no penalty.  Effec‐
                                       tive penalties correspond to  values
                                       between  10  and  200.   The current
                                       values are available in  the  ....hhhhyyyypppppppp,
                                       ....hhhhyyyypppppppp2222, and ....hhhhyyyypppppppp3333 number registers.
          ....bbbbrrrreeeeaaaakkkkcccchhhhaaaarrrr _c.   ‐‐‐‐————      off  E Optional line break characters.  A


                                       ‐ 66 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       line  may  always be split after one
                                       of these  characters.   The  current
                                       set  of  optional line break charac‐
                                       ters is available in the  ....bbbbrrrreeeeaaaakkkkcccchhhhaaaarrrr
                                       number register.
          ....nnnnhhhhyyyycccchhhhaaaarrrr _c...   ‐‐‐‐————      off  E Hyphenation‐inhibiting characters.
                                       A  word  that  contains  one  of the
                                       characters _c... is  not  hyphenated,
                                       except  that  it may be split across
                                       lines if  one  of  these  characters
                                       is   also  an  optional  line  break
                                       character.   The  current   set   of
                                       hyphenation‐inhibiting characters is
                                       available  in  the  ....nnnnhhhhyyyycccchhhhaaaarrrr  number
                                       register.
          ....hhhhcccc _c   \\\\%%%%      \\\\%%%%      E    Hyphenation indicator  character  is
                                       set  to _c or to the default \\\\%%%%.  The
                                       indicator does  not  appear  in  the
                                       output.
          ....hhhhwwww _w_o_r_d_1 ...           ignored–Specify  hyphenation  points   in
                                       words  with  imbedded  minus  signs.
                                       Versions of  a  word  with  terminal
                                       _s  are  implied; i.e. _d_i_g‐_i_t implies
                                       _d_i_g‐_i_t_s.   This  list  is   examined
                                       initially   _a_n_d  after  each  suffix
                                       stripping.
          11114444....  TTTThhhhrrrreeeeeeee‐PPPPaaaarrrrtttt TTTTiiiittttlllleeeessss....
          The titling function ttttllll provides for automatic placement of three
          fields  at  the  left,  center, and right of a line with a title‐
          length specifiable with lllltttt.  ttttllll may  be  used  anywhere,  and  is
          independent  of the normal text collecting process.  A common use
          is in header and footer macros.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ttttllll ´_l_e_f_t´_c_e_n_t_e_r´_r_i_g_h_t´ –    – The  strings  _l_e_f_t,  _c_e_n_t_e_r,   and
                                       _r_i_g_h_t    are    respectively   left‐
                                       adjusted,   centered,   and   right‐
                                       adjusted   in   the  current  title‐
                                       length.   Any  of  the  strings  may
                                       be empty, and overlapping is permit‐
                                       ted.  If the  page‐number  character
                                       (initially  %%%%)  is  found within any
                                       of the  fields  it  is  replaced  by
                                       the  current  page number having the
                                       format assigned to register %%%%.   Any
                                       character  may be used as the string
                                       delimiter.
          ....ppppcccc _c   %%%%       off     –    The page number character is set  to
                                       _c, or removed.  The page‐number reg‐
                                       ister remains %%%%.
          ....lllltttt ±_N  6.5in   previous     E,mmmmLength of title set to  ±_N.   The
                                       line‐length and the title‐length are
                                       _i_n_d_e_p_e_n_d_e_n_t.  Indents do  not  apply
                                       to  titles;  page‐offsets  do.   The


                                       ‐ 67 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       current value is  available  in  the
                                       ....lllltttt number register.
          11115555....  OOOOuuuuttttppppuuuutttt LLLLiiiinnnneeee NNNNuuuummmmbbbbeeeerrrriiiinnnngggg....
              Automatic sequence numbering of output lines may be requested
              with  nnnnmmmm.   When in effect, a three‐digit, arabic number plus
            3 a digit‐space is prepended to output text  lines.   The  text
              lines  are  thus  offset  by four digit‐spaces, and otherwise
              retain their line length; a reduction in line length  may  be
            6 desired  to  keep  the  right  margin aligned with an earlier
              margin.  Blank lines, other vertical spaces, and lines gener‐
              ated  by  ttttllll  are _n_o_t numbered.  Numbering can be temporarily
            9 suspended with nnnnnnnn, or with an ....nnnnmmmm followed by a later ....nnnnmmmm ++++0000.
              In addition, a line number indent _I, and the number‐text sep‐
              aration _S may be specified in digit‐spaces.  Further, it  can
           12 be  specified that only those line numbers that are multiples
              of some number _M are to be printed (the others will appear as
              blank number fields).
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....nnnnmmmm ±_N _M _S _I            off  E Line number mode.  If ±_N is given,
                                       line  numbering  is  turned  on, and
                                       the next  output  line  numbered  is
                                       numbered  ±_N.   Default  values  are
                                       _M=1, _S=1, and _I=0.  Parameters  cor‐
                                       responding  to missing arguments are
                                       unaffected; a  non‐numeric  argument
                                       is  considered  missing.  In the ab‐
                                       sence of all arguments, numbering is
                                       turned  off; the next line number is
                                       preserved for possible  further  use
                                       in number register llllnnnn.
          ....nnnnnnnn _N   –       _N=1     E    The next _N text output lines are not
                                       numbered.
           15 As an example, the paragraph portions  of  this  section  are
              numbered  with _M=3:  ....nnnnmmmm 1111 3333 was placed at the beginning; ....nnnnmmmm
              was placed at the end of the first paragraph; and ....nnnnmmmm ++++0000  was
           18 placed  in front of this paragraph; and ....nnnnmmmm finally placed at
              the end.  Line lengths were also changed  (by  \\\\wwww´´´´0000000000000000´´´´uuuu)  to
              keep the right side aligned.  Another example is ....nnnnmmmm ++++5555 5555 xxxx 3333
           21 which turns on numbering with the line  number  of  the  next
              line  to  be 5 greater than the last numbered line, with _M=5,
              with spacing _S untouched, and with the indent _I set to 3.
          11116666....  CCCCoooonnnnddddiiiittttiiiioooonnnnaaaallll AAAAcccccccceeeeppppttttaaaannnncccceeee ooooffff IIIInnnnppppuuuutttt
          In the following, _c is a one‐character, built‐in _c_o_n_d_i_t_i_o_n  name,
          !!!!  signifies  _n_o_t,  _N  is an integer numerical expression, _F is a
          floating‐point expression, _s_t_r_i_n_g_1 and _s_t_r_i_n_g_2 are strings delim‐
          ited  by any non‐blank, non‐numeric character _n_o_t in the strings,
          and _a_n_y_t_h_i_n_g represents what is conditionally accepted.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....iiiiffff _c _a_n_y_t_h_i_n_g          –    – If condition _c true,  accept  _a_n_y_‐
                                       _t_h_i_n_g  as  input; in multi‐line case
                                       use \{_a_n_y_t_h_i_n_g\}.
          ....iiiiffff !!!!_c _a_n_y_t_h_i_n_g         –    – If  condition  _c   false,   accept


                                       ‐ 68 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       _a_n_y_t_h_i_n_g.
          ....iiiiffff _N _a_n_y_t_h_i_n_g          –    uuuu If  expression  _N  >   0,   accept
                                       _a_n_y_t_h_i_n_g.
          ....iiiiffff !!!!_N _a_n_y_t_h_i_n_g –       uuuu    If expression _N ≤  0  [sic],  accept
                                       _a_n_y_t_h_i_n_g.
          ....iiiiffff ffff_F _a_n_y_t_h_i_n_g –       uuuu    If floating‐point expression _F >  0,
                                       accept _a_n_y_t_h_i_n_g.
          ....iiiiffff !!!!ffff_F _a_n_y_t_h_i_n_g        –    uuuu If floating‐point expression _F ≤ 0
                                       [sic], accept _a_n_y_t_h_i_n_g.
          ....iiiiffff ´_s_t_r_i_n_g_1´_s_t_r_i_n_g_2´ _a_n_y_t_h_i_n_g –If _s_t_r_i_n_g_1 identical to  _s_t_r_i_n_g_2,
                                       accept _a_n_y_t_h_i_n_g.
          ....iiiiffff !!!!´_s_t_r_i_n_g_1´_s_t_r_i_n_g_2´ _a_n_y_t_h_i_n_g–If  _s_t_r_i_n_g_1  not   identical   to
                                       _s_t_r_i_n_g_2, accept _a_n_y_t_h_i_n_g.
          ....iiiieeee _c _a_n_y_t_h_i_n_g          –    uuuu If portion of if‐else; all of  the
                                       forms for iiiiffff above are valid.
          ....eeeellll _a_n_y_t_h_i_n_g            –    – Else portion of if‐else.
          ....wwwwhhhhiiiilllleeee _c _a_n_y_t_h_i_n_g       –    – Execute _a_n_y_t_h_i_n_g while _c is  true;
                                       all   of  the  forms  for  iiiiffff  above
                                       are  valid.   _a_n_y_t_h_i_n_g   is   stored
                                       in  an  unnamed temporary macro each
                                       time a wwwwhhhhiiiilllleeee loop  is  prepared  for
                                       execution.
                                       In the multi‐line case, the \\\\}}}}  ter‐
                                       minating  the loop must be placed at
                                       the end of a line.
                                       When  _a_n_y_t_h_i_n_g  is  copied  to   the
                                       macro, neither copy mode nor regular
                                       escape interpretation apply.  Refer‐
                                       ences  to number registers, strings,
                                       etc. must thus be  written  using  a
                                       single  escape  character unless the
                                       wwwwhhhhiiiilllleeee  request  is  contained  in  a
                                       macro definition.
                                       Nested loops  will  result  in  many
                                       macro  definitions and may slow down
                                       execution, especially if their  body
                                       is  large.  Recursive macros (§10.6)
                                       do not suffer from this problem.  In
                                       contrast  to  recursive macro calls,
                                       there is no mechanism to terminate a
                                       loop automatically when a repetition
                                       limit has been reached.  In case  of
                                       doubt, an explicit limit termination
                                       condition should be added to prevent
                                       endless loops.
          ....bbbbrrrreeeeaaaakkkk _n        –       1    – Break out of _n nested wwwwhhhhiiiilllleeee loops,
                                       or  terminate  the  current  loop if
                                       no argument is  given.   It  is  not
                                       necessary  that  all  of  the  loops
                                       are contained within the same macro;
                                       if  there  are  any macros executing
                                       inside the specified  loop,  control
                                       also  returns from these macros.  In
                                       case  of  a  non‐positive  or   non‐


                                       ‐ 69 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       numeric  argument,  _n=1  is assumed.
                                       If the number  of  levels  requested
                                       is  greater than the number of loops
                                       currently executing, control returns
                                       to the highest non‐looping level.
          ....ccccoooonnnnttttiiiinnnnuuuueeee _n     –       1    – Continue at the _n‐th nested  wwwwhhhhiiiilllleeee
                                       loop,  or  continue the current loop
                                       if no  argument  is  given.   Execu‐
                                       tion  resumes  with  the test of the
                                       specified wwwwhhhhiiiilllleeee loop; if  this  test
                                       fails,  the  request  is effectively
                                       like bbbbrrrreeeeaaaakkkk.  ccccoooonnnnttttiiiinnnnuuuueeee  also  returns
                                       from  all  inside  macro calls until
                                       it has reached the  specified  loop.
                                       In  case  of  a non‐positive or non‐
                                       numeric argument,  _n=1  is  assumed.
                                       If  the  number  of levels requested
                                       is greater than the number of  loops
                                       currently executing, control returns
                                       to the  highest  non‐looping  level,
                                       and no loop is continued.
          The built‐in condition names are:

              ─┌───────────┬─────────────────────────────────────────────┐
              │Condition │                                             │
              │  Name    │                  True if                    │
              ─├───────────┼─────────────────────────────────────────────┤
              │   cccc _G    │Character _G exists  in  the  current  font,  │
              │          │where  _G  is  either  an ASCII or localized  │
              │          │input character, a _t_r_o_f_f special  character  │
              │          │\\\\((((_x_x or \\\\[[[[_x_x_x]]]], or a \\\\UUUU´_X´ escape sequence   │
              │  dddd _x_x    │There is a request, macro, or string _x_x      │
              │  rrrr _x_x    │Number register _x_x has been accessed         │
              │ FFFF _f_o_n_t   │Font named _f_o_n_t exists                       │
              │    oooo     │Current page number is odd                   │
              │    eeee     │Current page number is even                  │
              │    tttt     │Formatter is _t_r_o_f_f                           │
              │    nnnn     │Formatter is _n_r_o_f_f                           │
              │    vvvv     │Never.  (vvvv is used by other roff variants.)  │
              ─└───────────┴─────────────────────────────────────────────┘

          If the condition _c is _t_r_u_e, or if the number _N  is  greater  than
          zero,  or  if  the strings compare identically (including motions
          and character size and font), _a_n_y_t_h_i_n_g is accepted as input.   If
          a  !!!!  precedes  the  condition, number, or string comparison, the
          sense of the acceptance is reversed.
          Any spaces between the condition and the  beginning  of  _a_n_y_t_h_i_n_g
          are skipped over.  The _a_n_y_t_h_i_n_g can be either a single input line
          (text, macro, or whatever) or a number of input  lines.   In  the
          multi‐line  case, the first line must begin with a left delimiter
          \\\\{{{{ and the last line must end with a right delimiter \\\\}}}}.
          The request iiiieeee (if‐else) is  identical  to  iiiiffff  except  that  the
          acceptance  state  is  remembered.   A subsequent and matching eeeellll
          (else) request then uses the reverse sense of that  state.   iiiieeee ‐


                                       ‐ 70 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


           eeeellll pairs may be nested.
          Some examples are:
               ....iiiiffff eeee ....ttttllll ´´´´EEEEvvvveeeennnn PPPPaaaaggggeeee %%%%´´´´´´´´´´´´
          which outputs a title if the page number is even; and
               ....iiiieeee \\\\nnnn%%%%>>>>1111 \\\\{{{{\\\\
               ´´´´sssspppp 0000....5555iiii
               ....ttttllll ´´´´PPPPaaaaggggeeee %%%%´´´´´´´´´´´´
               ´´´´sssspppp ||||1111....2222iiii \\\\}}}}
               ....eeeellll ....sssspppp ||||2222....5555iiii
          which treats page 1 differently from other pages.
          11117777....  EEEEnnnnvvvviiiirrrroooonnnnmmmmeeeennnntttt SSSSwwwwiiiittttcccchhhhiiiinnnngggg....
          A number of the parameters that control the text  processing  are
          gathered  together  into an _e_n_v_i_r_o_n_m_e_n_t, which can be switched by
          the user.  The environment parameters are those  associated  with
          requests  noting  E in their _N_o_t_e_s column; in addition, partially
          collected lines and words are  in  the  environment.   Everything
          else is global; examples are page‐oriented parameters, diversion‐
          oriented parameters, number registers, and macro and string defi‐
          nitions.  All environments are initialized with default parameter
          values.  The number of possible environments is only  limited  by
          available memory.
          Inside each environment, a smaller set of  parameters  forms  the
          _i_n_l_i_n_e  _e_n_v_i_r_o_n_m_e_n_t.   These are:  the current and previous point
          size, as set by ppppssss and \\\\ssss; the current and previous font, as  set
          by  fffftttt  and \\\\ffff; the control and nobreak control character, as set
          by cccccccc and cccc2222, respectively; the optional  hyphenation  character,
          as  set  by  hhhhcccc;  the hyphenation flag, as set by hhhhyyyy; the tab and
          leader repetition characters, as set by ttttcccc and llllcccc,  respectively;
          and  the default line breaking penalty, as set by \\\\JJJJ.  The inline
          environment is pushed by \\\\@@@@{{{{, meaning that the current values  of
          these  parameters  are saved.  When a \\\\@@@@}}}} occurs, the last pushed
          inline environment is popped, meaning that the previous values of
          the  parameters  are restored.  Inline environments can be nested
          to arbitrary depths.  They differ from \\\\ssss0000  and  \\\\ffffPPPP  since  they
          form  a  stack.   Thus, the current font is ‘‘B’’ again after the
          sequence ‘‘\fB...\@{\fR...\@{\fI...\@}...\@}’’, but  ‘‘I’’  after
          the sequence ‘‘\fB...\fR...\fI...\fP...\fP’’.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....eeeevvvv _n_a_m_e        _n_a_m_e=0  previous–Environment switched to environ‐
                                       ment  _n_a_m_e.   Switching  is  done in
                                       push‐down fashion so that  restoring
                                       a  previous environment _m_u_s_t be done
                                       with ....eeeevvvv rather than specific refer‐
                                       ence.   Note  that  what  is  pushed
                                       down and restored is the environment
                                       _n_a_m_e, not its contents.  The name of
                                       the current environment is available
                                       in the ....eeeevvvv number register.
          ....eeeevvvvcccc _n_a_m_e               –    – Copy the environment _n_a_m_e  to  the
                                       current  environment.  The temporary
                                       state of the current environment  is
                                       reset, and incompletely filled lines
                                       are discarded.


                                       ‐ 71 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          11118888....  IIIInnnnsssseeeerrrrttttiiiioooonnnnssss ffffrrrroooommmm tttthhhheeee SSSSttttaaaannnnddddaaaarrrrdddd IIIInnnnppppuuuutttt
          The input can be temporarily  switched  to  the  system  _s_t_a_n_d_a_r_d
          _i_n_p_u_t  with rrrrdddd, which will switch back when _t_w_o newlines in a row
          are found (the _e_x_t_r_a blank line is not used).  This mechanism  is
          intended  for  insertions in form‐letter‐like documentation.  The
          _s_t_a_n_d_a_r_d _i_n_p_u_t can be the user’s keyboard, a _p_i_p_e, or a _f_i_l_e.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....rrrrdddd _p_r_o_m_p_t      –       _p_r_o_m_p_t=BEL–Read insertion from the  stan‐
                                       dard  input  until  two  newlines in
                                       a row are found.   If  the  standard
                                       input is the user’s keyboard, _p_r_o_m_p_t
                                       (or  a  BEL)  is  written  onto  the
                                       user’s  terminal.  rrrrdddd behaves like a
                                       macro, and arguments may  be  placed
                                       after _p_r_o_m_p_t.
          ....eeeexxxx     –       –       –    Exit from  _n_r_o_f_f/_t_r_o_f_f.   Text  pro‐
                                       cessing  is terminated exactly as if
                                       all input had ended.
          If insertions are to be taken from the  terminal  keyboard  _w_h_i_l_e
          output  is being printed on the terminal, the command line option
          ----qqqq will turn off the echoing of keyboard input  and  prompt  only
          with  BEL.  The regular input and insertion input _c_a_n_n_o_t simulta‐
          neously come from the standard input.
          As an example, multiple copies of a form letter may  be  prepared
          by  entering  the  insertions  for  all the copies in one file to
          be used as the standard input, and causing  the  file  containing
          the  letter  to reinvoke itself using nnnnxxxx (§19); the process would
          ultimately be ended by an eeeexxxx in the insertion file.
          11119999....  IIIInnnnppppuuuutttt////OOOOuuuuttttppppuuuutttt FFFFiiiilllleeee SSSSwwwwiiiittttcccchhhhiiiinnnngggg
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ssssoooo _f_i_l_e_n_a_m_e            –    – Switch source file.  The top input
                                       (file  reading) level is switched to
                                       _f_i_l_e_n_a_m_e.  When the new  file  ends,
                                       input is again taken from the origi‐
                                       nal file.  It is a  fatal  error  if
                                       _f_i_l_e_n_a_m_e cannot be opened.  ssssoooo’s may
                                       be nested.
          ....ppppssssoooo _s_t_r_i_n_g             –    – Execute _s_t_r_i_n_g and read its  stan‐
                                       dard output as text input.
          ....nnnnxxxx _f_i_l_e_n_a_m_e            end‐of‐file–Next file is  _f_i_l_e_n_a_m_e.   The
                                       current   file  is  considered  end‐
                                       ed, and  the  input  is  immediately
                                       switched to _f_i_l_e_n_a_m_e.
          ....ssssyyyy _s_t_r_i_n_g              –    – Execute program from _s_t_r_i_n_g, which
                                       is  the rest of the input line.  The
                                       output is not collected automatical‐
                                       ly.   The  number register $$$$$$$$, which
                                       contains the process id of the _t_r_o_f_f
                                       process, may be useful in generating
                                       unique filenames for output.
          ....ppppiiii _s_t_r_i_n_g              –    – Pipe output to  _s_t_r_i_n_g,  which  is
                                       the  rest  of  the input line.  This


                                       ‐ 72 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       request must occur _b_e_f_o_r_e any print‐
                                       ing  occurs;  typically  it  is  the
                                       first line of input.
          ....ccccffff _f_i_l_e_n_a_m_e            –    – Copy contents of file _f_i_l_e_n_a_m_e  to
                                       output, completely unprocessed.  The
                                       file is assumed to contain something
                                       meaningful to subsequent processes.
          ....ooooppppeeeennnn _s_t_r_e_a_m _f_i_l_e_n_a_m_e   ignored–Open _f_i_l_e_n_a_m_e for  writing  while
                                       truncating existing contents and as‐
                                       sociates _s_t_r_e_a_m with it  for  latter
                                       use with wwwwrrrriiiitttteeee etc.
          ....ooooppppeeeennnnaaaa _s_t_r_e_a_m _f_i_l_e_n_a_m_e  ignored–Like ooooppppeeeennnn but appends to _f_i_l_e_n_a_m_e
                                       instead  of  truncating  an existing
                                       file.
          ....wwwwrrrriiiitttteeee _s_t_r_e_a_m _t_e_x_t      ignored–Write _t_e_x_t to file _s_t_r_e_a_m,  which
                                       must   have   been   obtained  by  a
                                       previous ooooppppeeeennnn request.  _t_e_x_t is  in‐
                                       terpreted in _c_o_p_y _m_o_d_e.
          ....wwwwrrrriiiitttteeeecccc _s_t_r_e_a_m _t_e_x_t     ignored–Like wwwwrrrriiiitttteeee but does not  write  a
                                       terminating newline.
          ....wwwwrrrriiiitttteeeemmmm _s_t_r_e_a_m _x_x       ignored–Write contents of string,  macro,
                                       or  diversion  _x_x.   No  newline  is
                                       appended, so if _x_x is a string,  the
                                       output  does  not  terminate  with a
                                       newline.
          ....cccclllloooosssseeee _s_t_r_e_a_m           –    – Close the file _s_t_r_e_a_m, which  must
                                       have  been  obtained  by  a previous
                                       ooooppppeeeennnn request.
          22220000....  MMMMiiiisssscccceeeellllllllaaaannnneeeeoooouuuussss
          The \\\\VVVV_x, \\\\VVVV((((_x_x, or \\\\VVVV[[[[_x_x_x]]]] escape sequence causes  the  value  of
          the  _x,  _x_x,  or  _x_x_x  environment  variable, respectively, to be
          printed.  It is interpreted in _c_o_p_y _m_o_d_e.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....mmmmcccc _c _N –       off     E,mmmm  Specifies that a _m_a_r_g_i_n character  _c  │
                                       appear  a  distance  _N  to the right  │
                                       of the right margin after each  non‐  │
                                       empty  text  line (except those pro‐  │
                                       duced by ttttllll).  If  the  output  line  │
                                       is too‐long (as can happen in nofill  │
                                       mode) the character will be appended  │
                                       to  the  line.   If  _N is not given,  │
                                       the previous _N is used; the  initial  │
                                       _N  is 0.2 inches in _n_r_o_f_f and 1em in  │
                                       _t_r_o_f_f.  The  margin  character  used  │
                                       with  this  paragraph was a 12‐point  │
                                       box‐rule.                             │
          ‘‘....llllppppffffxxxx _s_t_r_i_n_g    off     off  E Set the line prefix  to  _s_t_r_i_n_g.
                                       ‘‘‘‘Whenever  a  new  output line is
                                       ‘‘started, _s_t_r_i_n_g is then printed at
                                       ‘‘its beginning.  Font and size set‐
                                       ‘‘tingsaswell as automatic ligatures
                                       ‘‘in  _s_t_r_i_n_g are retained regardless
                                       ‘‘of later  changes.   This  request


                                       ‐ 73 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       ‘‘ismainlyuseful to implement a his‐
                                       ‘‘toricform of block quotation.  The
                                       ‘‘current  value is available in the
                                       ‘‘....llllppppffffxxxx register.’’
          ....ttttmmmm _s_t_r_i_n_g      –       newline–After  skipping  initial  blanks,
                                       _s_t_r_i_n_g  (rest  of  the line) is read
                                       in _c_o_p_y  _m_o_d_e  and  written  on  the
                                       standard error.
          ....ttttmmmmcccc _s_t_r_i_n_g     –       newline–Like ttttmmmm but does not write a ter‐
                                       minating newline.
          ....nnnnoooopppp _r_e_m_a_i_n_d_e_r _o_f _l_i_n_e  –    – Use _r_e_m_a_i_n_d_e_r _o_f _l_i_n_e as input.
          ....cccchhhhoooommmmpppp _r_e_m_a_i_n_d_e_r _o_f _l_i_n_e     – –Use  _r_e_m_a_i_n_d_e_r  _o_f  _l_i_n_e  _w_i_t_h_o_u_t
                                       _n_e_w_l_i_n_e as input.
          ....aaaabbbb _s_t_r_i_n_g      –       newline–After  skipping  initial  blanks,
                                       _s_t_r_i_n_g  (rest  of  the line) is read
                                       in _c_o_p_y  _m_o_d_e  and  written  on  the
                                       standard error.  _t_r_o_f_f or _n_r_o_f_f then
                                       exit.
          ....iiiigggg _y_y  –       ._y_y=........  –    Ignore  input  lines.   iiiigggg   behaves
                                       exactly  like  ddddeeee  (§7)  except that
                                       the input is discarded.   The  input
                                       is   read  in  _c_o_p_y  _m_o_d_e,  and  any
                                       auto‐incremented registers  will  be
                                       affected.
          ....llllffff _N _f_i_l_e_n_a_m_e          –    – Set line number to _N and  filename
                                       to  _f_i_l_e_n_a_m_e  for purposes of subse‐
                                       quent  error  messages,  etc.    The
                                       number  register  [sic]  ....FFFF contains
                                       the name of the current input  file,
                                       as  set  by  command line arguments,
                                       ssssoooo, nnnnxxxx, or llllffff.  The number  register
                                       ....cccc  contains  the  number  of  input
                                       lines read from  the  current  file,
                                       again perhaps as modified by llllffff.
          ....ppppmmmm _t   –       all     –    Print macros.  The names  and  sizes
                                       of  all  of  the  defined macros and
                                       strings are printed on the  standard
                                       error;  if  _t  is  given,  only  the
                                       total of the sizes is printed.   The
                                       sizes  is  given  in  _b_l_o_c_k_s  of 128
                                       characters.
          ....ffffllll     –       –       B    Flush  output  buffer.   Force  out‐
                                       put,  including any pending position
                                       information.
          22221111....  OOOOuuuuttttppppuuuutttt aaaannnndddd EEEErrrrrrrroooorrrr MMMMeeeessssssssaaaaggggeeeessss,,,, DDDDeeeebbbbuuuuggggggggiiiinnnngggg....
          _2_1._1._O_u_t_p_u_t _M_e_s_s_a_g_e_s. The output from ttttmmmm, ppppmmmm, and the prompt from
          rrrrdddd,  as well as various _e_r_r_o_r messages are written onto the stan‐
          dard error.  The latter is different from  the  _s_t_a_n_d_a_r_d  _o_u_t_p_u_t,
          where  formatted  text  goes.   By default, both are written onto
          the user’s terminal, but they can  be  independently  redirected.
          An  error message additionally includes the line number where the
          error occurred, the current input file name, the current physical
          output  page  number  (if  any),  and  the names of the macros in
          the frames of the current execution stack.  The eeeerrrrrrrrpppprrrriiiinnnntttt  request


                                       ‐ 74 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          allows to write custom messages in the same format.
          _2_1._2._W_a_r_n_i_n_g_s. _n_r_o_f_f and _t_r_o_f_f  provide  a  mechanism  to  enable
          or  disable  warnings  for  several  categories.  When one of the
          selected conditions occurs, a _w_a_r_n_i_n_g message is written  in  the
          same format as an error message, but processing continues.

          ─┌────────┬──────────────┬─────────────────────────────────────────────────────────┐
          │   Bit │ Name        │ Description                                             │
          ─└├────────┴┼──────────────┴┼─────────────────────────────────────────────────────────┤┘
          │     0 │ nnnnoooonnnneeee        │ No warnings at all.                                     │
          │     1 │ cccchhhhaaaarrrr        │ Warn when unknown character names like \\\\((((xxxxxxxx  or  \\\\[[[[xxxxxxxxxxxx]]]] │
          │       │             │ are found.                                              │
          │     2 │ nnnnuuuummmmbbbbeeeerrrr      │ Warn when illegal numerical expressions occur.          │
          │     4 │ bbbbrrrreeeeaaaakkkk       │ Warn when a line in ....aaaadddd bbbb mode cannot be adjusted.      │
          │     8 │ ddddeeeelllliiiimmmm       │ Warn when a delimiter to an escape sequence is missing. │
          │    16 │ eeeellll          │ Warn when a eeeellll request is found without a matching iiiieeee.  │
          │    32 │ ssssccccaaaalllleeee       │ Warn when an undefined scale indicator  is  used  in  a │
          │       │             │ numerical expression.                                   │
          │    64 │ rrrraaaannnnggggeeee       │ Warn when an argument is out of range.                  │
          │   128 │ ssssyyyynnnnttttaaaaxxxx      │ Warn   about   questionable   syntax    in    numerical │
          │       │             │ expressions.                                            │
          │   256 │ ddddiiii          │ Warn when a ddddiiii request is executed but no diversion  is │
          │       │             │ currently active.                                       │
          │   512 │ mmmmaaaacccc         │ Warn when an undefined  request,  macro  or  string  is │
          │       │             │ called.                                                 │
          │  1024 │ rrrreeeegggg         │ Warn when an undefined  number  register  is  accessed. │
          │       │             │ The  number  register  will  be set to zero immediately │
          │       │             │ after the first access so this warning can  be  printed │
          │       │             │ only once per register name.                            │
          │  4096 │ rrrriiiigggghhhhtttt‐bbbbrrrraaaacccceeee │ Warn when a \\\\}}}} terminates a numerical expression.       │
          │  8192 │ mmmmiiiissssssssiiiinnnngggg     │ Warn when a required argument to a request is missing.  │
          │ 16384 │ iiiinnnnppppuuuutttt       │ Warn when illegal byte  sequences  or  characters  that │
          │       │             │ have no known PostScript equivalent are read.           │
          │ 32768 │ eeeessssccccaaaappppeeee      │ Warn when an undefined escape sequence is used.         │
          │ 65536 │ ssssppppaaaacccceeee       │ Warn when an unknown long request name is used, but its │
          │       │             │ first two characters form a known regular request.  The │
          │       │             │ regular request is then executed in extension level  2, │
          │       │             │ or ignored in extension level 3.                        │
          │131072 │ ffffoooonnnntttt        │ Warn when a font cannot  be  found.   This  warning  is │
          │       │             │ enabled by default.                                     │
          │       │ aaaallllllll         │ All warnings except ddddiiii, mmmmaaaacccc, and rrrreeeegggg.  This may be  the │
          │       │             │ best choice when using existing macro packages.         │
          │       │ wwww           │ All warnings.                                           │
          ─└────────┴──────────────┴─────────────────────────────────────────────────────────┘

          _2_1._3._E_r_r_o_r_s. Various _e_r_r_o_r conditions may occur during the opera‐
          tion of _n_r_o_f_f and _t_r_o_f_f.  Certain less serious errors having only
          local impact do not cause processing to terminate.  Two  examples
          are  _w_o_r_d  _o_v_e_r_f_l_o_w,  caused  by  a word that is too large to fit
          into the word buffer (in fill mode), and  _l_i_n_e  _o_v_e_r_f_l_o_w,  caused
          by  an output line that grew too large to fit in the line buffer;
          in both cases, a message is  printed,  the  offending  excess  is
          discarded,  and  the affected word or line is marked at the point
          of truncation with a ∗ in _n_r_o_f_f and a  ☜  in  _t_r_o_f_f.   Processing


                                       ‐ 75 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          continues  if  possible,  on  the  grounds that output useful for
          debugging may be produced.  If a serious error occurs, processing
          terminates,  and  an  appropriate  message is printed, along with
          a list of the macro names currently  active.   Examples  are  the
          inability  to  create, read, or write files, and the exceeding of
          certain internal limits that make future output  unlikely  to  be
          useful.
          _2_1._4._D_e_b_u_g_g_i_n_g. Strings, macros,  and  number  registers  can  be
          _w_a_t_c_h_e_d.   Whenever  a  change  of  a  watched  object occurs, or
          when the object is renamed, removed, or aliased,  a  notification
          message  is  printed.   It is formatted like an error message and
          includes the name of the current (or last previous) request,  the
          name  of  the objects affected, and, in case of a change, the new
          contents of the object.
          When an object is removed, watching is disabled.  If an object of
          the same name is created later, it is not watched unless watching
          is explicitly enabled for it again.
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....wwwwaaaarrrrnnnn ±_b_i_t_s|_n_a_m_e        _w    – Control  warning  messages,  which
                                       may  be  given either numerically as
                                       bits or symbolically as names.  With
                                       a  ++++  sign,  the  respective  bit or
                                       name is enabled in addition  to  the
                                       currently  enabled  categories; with
                                       a ---- sign,  it  is  disabled.   Omit‐
                                       ting  the  sign  sets the categories
                                       exactly to the given  bit  or  name.
                                       ....wwwwaaaarrrrnnnn  0000 disables all warnings.  The
                                       ....wwwwaaaarrrrnnnn register represents  the  cur‐
                                       rently  activated warning categories
                                       as bits.
          ....sssspppprrrreeeeaaaaddddwwwwaaaarrrrnnnn _N   toggle  mmmm    Set or toggle a  limit  that  causes
                                       a  warning  to  be  printed  when it
                                       is exceeded by the  adjustment  that
                                       is  computed  for the current output
                                       line  in  aaaadddd bbbb  mode.    The   limit
                                       is  initially  3m,  but  the warning
                                       message is disabled.   Calling  this
                                       request  without an argument toggles
                                       the warning message; calling it with
                                       an  argument enables the warning and
                                       sets the limit to _N  (default  scale
                                       m).
          ....eeeerrrrrrrrpppprrrriiiinnnntttt _s_t_r_i_n_g        newline–Print  _s_t_r_i_n_g   like   an   error
                                       message.
          ....wwwwaaaattttcccchhhh _x_x       off     ignore –Notify on  change  of  string  or
                                       macro  _x_x.   If  _x_x  does not exist,
                                       it is created as an empty  macro  in
                                       order to watch future changes.
          ....uuuunnnnwwwwaaaattttcccchhhh _x_x     off     ignore –Disable notification  for  string
                                       or macro _x_x.
          ....wwwwaaaattttcccchhhhlllleeeennnnggggtttthhhh _N  ignore  –    On change, report  the  contents  of
                                       macros  and  strings up to length _N.


                                       ‐ 76 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       When _N is zero  or  small,  printing
                                       of  macro  and  string  contents  is
                                       disabled.
          ....wwwwaaaattttcccchhhhnnnn _R       off     ignore –Notify on change of  register  _R.
                                       If  _R  does not exist, it is created
                                       in order to  watch  future  changes.
                                       No  effect  on  read‐only  registers
                                       and some of the  predefined  general
                                       registers.
          ....uuuunnnnwwwwaaaattttcccchhhhnnnn _R     off     ignore –Disable notification for register
                                       _R.
          22222222....  CCCCoooolllloooorrrr SSSSuuuuppppppppoooorrrrtttt
          While _t_r_o_f_f does not  support  colors  directly,  _d_p_o_s_t  is  able
          to  embed  arbitrary  PostScript  color  instructions  using  the
          \\\\XXXX´´´´SSSSeeeettttCCCCoooolllloooorrrr:::: _c_o_l_o_r´´´´ escape sequence.  Possible values  for  _c_o_l_o_r
          include:
          – ‘‘_n_a_m_e_d‐_c_o_l_o_r’’,  e.g.  ‘‘red’’.   Named  colors   (RGB   only)
            must   be   listed   in   the   ‘‘colordict’’   dictionary   in
            file ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////ffffoooonnnntttt////ddddeeeevvvvppppssss////ppppoooossssttttssssccccrrrriiiipppptttt////ccccoooolllloooorrrr....ppppssss.   Ev‐
            ery  _c_o_l_o_r  argument  that begins with a letter is treated as a
            named color.
          – ‘‘_r_e_d _g_r_e_e_n _b_l_u_e rrrrggggbbbb’’, e.g.  ‘‘.2  .3  .4  rgb’’  (rrrrggggbbbb  is  an
            abbreviation for the PostScript sssseeeettttrrrrggggbbbbccccoooolllloooorrrr operator)
          – ‘‘_h_u_e _s_a_t_u_r_a_t_i_o_n _b_r_i_g_h_t_n_e_s_s hhhhssssbbbb’’, e.g. ‘‘.5 .6 .7  hsb’’  (hhhhssssbbbb
            is an abbreviation for the PostScript sssseeeetttthhhhssssbbbbccccoooolllloooorrrr operator)
          – ‘‘_c_y_a_n  _m_a_g_e_n_t_a  _y_e_l_l_o_w  _b_l_a_c_k  ccccmmmmyyyykkkk’’,  e.g.  ‘‘.1  .2  .3  .4
            cmyk’’ (ccccmmmmyyyykkkk is an abbreviation for the PostScript sssseeeettttccccmmmmyyyykkkkccccoooolllloooorrrr
            operator)
          – ‘‘_g_r_a_y sssseeeettttggggrrrraaaayyyy’’, e.g. ‘‘.5 setgray’’
          – ‘‘[$$$$_s_e_t_c_o_l_o_r_s_p_a_c_e] _c_o_m_p_1  _c_o_m_p_2  ...  _c_o_m_p_n  sssseeeettttccccoooolllloooorrrr’’,  where
            $$$$_s_e_t_c_o_l_o_r_s_p_a_c_e  may  be  a  PostScript procedure defined in the
            setup section using a ‘\X´PSSetup:  $setcolorspace  {...}  bind
            def´’ escape sequence.  This parameter is required if the color
            space changes in the document.  Otherwise, it may be sufficient
            to install the color space once in the setup section.
          Each parameter must be a number in the range between 0.0 and 1.0.
          In  the  most  general  case,  the value of the _c_o_l_o_r argument is
          passed to the PostScript output without interpretation.
          Both the text and background color  can  be  selected.   A  _c_o_l_o_r
          argument  of  ‘‘_c_o_l_o_r_1’’ oooonnnn ‘‘_c_o_l_o_r_2’’ prints text in _c_o_l_o_r_1 on a
          background in _c_o_l_o_r_2.
          The initial color is black in the _D_e_v_i_c_e_G_r_a_y  color  space,  i.e.
          the  same as ‘‘0 setgray’’.  Once a color is in effect, it is re‐
          installed at the top of each output page.
          The ----mmmmccccoooolllloooorrrr macro package  adds  another  access  method  to  the
          capabilities  of  color selection and reverse video printing.  It
          includes the following macro:
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....CCCCLLLL _c_o_l_o_r _t_e_x_t  RGB black      –Print  _t_e_x_t  in  _c_o_l_o_r.   No  ar‐
                                       guments  restores  a  default  color
                                       (black in RGB color space; note that
                                       this  is  different from the initial
                                       color).   If  _t_e_x_t  is  omitted  the


                                       ‐ 77 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       selected _c_o_l_o_r remains in effect un‐
                                       til another _c_o_l_o_r is  selected.   If
                                       two  arguments  are  given  the _t_e_x_t
                                       is printed in  _c_o_l_o_r  and  then  the
                                       default color is restored.
          22223333....  PPPPiiiiccccttttuuuurrrreeee IIIInnnncccclllluuuussssiiiioooonnnn
          _d_p_o_s_t can be advised to include other PostScript  documents  into
          the  output  it generates.  In general, these documents should be
          EPS (Encapsulated PostScript) files; inclusion  of  more  general
          PostScript  documents,  especially  if  they  consist of multiple
          pages, will usually not lead to acceptable results.
          If a PostScript file lacks page‐delimiting comments,  the  entire
          file  is  included.   If  no  %%%%%%%%BBBBoooouuuunnnnddddiiiinnnnggggBBBBooooxxxx or %%%%%%%%HHHHiiiiRRRReeeessssBBBBoooouuuunnnnddddiiiinnnnggggBBBBooooxxxx
          comment is present, the picture is assumed to fill an 8.5×11‐inch
          page.   Nothing  prevents  the  picture from being placed off the
          page.
          _d_p_o_s_t handles DSC font comments in the  included  files,  but  it
          can  only  supply  glyph  data  if  a path to the respective font
          file has previously been specified with a _t_r_o_f_f ffffpppp  request.   It
          is  not  necessary  that  the font is otherwise used in the _t_r_o_f_f
          input text.  If _d_p_o_s_t cannot retrieve a  matching  font  by  this
          mechanism,  it  indicates  this  in the %%%%%%%%DDDDooooccccuuuummmmeeeennnnttttNNNNeeeeeeeeddddeeeeddddRRRReeeessssoooouuuurrrrcccceeeessss
          comment so that a print manager at a later production  stage  may
          include the missing data.
          An example how to combine the following requests and macros is:
               ....ppppssssbbbbbbbb ppppiiiiccccttttuuuurrrreeee....eeeeppppssss
               ....nnnnrrrrffff ssssccccaaaalllleeee ....22225555
               ....nnnnrrrrffff yyyy ((((\\\\nnnn[[[[uuuurrrryyyy]]]]pppp----\\\\nnnn[[[[llllllllyyyy]]]]pppp))))****\\\\nnnn[[[[ssssccccaaaalllleeee]]]]
               ....nnnnrrrrffff xxxx ((((\\\\nnnn[[[[uuuurrrrxxxx]]]]pppp----\\\\nnnn[[[[llllllllxxxx]]]]pppp))))****\\\\nnnn[[[[ssssccccaaaalllleeee]]]]
               ....PPPPIIII ppppiiiiccccttttuuuurrrreeee....eeeeppppssss """"\\\\nnnnyyyyuuuu,,,,\\\\nnnnxxxxuuuu""""
               ....sssspppp \\\\nnnnyyyyuuuu
               ppppiiiiccccttttuuuurrrreeee ddddeeeessssccccrrrriiiippppttttiiiioooonnnn
          _t_r_o_f_f includes a request to assist the inclusion of EPS files:
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ppppssssbbbbbbbb _f_i_l_e_n_a_m_e  –       –    Read the %%%%%%%%HHHHiiiiRRRReeeessssBBBBoooouuuunnnnddddiiiinnnnggggBBBBooooxxxx DSC com‐
                                       ment,   or,   if   no  such  comment
                                       is found,  %%%%%%%%BBBBoooouuuunnnnddddiiiinnnnggggBBBBooooxxxx,  from  the
                                       PostScript document _f_i_l_e_n_a_m_e and as‐
                                       sign the lower left _x coordinate  to
                                       the floating‐point register llllllllxxxx, the
                                       lower left _y coordinate to llllllllyyyy,  the
                                       upper right _x coordinate to uuuurrrrxxxx, and
                                       the upper right _y coordinate to uuuurrrryyyy.
                                       All  values  are  in  points.  If an
                                       error occurs, the registers are  set
                                       to zero.
          The ----mmmmppppiiiiccccttttuuuurrrreeeessss macros insert the necessary advices  to  _d_p_o_s_t  to
          include  PostScript  pictures  into  _t_r_o_f_f documents.  The macros
          are:






                                       ‐ 78 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....BBBBPPPP _s_o_u_r_c_e _h_e_i_g_h_t _w_i_d_t_h _p_o_s_i_t_i_o_n _o_f_f_s_e_t _f_l_a_g_s _l_a_b_e_lDefine a frame
                                       and  place  a  picture  in  it.  The
                                       arguments are:
                                       _s_o_u_r_c_e Name of a PostScript  picture
                                        file,  optionally suffixed with (_n)
                                        to select page number  _n  from  the
                                        file (first page by default).
                                       _h_e_i_g_h_t Vertical size of  the  frame,
                                        default  3333....0000iiii.   This  argument  is
                                        interpreted as a  value  in  inches
                                        unless  it  ends  with  a  uuuu  scale
                                        indicator.
                                       _w_i_d_t_h Horizontal size of the  frame,
                                        current  line  length  by  default.
                                        This argument is interpreted  as  a
                                        value in inches unless it ends with
                                        a uuuu scale indicator.
                                       _p_o_s_i_t_i_o_n llll (default),  cccc,  or  rrrr  to
                                        left‐justify,   center,  or  right‐
                                        justify the frame.
                                       _o_f_f_s_e_t Move the  frame  horizontally
                                        from  the original _p_o_s_i_t_i_o_n by this
                                        amount, default 0000iiii.
                                       _f_l_a_g_s One or more of:
                                        aaaa _d Rotate the picture clockwise  _d
                                         degrees, default _d =90.
                                        oooo Outline the picture with a box.
                                        ssss   Freely   scale   both   picture
                                         dimensions.
                                        wwww White out the area to be occupied
                                         by the picture.
                                        llll, rrrr, tttt, bbbb Attach  the  picture  to
                                         the  left right, top, or bottom of
                                         the frame.
                                       _l_a_b_e_l Place _l_a_b_e_l at  distance  1111....5555vvvv
                                        below the frame.
                                       If there  is  room,  BBBBPPPP  fills  text
                                       around  the  frame.  Everything des‐
                                       tined for either side of  the  frame
                                       goes  into  a  diversion  to  be re‐
                                       trieved when  the  accumulated  text
                                       sweeps  past  the  trap  set  by  BBBBPPPP
                                       or when the diversion is  explicitly
                                       closed by EEEEPPPP.
                                       BBBBPPPP is not recommended for text fill‐
                                       ing  in  aaaadddd pppp  mode  since its trap‐
                                       based mechanism may result  in  less
                                       optimal  output, and since it is not
                                       possible to define the  shape  of  a
                                       complete paragraph with the informa‐
                                       tion it has.  Use a  combination  of
                                       ppppssssbbbbbbbb, ppppsssshhhhaaaappppeeee, and PPPPIIII instead.


                                       ‐ 79 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          ....EEEEPPPP     –       –       –    End a picture started by BBBBPPPP;  EEEEPPPP  is
                                       usually  called implicitly by a trap
                                       at frame bottom.  A picture and  as‐
                                       sociated  text silently disappear if
                                       a diversion trap set by  BBBBPPPP  is  not
                                       reached.   Call EEEEPPPP at the end of the
                                       document to retrieve it.
          ....PPPPIIII _s_o_u_r_c_e _h_e_i_g_h_t,,,,_w_i_d_t_h,,,,_y_o_f_f_s_e_t,,,,_x_o_f_f_s_e_t _f_l_a_g_sThis       low‐level
                                       macro,  used by BBBBPPPP, can help do more
                                       complex things.  The  two  arguments
                                       not already described are:
                                       _x_o_f_f_s_e_t Offset the  frame  from  the
                                        left margin by this amount, default
                                        0000iiii.  This argument  is  interpreted
                                        as a value in inches unless it ends
                                        with a uuuu scale indicator.
                                       _y_o_f_f_s_e_t Offset the  frame  from  the
                                        current  baseline,  measuring posi‐
                                        tive downward,  default  0000iiii.   This
                                        argument  is interpreted as a value
                                        in inches unless it ends with  a  uuuu
                                        scale indicator.
          22224444....  SSSSppppeeeecccciiiiaaaallll FFFFeeeeaaaattttuuuurrrreeeessss ffffoooorrrr PPPPDDDDFFFF DDDDooooccccuuuummmmeeeennnnttttssss
          _2_4._1._T_h_e _b_a_s_i_c_s. _t_r_o_f_f does not directly generate PDF  documents;
          the  _d_p_o_s_t postprocessor generates PostScript output which can be
          converted to PDF by utilities like Ghostscript’s _p_s_2_p_d_f or  Adobe
          Distiller.   But  it  is  possible  to include special advices to
          this conversion program in PostScript using the ppppddddffffmmmmaaaarrrrkkkk operator.
          Such  advices are generated automatically by some _t_r_o_f_f requests,
          e.g. by ccccrrrrooooppppaaaatttt (§3).  Other advices can be given explicitly using
          the \\\\XXXX´´´´PPPPSSSS::::...´´´´ or \\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk::::...´´´´ escape sequences.
          _2_4._2._P_r_e_p_a_r_a_t_i_o_n_s. When generating PDF files,  it  is  especially
          important  to  set  the  paper format using the mmmmeeeeddddiiiiaaaassssiiiizzzzeeee request
          (§3).  This is because calculations in PDF documents  are  gener‐
          ally performed in relation regard to the page bottom, while _t_r_o_f_f
          performs its calculations in relation to the page  top.   Failing
          to  set  the  paper  format correctly will thus usually result in
          vertical displacements of PDF‐specific elements.
          _2_4._3._S_p_e_c_i_f_y_i_n_g _d_o_c_u_m_e_n_t _d_e_s_c_r_i_p_t_i_o_n _i_t_e_m_s. PDF documents can in‐
          clude  meta‐data about author, title etc.  To generate such data,
          use the PPPPDDDDFFFFMMMMaaaarrrrkkkk device command of _d_p_o_s_t with the _t_r_o_f_f \\\\XXXX  escape
          sequence, e.g.
               \\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk:::: AAAAuuuutttthhhhoooorrrr _M_y _N_a_m_e´´´´
               \\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk:::: KKKKeeeeyyyywwwwoooorrrrddddssss _T_y_p_e_s_e_t_t_i_n_g, _P_D_F _d_o_c_u_m_e_n_t_s´´´´
               \\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk:::: SSSSuuuubbbbjjjjeeeecccctttt _t_r_o_f_f, _d_p_o_s_t, _a_n_d _p_d_f_m_a_r_k´´´´
               \\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk:::: TTTTiiiittttlllleeee _S_p_e_c_i_a_l _f_e_a_t_u_r_e_s _f_o_r _P_D_F _d_o_c_u_m_e_n_t_s´´´´
               ....bbbbrrrr
          Unicode characters are accepted  in  these  text  strings.   Note
          that  whitespace  and  newlines  surrounding  \\\\XXXX escape sequences
          are considered to be input  text  by  _t_r_o_f_f,  and  need  a  _b_r_e_a_k
          before  they  are  output.  To avoid inserting superfluous spaces
          or line breaks, specify this information before  an  initial  ....sssspppp
          ||||\\\\nnnn[[[[ttttooooppppmmmmaaaarrrrggggiiiinnnn]]]]uuuu request or the like in the document.
          _2_4._4._D_i_r_e_c_t _u_s_e _o_f _t_h_e _p_d_f_m_a_r_k _o_p_e_r_a_t_o_r. In cases where _t_r_o_f_f  or


                                       ‐ 80 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _d_p_o_s_t  do  not include an explicit mechanism for PDF features, it
          is possible to call the ppppddddffffmmmmaaaarrrrkkkk operator directly.  Examples are:
          \\\\XXXX´´´´PPPPSSSS:::: [[[[ {{{{CCCCaaaattttaaaalllloooogggg}}}} <<<<<<<< ////VVVViiiieeeewwwweeeerrrrPPPPrrrreeeeffffeeeerrrreeeennnncccceeeessss <<<<<<<< ////DDDDiiiissssppppllllaaaayyyyDDDDooooccccTTTTiiiittttlllleeee ttttrrrruuuueeee
            >>>>>>>> >>>>>>>> ////PPPPUUUUTTTT ppppddddffffmmmmaaaarrrrkkkk\\\\’
            This causes the PDF viewer to print the document title  (as  in
            §24.3)  in  the  application  title bar instead of the PDF file
            name.
          \\\\XXXX´´´´PPPPSSSS:::: [[[[ ////PPPPaaaaggggeeeeMMMMooooddddeeee ////UUUUsssseeeeOOOOuuuuttttlllliiiinnnneeeessss ////DDDDOOOOCCCCVVVVIIIIEEEEWWWW ppppddddffffmmmmaaaarrrrkkkk´´´´
            This causes the PDF viewer to  display  the  bookmarks  toolbar
            when  the  document  is  opened.   Other interesting values are
            ////UUUUsssseeeeNNNNoooonnnneeee (the default), ////UUUUsssseeeeTTTThhhhuuuummmmbbbbssss (display  page  thumbnails),
            and ////FFFFuuuullllllllSSSSccccrrrreeeeeeeennnn (open the document in full‐screen mode).
          \\\\XXXX´´´´PPPPSSSS:::: [[[[ ////PPPPaaaaggggeeeeMMMMooooddddeeee ////PPPPaaaaggggeeee _N ////VVVViiiieeeewwww [[[[////XXXXYYYYZZZZ nnnnuuuullllllll nnnnuuuullllllll  nnnnuuuullllllll]]]]  ////DDDDOOOOCCCCVVVVIIIIEEEEWWWW
            ppppddddffffmmmmaaaarrrrkkkk´´´´
            Page _N is displayed instead of the first page when the document
            is opened.
          \\\\XXXX´´´´PPPPSSSS:::: [[[[ {{{{CCCCaaaattttaaaalllloooogggg}}}} <<<<<<<< ////PPPPaaaaggggeeeeLLLLaaaayyyyoooouuuutttt ////TTTTwwwwooooPPPPaaaaggggeeeeRRRRiiiigggghhhhtttt >>>>>>>> ////PPPPUUUUTTTT ppppddddffffmmmmaaaarrrrkkkk´´´´
            With this command, the PDF viewer displays two pages  at  once.
            Other  interesting  values are ////SSSSiiiinnnngggglllleeeePPPPaaaaggggeeee (display one page at
            once), ////OOOOnnnneeeeCCCCoooolllluuuummmmnnnn (display one page in  continuous  mode),  and
            ////TTTTwwwwooooCCCCoooolllluuuummmmnnnnRRRRiiiigggghhhhtttt (display two pages in continuous mode).
          \\\\XXXX´´´´PPPPSSSS:::: [[[[ ////LLLLaaaabbbbeeeellll ((((_t_e_x_t)))) ////PPPPAAAAGGGGEEEELLLLAAAABBBBEEEELLLL ppppddddffffmmmmaaaarrrrkkkk´´´´
            The given ASCII _t_e_x_t is shown next to the page  number  of  the
            current  page  in the PDF viewer toolbar.  This is particularly
            useful to implement roman page  numbers  in  PDF  documents  in
            combination with the aaaaffff request.
          _2_4._5._C_r_e_a_t_i_n_g _b_o_o_k_m_a_r_k_s. Bookmarks are usually shown by  the  PDF
          viewer  at  the  left  of  the window.  When you create PDF files
          longer than a few pages for viewing on  the  screen,  you  should
          include bookmarks for each chapter or section because they enable
          the reader to navigate much more conveniently.
          Start with a bookmark for the title page.  ‘‘0’’ is the level  of
          the  bookmark  in the tree structure, and the following arguments
          form the name of the bookmark:  \\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk::::  BBBBooooooookkkkmmmmaaaarrrrkkkk  _0  _T_i_t_l_e´´´´.
          Similar  to  the  description specifications above, this bookmark
          should appear before the top margin of the title page.
          When generating bookmarks for chapters and sections, it  is  usu‐
          ally most practical to include the command in the chapter/section
          macros:
               ....ddddeeee CCCCHHHH
               ....       bbbbpppp
               \\\\vvvv´´´´||||----1111vvvv----4444pppp´´´´\\\\\\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk:::: BBBBooooooookkkkmmmmaaaarrrrkkkk 0000 \\\\\\\\$$$$1111´´´´
               ....       sssspppp ||||\\\\\\\\nnnn[[[[ttttooooppppmmmmaaaarrrrggggiiiinnnn]]]]uuuu
               ....       cccceeee
               ....       sssspppp
               ........
               ....ddddeeee SSSSHHHH
               ....       cccceeee
               \\\\\\\\$$$$1111\\\\vvvv´´´´----1111vvvv´´´´\\\\\\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk:::: BBBBooooooookkkkmmmmaaaarrrrkkkk 1111 \\\\\\\\$$$$1111´´´´
               ....       sssspppp
               ........
          Unless the bookmark command occurs at the top  of  the  page,  it
          refers to the baseline of the text; this is why a \\\\vvvv´´´´----1111vvvv´´´´ command
          occurs before it in the section macro.  \\\\vvvv´´´´----1111vvvv----4444pppp´´´´ at the top  of


                                       ‐ 81 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          the  page is a special value that causes the upper left corner to
          be shown.
          The level of the first bookmark in a document must be of level 0.
          The levels of following bookmarks must be either
          – one higher than the level of the previous  bookmark.   The  new
            bookmark then becomes a child of the previous bookmark.
          – equal to the level of the previous  bookmark.   In  this  case,
            both bookmarks are grouped below the first previous bookmark of
            the first higher level, or at the top level for level 0.
          – lower than the level of the previous bookmark.  This terminates
            the list of children of the higher levels.
          As an example, the following level structure is legal, and causes
          the PDF viewer to group the bookmarks as shown:
                     0       title page
                     0       Chapter 1
                     •-1     Section 1.1
                     •-1     Section 1.2
                     | •--2  Subsection 1.2.1
                     | •--2  Subsection 1.2.2
                     | •--2  Subsection 1.2.3
                     •-1     Section 1.3
                       •--2  Subsection 1.3.1
                       •--2  Subsection 1.3.2
                     0       Chapter 2
                     •-1     Section 2.1
                     0       Index
          In case of an illegal structure in which the level of a  bookmark
          is  raised  by more than one above its predecessor, _d_p_o_s_t emits a
          warning and assigns the highest legal level.  However, a  garbled
          document structure may result:
                     0
                     •-2     ☜ the first level 2 is corrected to 1 by _d_p_o_s_t
                       •--2  so the second bookmark becomes a child of the first
          Thus such _d_p_o_s_t warnings should usually be taken  seriously,  and
          the document should be corrected.
          An alternate form of bookmarks, \\\\XXXX´´´´PPPPDDDDFFFFMMMMaaaarrrrkkkk:::: BBBBooooooookkkkmmmmaaaarrrrkkkkCCCClllloooosssseeeedddd  ...´´´´,
          is  available.   The  syntax is the same, but the initial view in
          the tree structure is collapsed, i.e. no children  are  shown  by
          default.  It the bookmark has no children, there is no difference
          to a regular bookmark.
          _2_4._6._L_i_n_k_s. PDF documents can contain links that cause the viewer
          to  jump to a certain location when the user clicks on an area of
          the page, as well as links to external documents in URI form.  In
          _t_r_o_f_f, such links can be built as follows:
          The  \\\\AAAA´_s_t_r_i_n_g´  escape  sequence  defines  an  anchor,  i.e.   a
          location  to  jump  to, with the name _s_t_r_i_n_g (consisting of ASCII
          characters).
          The  actual  link  is  built  using  two  \\\\TTTT   escape   sequences
          surrounding  the  text  that  forms  the  area to click on, e.g.:
          \\\\TTTT´_s_t_r_i_n_g´_t_e_x_t _o_f _l_i_n_k\\\\TTTT.  _s_t_r_i_n_g must correspond  to  an  anchor
          anywhere in the document.
          An URI link is built likewise  using  two  \\\\WWWW  escape  sequences:
          \\\\WWWW´_u_r_i´_t_e_x_t _o_f _l_i_n_k\\\\WWWW.  The _u_r_i part is not interpreted by _t_r_o_f_f,
          but just written to the generated output.  Typically,  this  will


                                       ‐ 82 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          be a link to a web page, as in
          <<<<\\\\WWWW’hhhhttttttttpppp::::////////nnnn‐tttt‐rrrrooooffffffff....ggggiiiitttthhhhuuuubbbb....iiiioooo////hhhheeeeiiiirrrrlllloooooooommmm////ddddooooccccttttoooooooollllssss....hhhhttttmmmmllll’hhhhttttttttpppp::::////////nnnn‐tttt‐rrrrooooffffffff....ggggiiiitttthhhhuuuubbbb....iiiioooo////hhhheeeeiiiirrrrlllloooooooommmm////ddddooooccccttttoooooooollllssss....hhhhttttmmmmllll\\\\WWWW>>>>.
          The appearance of  links  can  be  changed;  links  are  normally
          surrounded  by  an  1  point  wide blue border.  The color can be
          set using \\\\XXXX’SSSSeeeettttLLLLiiiinnnnkkkkCCCCoooolllloooorrrr:::: _r_e_d _g_r_e_e_n  _b_l_u_e’,  where  _r_e_d,  _g_r_e_e_n,
          _a_n_d  _b_l_u_e  are  values  between  0  and 1.  The border can be set
          using \\\\XXXX’SSSSeeeettttLLLLiiiinnnnkkkkBBBBoooorrrrddddeeeerrrr:::: _b_x _b_y _w_i_d_t_h’, where _b_x and _b_y define  the
          horizontal  and  vertical  corner radius, respectively, and _w_i_d_t_h
          defines the width.
          The border style  can  be  changed  with  the  \\\\XXXX''''SSSSeeeettttBBBBoooorrrrddddeeeerrrrSSSSttttyyyylllleeee::::
          _a_r_g_u_m_e_n_t_s''''  command.   The  _a_r_g_u_m_e_n_t_s  are  the  same  as for the
          ////BBBBSSSS pdfmark operator  or  the  LATEX  hhhhyyyyppppeeeerrrrrrrreeeeffff  ppppddddffffbbbboooorrrrddddeeeerrrrssssttttyyyylllleeee===={{{{}}}}
          variable.
          Likewise, SSSSeeeettttUUUULLLLiiiinnnnkkkkCCCCoooolllloooorrrr, SSSSeeeettttUUUULLLLiiiinnnnkkkkBBBBoooorrrrddddeeeerrrr, and SSSSeeeettttUUUUBBBBoooorrrrddddeeeerrrrSSSSttttyyyylllleeee  are
          available for URI links.
          E.g. for this document the commands
               \\\\XXXX''''SSSSeeeettttBBBBoooorrrrddddeeeerrrrSSSSttttyyyylllleeee:::: ////SSSS////UUUU////WWWW 0000....1111''''
               \\\\XXXX''''SSSSeeeettttUUUUBBBBoooorrrrddddeeeerrrrSSSSttttyyyylllleeee:::: ////SSSS////UUUU////WWWW 0000....1111''''
          are used.
          22225555....  _gggg_rrrr_oooo_ffff_ffff CCCCoooommmmppppaaaattttiiiibbbbiiiilllliiiittttyyyy
          Heirloom _t_r_o_f_f provides most  of  the  extensions  to  the  _t_r_o_f_f
          language  introduced in _g_r_o_f_f10.  Consequently, it is possible to
          create documents, macro sets, and preprocessors that can be  used
          with  both  Heirloom _t_r_o_f_f and _g_r_o_f_f and use functionality beyond
          the features that were supported by traditional _t_r_o_f_f.
          Important differences to _g_r_o_f_f are:   The  concept  of  an  _i_n_p_u_t
          _l_e_v_e_l  regarding  delimiters  in escape sequences and macro argu‐
          ments is not supported.  Control characters are recognized at the
          beginning  of  a  line  even if preceded by escape sequences that
          do not result in formatting stream objects, such as  \\\\ffff,  \\\\ssss,  or
          \\\\;;;;.   Font  handling,  color  support, picture inclusion, and PDF
          structuring are realized using different mechanisms.   The  _d_p_o_s_t
          post‐processor  does not recognize the \\\\XXXX´´´´ppppssss::::...´´´´ escape sequence
          (or xxxx XXXX ppppssss:::: command, respectively) that is used for  pass‐through
          PostScript  with the _g_r_o_p_s post‐processor of _g_r_o_f_f (_d_p_o_s_t accepts
          \\\\XXXX’PPPPSSSS::::...´´´´ and xxxx XXXX PPPPSSSS::::); the PostScript output generated by _d_p_o_s_t
          is  very  different  to  that  generated by _g_r_o_p_s.  _d_p_o_s_t accepts
          the _g_r_o_f_f drawing command extensions and sets the horizontal  and
          vertical positions accordingly, but otherwise ignores line width,
          color, and fill specifications.
          _2_5._1._C_o_n_d_i_t_i_o_n_a_l _g_r_o_f_f _c_o_m_p_a_t_i_b_i_l_i_t_y. A request is  available  to
          control additional functions for _g_r_o_f_f compatibility:
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....ccccpppp _N   off     –       –    Enable  _g_r_o_f_f  compatibility   mode.
                                       This  is  the  name  of  _g_r_o_f_f’_s own
                                       compatibility request  with  adapted
                                       semantics:   Regardless of the argu‐
                                       ment, _g_r_o_f_f  compatibility  mode  is
                                       activated.   If  _N=0,  compatibility
                                       with traditional _t_r_o_f_f is decreased,
                                       and Heirloom _t_r_o_f_f extension level 3
                                       is set.  If _N≠0 or missing, compati‐
                                       bility with traditional _t_r_o_f_f is im‐


                                       ‐ 83 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                       proved, and Heirloom _t_r_o_f_f extension
                                       level  1 is set.  Thus ....ccccpppp 0000 results
                                       in maximum _g_r_o_f_f compatibility.
          The ccccpppp request sets the  general  number  register  ....gggg  to  1  in
          _g_r_o_f_f  compatibility mode and to 0 otherwise.  The general number
          register ....CCCC is only assigned by the ....ccccpppp request  and  corresponds
          to its argument.
          Any use of the xxxxffffllllaaaagggg request  disables  _g_r_o_f_f  compatibility  and
          accordingly sets the ....gggg register to 0.
          The ....XXXX read‐only number  register  holds  the  current  extension
          level  after  ccccpppp  as  usual.   It  can  thus be used to determine
          whether running under _g_r_o_f_f or in the _g_r_o_f_f compatibility mode of
          Heirloom  _t_r_o_f_f.  Since they are read‐write, any convenient value
          can then be assigned to the ....CCCC and ....gggg registers.
          Nevertheless it is not recommend to do so  without  reason.   For
          instance  macro packages read \n(.g to test if they are processed
          with groff.  Setting ....gggg to 1111 with the ....nnnnrrrr request also  has  some
          side effects in Heirloom _t_r_o_f_f:
            • _g_r_o_f_f’s notation for  accessing  symbols  with  \\\\[[[[cccchhhhaaaarrrr_n]]]]  and
              \\\\[[[[uuuu_X_X_X_X]]]] are enabled.
            • The escape \\\\%%%% marks optional hyphenation points inside a word
              or  suppresses hyphenation prefixed to a word (_e_v_e_n _w_h_e_n _t_h_i_s
              _w_o_r_d _c_o_n_t_a_i_n_e_s _d_a_s_h_e_s).  A problem in macro packages is  that
              it  cannot  be  guaranteed  that  no character is before word
              (e.g. quotes or parentheses).  _g_r_o_f_f  allows  to  force  that
              \\\\%%%%  acts  as a hyphenation suppression escape when it follows
              the zero‐width characters \\\\)))) or \\\\&&&&.  This does not work  with
              traditional _t_r_o_f_f, unfortunately.  The command ....nnnnrrrr....gggg1111 enables
              the _g_r_o_f_f behaviour.
            • The algorithm _g_r_o_f_f uses for the three part title request ....ttttllll
              leads  to  a  different placement of the middle title element
              with _n_r_o_f_f under certain conditions.   This  is  emulated  by
              setting ....gggg to 1.
            • _g_r_o_f_f’s left italic correction escape \\\\,,,, is removed from  the
              input instead of producing a ‘,,,,’.
          The ....xxxx and ....yyyy registers are  read‐write  in  _g_r_o_f_f  compatibility
          mode;  they correspond to the emulated _g_r_o_f_f version number.  The
          ccccpppp request sets them to 1 and 18, respectively.
          The ....kkkk number register behaves differently in _g_r_o_f_f compatibility
          mode:   If  the preceding text character was a newline, the width
          of a space character is added to the value.  If the previous line
          was  interrupted  with  \\\\cccc, the length of the partially collected
          word (as in the ....kkkkcccc number register) is part of the value.
          The space width always defaults to the value  obtained  from  the
          font  metrics  file  in  _g_r_o_f_f compatibility mode; the ssssppppaaaacccceeeewwwwiiiiddddtttthhhh
          request is not effective.
          If the file  specified  with  a  ssssoooo  request  cannot  be  opened,
          processing continues with the current file in _g_r_o_f_f compatibility
          mode.
          A control or escape character written in a diversion has no  spe‐
          cial  meaning  if the diversion is re‐read in _g_r_o_f_f compatibility
          mode.
          Unless a string is  interpolated  with  explicit  arguments,  the
          arguments  to  the  surrounding macro instance remain visible and


                                       ‐ 84 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          can be referenced by the \\\\$$$$ escape sequence inside the string  in
          _g_r_o_f_f compatibility mode.
          Any call to the ccccpppp request activates the following _g_r_o_f_f compati‐
          bility  escape  sequences; any call to the xxxxffffllllaaaagggg request disables
          them.
          The \\\\AAAA’_s_t_r_i_n_g’ escape sequence checks whether _s_t_r_i_n_g  is  accept‐
          able  as  the  name of a string, macro, number register, or font,
          and evaluates to ‘‘1’ if it does and  to  ‘‘0’’  otherwise.   The
          Heirloom  _t_r_o_f_f  anchoring escape sequence \\\\AAAA is not available in
          _g_r_o_f_f compatibility mode.
          The \\\\//// escape sequence inserts an italic correction, i.e. a small
          piece  of horizontal motion (1/12em) that should be sufficient to
          separate an italic character from a  following  roman  character.
          Similarly,  \\\\,,,,  adds  a  left  italic  correction,  always a zero
          motion, that should be sufficient to separate a  roman  character
          from  an  immediately  following  italic  character.   Both exist
          to provide basic  _g_r_o_f_f  compatibility  only.   It  is  otherwise
          recommended that the kkkkeeeerrrrnnnnppppaaaaiiiirrrr request is used for these purposes;
          it allows a more exact optical separation since the shape of both
          characters can be taken into account and also does not need to be
          be positioned directly in the input text at every occasion.
          The \\\\DDDD´´´´pppp ...´´´´ polygon drawing escape  sequence  is  altered  such
          that  the  path is always closed, i.e. if the last line part does
          not return to the starting position, an additional line is  added
          that does.
          The escape sequences \\\\FFFF_x, \\\\FFFF((((_x_x, \\\\FFFF[[[[_x_x_x]]]],  \\\\mmmm_x,  \\\\mmmm((((_x_x,  \\\\mmmm[[[[_x_x_x]]]],
          \\\\MMMM_x,  \\\\MMMM((((_x_x, \\\\MMMM[[[[_x_x_x]]]], are read but discarded in _g_r_o_f_f compatibil‐
          ity mode since the corresponding concepts of  font  families  and
          built‐in  color  support  are  foreign to Heirloom _t_r_o_f_f.  All of
          them generate a warning of the eeeessssccccaaaappppeeee category.
          _2_5._2._g_r_o_f_f _c_o_m_p_a_t_i_b_i_l_i_t_y _m_a_c_r_o_s. As an additional aid in  format‐
          ting  documents  that  had  originally  been  written  with _g_r_o_f_f
          in mind, Heirloom _t_r_o_f_f  provides  the  ----mmmmgggg  compatibility  macro
          package.  Specifically:
          ....ccccpppp 0000 is executed, so _t_r_o_f_f is operated  in  _g_r_o_f_f  compatibility
          mode at extension level 3.
          The locale is set to eeeennnn____UUUUSSSS; this assumes that input to  _g_r_o_f_f  is
          conventionally in the ISO‐8859‐1 encoding.
          The hyphenation language is  set  to  eeeennnn____UUUUSSSS.   Since  both  _g_r_o_f_f
          and  Heirloom  _t_r_o_f_f  then use the same hyphenation algorithm and
          patterns derived from _T_E_X, it  can  be  assumed  that  words  are
          subject to hyphenation at the same points.
          The ddddeeee1111, aaaammmm1111, ddddssss1111, and aaaassss1111 _g_r_o_f_f requests are emulated using  ddddeeee,
          aaaammmm,  ddddssss, and aaaassss, respectively.  It is not expected that the _g_r_o_f_f
          compatibility macros are used to format  documents  that  require
          compatibility with traditional _t_r_o_f_f.
          The ffffttttrrrr request is removed since the _g_r_o_f_f request with the  same
          name provides completely different semantics.
          ffffaaaallllllllbbbbaaaacccckkkk is used to emulate ffffssssppppeeeecccciiiiaaaallll; these  requests  should  be
          compatible.   No  emulation  is provided for the ssssppppeeeecccciiiiaaaallll request;
          all other fonts are searched for missing characters  in  Heirloom
          _t_r_o_f_f by default.
          ttttrrrraaaacccckkkk is used to emulate ttttkkkkffff.  These requests are not  completely
          compatible:   ttttrrrraaaacccckkkk  does not affect the last character on a line


                                       ‐ 85 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          and thus does not alter the  visual  length  of  lines  like  ttttkkkkffff
          does;  ttttrrrraaaacccckkkk  is  applied  when formatting an object defined with
          the cccchhhhaaaarrrr request; ttttrrrraaaacccckkkk needs  to  remain  in  effect  until  all
          affected  characters  have been physically output.  Nevertheless,
          the replacement should suffice for most applications.
          _g_r_o_f_f  characters  with  two‐character  names   are   mapped   to
          PostScript character names using the cccchhhhaaaarrrr request.
          The following macro is also provided  as  an  emulation  for  the
          corresponding _g_r_o_f_f request:
          _RRRR_eeee_qqqq_uuuu_eeee_ssss_tttt _IIII_nnnn_iiii_tttt_iiii_aaaa_llll _IIII_ffff _NNNN_oooo
          _FFFF_oooo_rrrr_mmmm    _VVVV_aaaa_llll_uuuu_eeee   _AAAA_rrrr_gggg_uuuu_mmmm_eeee_nnnn_tttt     _NNNN_oooo_tttt_eeee_ssss_EEEE_xxxx_pppp_llll_aaaa_nnnn_aaaa_tttt_iiii_oooo_nnnn
          ....mmmmssssoooo _n_a_m_e       –       ignored–Include   the    macro    package
                                       _n_a_m_e.    If  the  environment  vari‐
                                       able GGGGRRRROOOOFFFFFFFF____TTTTMMMMAAAACCCC____PPPPAAAATTTTHHHH  is  set,  each
                                       of  the  colon‐separated directories
                                       in  it  is  checked  for  the  files
                                       _n_a_m_e,   _n_a_m_e.tmac,  m_n_a_m_e.tmac,  and
                                       tmac._n_a_m_e.  After this, the standard
                                       _t_r_o_f_f  macro directories are checked
                                       in  the  same  way.   Once  a   file
                                       has  been  found,  it  is read in as
                                       with the ssssoooo request, and the  search
                                       stops.
          22226666....  OOOOuuuuttttppppuuuutttt LLLLaaaannnngggguuuuaaaaggggeeee....
          _t_r_o_f_f produces its output in a language that  is  independent  of
          any  specific  output  device, except that the numbers in it have
          been computed on the basis of the resolution of the  device,  and
          the  sizes,  fonts,  and  characters  that that device can print.
          Nevertheless it is quite possible to interpret that output  on  a
          different device, within the latter’s capabilities.
               ssss_n      set point size to _n, fractional parts (if any) ignored
               ssss----22223333_d._d set point size to _d._d
               ffff_n      set font to _n
               cccc_c      print character _c
               CCCC_n_a_m_e   print the character called _n_a_m_e; terminate _n_a_m_e by white space
               CCCCPPPPSSSS_n_a_m_e print the character with the given PostScript _n_a_m_e
               NNNN_n      print character _n on current font
               HHHH_n      go to absolute horizontal position _n (_n≥0)
               VVVV_n      go to absolute vertical position _n (_n≥0, down is positive)
               hhhh_n      go _n units horizontally; _n<0 is to the left
               vvvv_n      go _n units vertically; _n<0 is up
               _n_n_c     move right _n_n, then print ASCII character _c;  _n_n must be exactly 2 digits
               pppp_n      new page _n begins—set vertical position to 0
               nnnn_b _a    end of line (information only—no action);  _b = space before line, _a = after
               wwww       paddable word space (information only—no action)
               DDDD_c ...\_ngraphics function _c; see below
               xxxx ............\\\\nnnn device control functions; see below
               #### ............\\\\nnnn comment
          All position values are in units.  Sequences that end  in  digits
          must  be  followed  by  a  non‐digit.   Blanks, tabs and newlines
          may occur as separators in the input, and are mandatory to  sepa‐
          rate  constructions  that  would otherwise be confused.  Graphics
          functions, device control functions, and comments extend  to  the
          end of the line they occur on.


                                       ‐ 86 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          The device control and graphics commands are  intended  as  open‐
          ended families, to be expanded as needed.  The graphics functions
          coincide directly with the \\\\DDDD sequences:
               DDDDllll _d_h _d_v    draw line from current position by _d_h,_d_v
               DDDDpppp _a _b _c _d ...draw polygon, i.e. a line to _a,_b, then to _c,_d, then ...
               DDDDcccc _d        draw circle of diameter _d with left side at current position
               DDDDeeee _u _v      draw ellipse of diameters _u and _v
               DDDDaaaa _a _b _c _d  draw arc from current position to _a+_c,_b+_d, with center at _a,_b from current position
               DDDD∼∼∼∼ _a _b _c _d...draw B‐spline from current position by _a,_b, then by _c,_d, then by _c,_d, then ...
               DDDDzzzz _a _b _c _d...for any other _z is uninterpreted
          In all of these, _x,_y is an increment on  the  current  horizontal
          and  vertical  position,  with  down  and  right  positive.   All
          distances and dimensions are in units.
          The device control functions begin with xxxx, then a  command,  then
          other parameters.
               xxxx TTTT _s          name of typesetter is _s
               xxxx rrrr _n _h _v      resolution is _n units/inch;
                               _h = minimum horizontal motion, _v = minimum vertical motion
               xxxx iiii            initialize
               xxxx ffff _n _s        mount font _s on font position _n
               xxxx ffff _n _s _f_i_l_e_n_a_m_e _f_l_a_g_s_f_i_l_e_n_a_m_e contains metrics for font _s on position _n using _f_l_a_g_s
               xxxx pppp            pause—can restart
               xxxx ssss            stop—done forever
               xxxx tttt            generate trailer information, if any
               xxxx HHHH _n          set character height to _n, fractional parts (if any) ignored
               xxxx HHHH ----22223333 _d._d    set character height to _d._d
               xxxx SSSS _n          set slant to _n
               xxxx XXXX _a_n_y        generated by the \\\\XXXX and \\\\YYYY functions
               xxxx XXXX AAAAnnnncccchhhhoooorrrr _y,_x _i_dspecify PDF link anchor (generated by the \\\\AAAA request)
               xxxx XXXX AAAAnnnncccchhhhoooorrrr _i_d  specify HTML link anchor
               xxxx XXXX BBBBlllleeeeeeeeddddAAAAtttt _L _T _W _Hgenerated by the bbbblllleeeeeeeeddddaaaatttt request
               xxxx XXXX CCCCrrrrooooppppAAAAtttt _L _T _W _Hgenerated by the ccccrrrrooooppppaaaatttt request
               xxxx XXXX HHHHoooorrrrSSSSccccaaaalllleeee _p_e_r_c_e_n_tscale letters horizontally by _p_e_r_c_e_n_t (with the lllleeeettttaaaaddddjjjj request)
               xxxx XXXX LLLLCCCC____CCCCTTTTYYYYPPPPEEEE _n_a_m_esets the LC_CTYPE locale to _n_a_m_e
               xxxx XXXX LLLLiiiinnnnkkkk _x_1,_y_1,_x_2,_y_2 _i_dspecify PDF link (generated by the \\\\TTTT''''_i_d'''' request)
               xxxx XXXX LLLLiiiinnnnkkkk _i_d    begin HTML link (generates <<<<aaaa hhhhrrrreeeeffff====""""_i_d"""">>>>)
               xxxx XXXX LLLLiiiinnnnkkkk       end HTML link (generates <<<<////aaaa>>>>)
               xxxx XXXX PPPPaaaappppeeeerrrrSSSSiiiizzzzeeee _W _H _ngenerated by the mmmmeeeeddddiiiiaaaassssiiiizzzzeeee and ppppaaaappppeeeerrrrssssiiiizzzzeeee requests
                               _n is non‐zero for mmmmeeeeddddiiiiaaaassssiiiizzzzeeee
               xxxx XXXX PPPPSSSS _c_o_m_m_a_n_d embed PostScript _c_o_m_m_a_n_d
               xxxx XXXX PPPPSSSSSSSSeeeettttuuuupppp _c_o_m_m_a_n_dembed PostScript _c_o_m_m_a_n_d in global setup section
               xxxx XXXX SSSSeeeettttCCCCoooolllloooorrrr _c_o_l_o_rchange printing _c_o_l_o_r
               xxxx XXXX SSSSuuuuppppppppllllyyyyFFFFoooonnnntttt _f_o_n_t _f_i_l_esupply data from _f_i_l_e for PostScript _f_o_n_t
               xxxx XXXX SSSSyyyynnnncccc       instructs to flush position and font information immediately
               xxxx XXXX TTTTrrrraaaacccckkkk _n    gives a hint that following characters are tracked by _n units
                               interpretation is optional; following positions are not changed
               xxxx XXXX TTTTrrrriiiimmmmAAAAtttt _L _T _W _Hgenerated by the ttttrrrriiiimmmmaaaatttt request
               xxxx XXXX UUUULLLLiiiinnnnkkkk _x_1,_y_1,_x_2,_y_2 _U_R_Lspecify PDF URL link (generated by the \\\\WWWW''''_i_d'''' request)
               xxxx XXXX UUUULLLLiiiinnnnkkkk _U_R_L  begin HTML URL link (generates <<<<aaaa hhhhrrrreeeeffff====""""_U_R_L"""">>>>)
               xxxx XXXX UUUULLLLiiiinnnnkkkk      end HTML URL link (generates <<<<////aaaa>>>>)
               xxxx _a_n_y          to be ignored if not recognized
          Subcommands like ‘‘i’’ may be spelled out like ‘‘init’’.
          The commands xxxx TTTT, xxxx rrrr ..., and xxxx iiii fonts must be  mounted  before
          they  can  be  used;  xxxx ssss  comes  last.  There are no other order


                                       ‐ 87 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          requirements.
          The following is the output from ‘‘hello, world’’ for  a  typical
          printer, as described in §27:
               x T ps
               x res 72000 1 1
               x init
               V0
               p1
               x font 1 R /usr/ucblib/doctools/font/devps/R.afm 4
               x font 2 I /usr/ucblib/doctools/font/devps/I.afm 4
               x font 3 B /usr/ucblib/doctools/font/devps/B.afm 4
               x font 4 BI /usr/ucblib/doctools/font/devps/BI.afm 4
               x font 5 CW /usr/ucblib/doctools/font/devps/CW.afm 4
               x font 6 H /usr/ucblib/doctools/font/devps/H.afm 4
               x font 7 HB /usr/ucblib/doctools/font/devps/HB.afm 4
               x font 8 HX /usr/ucblib/doctools/font/devps/HX.afm 4
               x font 9 S1 /usr/ucblib/doctools/font/devps/S1.afm 516
               x font 10 S /usr/ucblib/doctools/font/devps/S.afm 1028
               s10
               f1
               x X LC_CTYPE de_DE.utf8
               H72000
               V12000
               ch
               h5000ce
               h4440cl
               h2780cl
               h2780co
               h5000c,
               wh5830cw
               h7120co
               h5000cr
               h3330cl
               h2780cd
               n12000 0
               x trailer
               V792000
               x stop
          _t_r_o_f_f output is normally not redundant;  size  and  font  changes
          and  position information are not included unless needed.  Never‐
          theless, each page is normally self‐contained,  for  the  benefit
          of  postprocessors  that re‐order pages or process only a subset.
          The xxxx XXXX PPPPSSSSSSSSeeeettttuuuupppp command  is  an  exception  from  this  rule;  it
          is  included  only  once  at  the  point  where the corresponding
          \\\\XXXX’PPPPSSSSSSSSeeeettttuuuupppp::::...’ escape sequence occurs.
          22227777....  DDDDeeeevvvviiiicccceeee aaaannnndddd FFFFoooonnnntttt DDDDeeeessssccccrrrriiiippppttttiiiioooonnnn FFFFiiiilllleeeessss
          The parameters that describe a output device _n_a_m_e are  read  from
          the  directory ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////ffffoooonnnntttt////ddddeeeevvvv_n_a_m_e, each time _t_r_o_f_f
          is invoked.  The device name  is  provided  by  default,  by  the
          environment  variable  TTTTYYYYPPPPEEEESSSSEEEETTTTTTTTEEEERRRR,  or by a command‐line argument
          ----TTTT_n_a_m_e.  The default device name is ppppssss, for PostScript output  at
          a  resolution  of  72000 dpi.  The pre‐defined string ....TTTT contains
          the name of the device.  The ----FFFF command‐line option may  be  used
          to change the default directory.


                                       ‐ 88 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          _2_7._1._D_e_v_i_c_e _d_e_s_c_r_i_p_t_i_o_n _f_i_l_e. General parameters  of  the  device
          are  stored,  one  per  line,  in  the file ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////
          ffffoooonnnntttt////ddddeeeevvvv_n_a_m_e////DDDDEEEESSSSCCCC, as a sequence  of  names  and  values.   _t_r_o_f_f
          recognizes  these  parameters, and ignores any others that may be
          present for specific drivers:
               ffffoooonnnnttttssss _n _F _G _H ... _Z
               ssssiiiizzzzeeeessss _s _t ... 0000
               rrrreeeessss _n
               hhhhoooorrrr _n
               vvvveeeerrrrtttt _n
               uuuunnnniiiittttwwwwiiiiddddtttthhhh _n
               cccchhhhaaaarrrrsssseeeetttt
               _l_i_s_t _o_f _m_u_l_t_i‐_c_h_a_r_a_c_t_e_r _c_h_a_r_a_c_t_e_r _n_a_m_e_s (_o_p_t_i_o_n_a_l)
          The F, G, ... are font names to be initially mounted.   The  list
          of  sizes  is  a  set of integers representing some or all of the
          legal sizes the device can produce, terminated by  a  zero.   The
          rrrreeeessss  parameter  gives  the resolution of the machine in units per
          inch; hhhhoooorrrr and vvvveeeerrrr give the minimum number of units  that  can  be
          moved horizontally and vertically.
          Character widths for each font are assumed to be given in machine
          units at point size uuuunnnniiiittttwwwwiiiiddddtttthhhh.  (In other words, a character with
          a width of _n is _n units wide at size uuuunnnniiiittttwwwwiiiiddddtttthhhh.)  All widths  are
          integers at all sizes.
          A list of valid character names may be introduced by cccchhhhaaaarrrrsssseeeetttt; the
          list of names is optional.
          A line whose first non‐blank character is #### is a comment.  Except
          that cccchhhhaaaarrrrsssseeeetttt must occur last, parameters may appear in any order.
          Here is a subset of  the  DDDDEEEESSSSCCCC  file  for  a  typical  Postscript
          printer:
               # Description file for Postscript printers.

               fonts 10 R I B BI CW H HB HX S1 S
               sizes 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
                  24 25 26 27 28 29 30 31 32 33 34 35 36 38 40 44 48 54 60 72 0
               anysize
               allpunct
               afmfonts
               lc_ctype
               res 72000
               hor 1
               vert 1
               unitwidth 1
               charset
               hy ct fi fl ff Fi Fl dg em 14 34 12 en aa
               ga ru sc dd ‐> br Sl ps cs cy as os =. ld
               rd le ge pp ‐+ ob vr rs dq
               sq bx ci fa te ** pl mi eq |= *A *B *X *D
               *E *F *G *Y *I *K *L *M *N *O *P *R *H *S *T *U *W
               *C *Q *Z ul rn *a *b *x *d *e *f *g *y *i *k
               *l *m *n *o *p *h *r *s *t *u *w *c *q *z
          _2_7._2._F_o_n_t _d_e_s_c_r_i_p_t_i_o_n _f_i_l_e_s. Note: This  description  applies  to
          the  old  _t_r_o_f_f  device‐independent  font  format.   The  current
          version of _t_r_o_f_f usually reads font metrics directly from Type 1,
          OpenType, or TrueType font files, as described for the ffffpppp request


                                       ‐ 89 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          (§2) and in the separate fonts manual available from the  project
          home page.
          Each font is described by an analogous  description  file,  which
          begins  with  parameters  of  the font, one per line, followed by
          a list of  characters  and  widths.   The  file  for  font  _F  is
          ////uuuussssrrrr////uuuuccccbbbblllliiiibbbb////ddddooooccccttttoooooooollllssss////ffffoooonnnntttt////ddddeeeevvvv_n_a_m_e////_F.
               nnnnaaaammmmeeee _s_t_r         name of font is _s_t_r
               lllliiiiggggaaaattttuuuurrrreeeessss ............ 0000  list of ligatures
               ssssppppaaaacccceeeewwwwiiiiddddtttthhhh _n     width of a space on this font
               ssssppppeeeecccciiiiaaaallll          this is a special font
               cccchhhhaaaarrrrsssseeeetttt
               _l_i_s_t _o_f _c_h_a_r_a_c_t_e_r _n_a_m_e, _w_i_d_t_h, _a_s_c_e_n_d_e_r/_d_e_s_c_e_n_d_e_r, _c_o_d_e, tab separated
          The nnnnaaaammmmeeee and cccchhhhaaaarrrrsssseeeetttt fields are mandatory; cccchhhhaaaarrrrsssseeeetttt must be  last.
          Comments are permitted, as are other unrecognized parameters.
          Each line following charset describes one  character:  its  name,
          its  width in units as described above, ascender/descender infor‐
          mation, and a decimal, octal or hexadecimal value  by  which  the
          output device knows it (the \\\\NNNN ‘‘number’’ of the character).  The
          character name is arbitrary, except that ------------ signifies an unnamed
          character.   If the width field contains """", the name is a synonym
          for the previous character.  The ascender/descender field is 1 if
          the character has a descender (hangs below the baseline, like yyyy),
          is 2 if it has an ascender (is tall, like YYYY), is 3 if  both,  and
          is  0  if  neither.  The value is returned in the cccctttt register, as
          computed by the \\\\wwww function (§11.2).
          Here are excerpts from a typical font description  file  for  the
          same Postscript printer.
               hy   33   0    45        hyphen \(hy
               ‐    "                   ‐ is a synonym for \(hy

               Q    72   3    81

               a    44   0    97
               b    50   2    98
               c    44   0    99
               d    50   2    100
               y    50   1    121

               em   100  0    208
               ---  44   2    220       English pound currency symbol \N’220’
               ---  36   0    221       centered dot \N’221’
          This says, for example, that the width of  the  letter  aaaa  is  44
          units  at point size 10, the value of uuuunnnniiiittttwwwwiiiiddddtttthhhh.  Point sizes are
          scaled linearly and rounded, so the width of aaaa will be 44 at size
          10, 40 at size 9, 35 at size 8, and so on.











                                       ‐ 90 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016





                                  TTTTUUUUTTTTOOOORRRRIIIIAAAALLLL EEEEXXXXAAAAMMMMPPPPLLLLEEEESSSS


          TTTT1111....  IIIInnnnttttrrrroooodddduuuuccccttttiiiioooonnnn                 bottom page  margin  areas  re‐
          Although _n_r_o_f_f and  _t_r_o_f_f  have   spectively.   A trap is planted
          by  design a syntax reminiscent   at  page  position  0  for  the
          of  earlier  text   processors*   header,  and  at -_N (_N from the
          with   the   intent  of  easing   page bottom)  for  the  footer.
          their use,  it  is  almost  al‐   The  simplest  such definitions
          ways  necessary  to  prepare at   might be
          least  a  small  set  of  macro     ....ddddeeee hhhhdddd    \\\\""""ddddeeeeffffiiiinnnneeee hhhheeeeaaaaddddeeeerrrr
          definitions  to  describe  most     ´´´´sssspppp 1111iiii
          documents.  Such common format‐     ........        \\\\""""eeeennnndddd ddddeeeeffffiiiinnnniiiittttiiiioooonnnn
          ting  needs as page margins and     ....ddddeeee ffffoooo    \\\\""""ddddeeeeffffiiiinnnneeee ffffooooooootttteeeerrrr
          footnotes are deliberately  not     ´´´´bbbbpppp
          built  into  _n_r_o_f_f  and  _t_r_o_f_f.     ........        \\\\""""eeeennnndddd ddddeeeeffffiiiinnnniiiittttiiiioooonnnn
          Instead, the macro  and  string     ....wwwwhhhh 0000 hhhhdddd
          definition,   number  register,     ....wwwwhhhh ----1111iiii ffffoooo
          diversion, environment  switch‐   which  provide   blank   1 inch
          ing,  page‐position  trap,  and   top  and  bottom  margins.  The
          conditional  input   mechanisms   header will occur on the  _f_i_r_s_t
          provide  the  basis  for  user‐   page,  only  if  the definition
          defined implementations.          and trap  exist  prior  to  the
          The examples  to  be  discussed   initial  pseudo‐page transition
          are  intended  to be useful and   (§3).  In fill mode, the output
          somewhat realistic,  but  won’t   line  that  springs  the footer
          necessarily  cover all relevant   trap was typically  forced  out
          contingencies.  Explicit numer‐   because   some  part  or  whole
          ical parameters are used in the   word  didn’t  fit  on  it.   If
          examples to make them easier to   anything   in  the  footer  and
          read  and to illustrate typical   header that  follows  causes  a
          values.  In many cases,  number   _b_r_e_a_k,  that  word or part word
          registers  would really be used   will be forced  out.   In  this
          to reduce the number of  places   and  other  examples,  requests
          where  numerical information is   like bbbbpppp and  sssspppp  that  normally
          kept, and to concentrate condi‐   cause  breaks are invoked using
          tional parameter initialization   the _n_o‐_b_r_e_a_k control  character
          like  that  which  depends   on   ´´´´  to  avoid  this.   When  the
          whether _t_r_o_f_f or _n_r_o_f_f is being   header/footer  design  contains
          used.                             material  requiring independent
          TTTT2222....  PPPPaaaaggggeeee MMMMaaaarrrrggggiiiinnnnssss                 text processing,  the  environ‐
          As discussed in §3, _h_e_a_d_e_r  and   ment  may be switched, avoiding
          _f_o_o_t_e_r  macros  are usually de‐   most interaction with the  run‐
          fined to describe the  top  and   ning text.
          ⎽⎽⎽⎽⎽⎽⎽⎽⎽⎽                        A more realistic example  would
          *For  example:   P. A. Crisman,   be
          Ed.,   _T_h_e   _C_o_m_p_a_t_i_b_l_e   _T_i_m_e‐     ....ddddeeee hhhhdddd    \\\\""""hhhheeeeaaaaddddeeeerrrr
          _S_h_a_r_i_n_g  _S_y_s_t_e_m,   MIT   Press,     ....iiiiffff tttt ....ttttllll ´´´´\\\\((((rrrrnnnn´´´´´´´´\\\\((((rrrrnnnn´´´´  \\\\""""ttttrrrrooooffffffff ccccuuuutttt mmmmaaaarrrrkkkk
          1965,  Section AH9.01 (Descrip‐     ....iiiiffff \\\\\\\\nnnn%%%%>>>>1111 \\\\{{{{\\\\
          tion of RUNOFF program on MIT’s     ´´´´sssspppp ||||0000....5555iiii----1111\\\\""""ttttllll bbbbaaaasssseeee aaaatttt 0000....5555iiii
          CTSS system).                       ....ttttllll ´´´´´´´´---- %%%% ----´´´´´´´´\\\\""""cccceeeennnntttteeeerrrreeeedddd ppppaaaaggggeeee nnnnuuuummmmbbbbeeeerrrr


                                       ‐ 91 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


            ....ppppssss       \\\\""""rrrreeeessssttttoooorrrreeee ssssiiiizzzzeeee          ....  ‐‐‐    \\\\""""rrrreeeesssstttt ooooffff ffffooooooootttteeeerrrr
            ....fffftttt       \\\\""""rrrreeeessssttttoooorrrreeee ffffoooonnnntttt          ........
            ....vvvvssss  \\\\}}}}   \\\\""""rrrreeeessssttttoooorrrreeee vvvvssss            ....ddddeeee hhhhdddd
            ´´´´sssspppp ||||1111....0000iiii  \\\\""""ssssppppaaaacccceeee ttttoooo 1111....0000iiii        ....  ‐‐‐    \\\\""""hhhheeeeaaaaddddeeeerrrr ssssttttuuuuffffffff
            ....nnnnssss       \\\\""""ttttuuuurrrrnnnn oooonnnn nnnnoooo‐ssssppppaaaacccceeee mmmmooooddddeeee ....ppppssss \\\\\\\\nnnn((((ssss2222\\\\""""rrrreeeessssttttoooorrrreeee pppprrrreeeevvvviiiioooouuuussss ssssiiiizzzzeeee
            ........                                ....ppppssss \\\\\\\\nnnn((((ssss1111\\\\""""rrrreeeessssttttoooorrrreeee ccccuuuurrrrrrrreeeennnntttt ssssiiiizzzzeeee
            ....ddddeeee ffffoooo    \\\\""""ffffooooooootttteeeerrrr                ........
            ....ppppssss 11110000    \\\\""""sssseeeetttt ffffooooooootttteeeerrrr////hhhheeeeaaaaddddeeeerrrr ssssiiiizPzzzeaeeege  numbers  may  be  printed
            ....fffftttt RRRR     \\\\""""sssseeeetttt ffffoooonnnntttt            in the bottom margin by a sepa‐
            ....vvvvssss 11112222pppp   \\\\""""sssseeeetttt bbbbaaaasssseeee‐lllliiiinnnneeee ssssppppaaaacccciiiinnnngrgggate macro triggered during the
            ....iiiiffff \\\\\\\\nnnn%%%%====1111 \\\\{{{{\\\\                  footer’s page ejection:
            ´´´´sssspppp ||||\\\\\\\\nnnn((((....ppppuuuu----0000....5555iiii----1111  \\\\""""ttttllll bbbbaaaasssseeee 0000....5555i....iiiddddueeeeuuuppppbbbbnnnn    \\\\""""bbbboooottttttttoooommmm nnnnuuuummmmbbbbeeeerrrr
            ....ttttllll ´´´´´´´´---- %%%% ----´´´´´´´´ \\\\}}}}  \\\\""""ffffiiiirrrrsssstttt ppppaaaaggggeeee nnnnuuuummmmb....bbbetttteeerllllrrr ´´´´´´´´---- %%%% ----´´´´´´´´\\\\""""cccceeeennnntttteeeerrrreeeedddd ppppaaaaggggeeee nnnnuuuummmmbbbbeeeerrrr
            ´´´´bbbbpppp                               ........
            ........                                ....wwwwhhhh ----0000....5555iiii----1111vvvv bbbbnnnn \\\\""""ttttllll bbbbaaaasssseeee 0000....5555iiii uuuupppp
            ....wwwwhhhh 0000 hhhhdddd                        TTTT3333....  PPPPaaaarrrraaaaggggrrrraaaapppphhhhssss aaaannnndddd HHHHeeeeaaaaddddiiiinnnnggggssss
            ....wwwwhhhh ----1111iiii ffffoooo                      The   housekeeping   associated
          which  sets  the  size,   font,   with  starting  a new paragraph
          and  base‐line  spacing for the   should be collected in a  para‐
          header/footer material, and ul‐   graph  macro that, for example,
          timately  restores  them.   The   does the  desired  preparagraph
          material  in  this  case  is  a   spacing,   forces  the  correct
          page  number  at  the bottom of   font, size, base‐line  spacing,
          the first page and at  the  top   and  indent, checks that enough
          of  the  remaining  pages.   If   space remains for _m_o_r_e _t_h_a_n _o_n_e
          _t_r_o_f_f is used, a  _c_u_t  _m_a_r_k  is   line,  and requests a temporary
          drawn  in  the  form  of  _r_o_o_t‐   indent.
          _e_n’s at each margin.  The  sssspppp’s     ....ddddeeee ppppgggg    \\\\""""ppppaaaarrrraaaaggggrrrraaaapppphhhh
          refer  to absolute positions to     ....bbbbrrrr       \\\\""""bbbbrrrreeeeaaaakkkk
          avoid dependence on  the  base‐     ....fffftttt RRRR     \\\\""""ffffoooorrrrcccceeee ffffoooonnnntttt,,,,
          line  spacing.   Another reason     ....ppppssss 11110000    \\\\""""ssssiiiizzzzeeee,,,,
          for  this  in  the  footer   is     ....vvvvssss 11112222pppp   \\\\""""ssssppppaaaacccciiiinnnngggg,,,,
          that  the  footer is invoked by     ....iiiinnnn 0000     \\\\""""aaaannnndddd iiiinnnnddddeeeennnntttt
          printing a line whose  vertical     ....sssspppp 0000....4444   \\\\""""pppprrrreeeessssppppaaaacccceeee
          spacing swept past the trap po‐     ....nnnneeee 1111++++\\\\\\\\nnnn((((....VVVVuuuu\\\\""""wwwwaaaannnntttt mmmmoooorrrreeee tttthhhhaaaannnn 1111 lllliiiinnnneeee
          sition by possibly as  much  as     ....ttttiiii 0000....2222iiii  \\\\""""tttteeeemmmmpppp iiiinnnnddddeeeennnntttt
          the base‐line spacing.  The _n_o‐     ........
          _s_p_a_c_e mode is turned on at  the   The  first  break  in  ppppgggg  will
          end of hhhhdddd to render ineffective   force  out any previous partial
          accidental occurrences of sssspppp at   lines, and  must  occur  before
          the top of the running text.      the   vvvvssss.    The   forcing   of
          The above method  of  restoring   font, etc. is partly a  defense
          size,  font,  etc.  presupposes   against  prior error and partly
          that such  requests  (that  set   to permit things  like  section
          _p_r_e_v_i_o_u_s  value)  are  _n_o_t used   heading  macros  to set parame‐
          in the running text.  A  better   ters only once.  The prespacing
          scheme is save and restore both   parameter   is   suitable   for
          the current _a_n_d  previous  val‐   _t_r_o_f_f; a larger space, at least
          ues  as  shown  for size in the   as  big  as  the  output device
          following:                        vertical resolution,  would  be
            ....ddddeeee ffffoooo                          more  suitable  in  _n_r_o_f_f.  The
            ....nnnnrrrr ssss1111 \\\\\\\\nnnn((((....ssss\\\\""""ccccuuuurrrrrrrreeeennnntttt ssssiiiizzzzeeee     choice of  remaining  space  to
            ....ppppssss                             test  for  in  the  nnnneeee  is  the
            ....nnnnrrrr ssss2222 \\\\\\\\nnnn((((....ssss\\\\""""pppprrrreeeevvvviiiioooouuuussss ssssiiiizzzzeeee    smallest  amount  greater  than


                                       ‐ 92 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          one  line (the ....VVVV is the avail‐   a  new  column rather than pro‐
          able vertical resolution).        duce the  bottom  margin.   The
          A macro to  automatically  num‐   header  can initialize a column
          ber section headings might look   register that the  footer  will
          like:                             increment  and  test.  The fol‐
            ....ddddeeee sssscccc    \\\\""""sssseeeeccccttttiiiioooonnnn             lowing  is  arranged  for   two
            ....  ‐‐‐    \\\\""""ffffoooorrrrcccceeee ffffoooonnnntttt,,,, eeeettttcccc....    columns, but is easily modified
            ....sssspppp 0000....4444   \\\\""""pppprrrreeeessssppppaaaacccceeee            for more.
            ....nnnneeee 2222....4444++++\\\\\\\\nnnn((((....VVVVuuuu \\\\""""wwwwaaaannnntttt 2222....4444++++ lllliiiinnnneeeessss ....ddddeeee hhhhdddd    \\\\""""hhhheeeeaaaaddddeeeerrrr
            ....ffffiiii                               ....  ‐‐‐
            \\\\\\\\nnnn++++SSSS....                            ....nnnnrrrr ccccllll 0000 1111\\\\""""iiiinnnniiiitttt ccccoooolllluuuummmmnnnn ccccoooouuuunnnntttt
            ........                                ....mmmmkkkk       \\\\""""mmmmaaaarrrrkkkk ttttoooopppp ooooffff tttteeeexxxxtttt
            ....nnnnrrrr SSSS 0000 1111 \\\\""""iiiinnnniiiitttt SSSS                ........
          The usage is ....sssscccc,  followed  by     ....ddddeeee ffffoooo    \\\\""""ffffooooooootttteeeerrrr
          the  section heading text, fol‐     ....iiiieeee \\\\\\\\nnnn++++((((ccccllll<<<<2222 \\\\{{{{\\\\
          lowed  by  ....ppppgggg.   The  nnnneeee  test     ....ppppoooo ++++3333....4444iiii \\\\""""nnnneeeexxxxtttt ccccoooolllluuuummmmnnnn;;;; 3333....1111++++0000....3333
          value   includes  one  line  of     ....rrrrtttt       \\\\""""bbbbaaaacccckkkk ttttoooo mmmmaaaarrrrkkkk
          heading, 0.4 line in  the  fol‐     ....nnnnssss \\\\}}}}    \\\\""""nnnnoooo‐ssssppppaaaacccceeee mmmmooooddddeeee
          lowing  ppppgggg,  and  one  line  of     ....eeeellll \\\\{{{{\\\\
          the  paragraph  text.   A  word     ....ppppoooo \\\\\\\\nnnnMMMMuuuu \\\\""""rrrreeeessssttttoooorrrreeee lllleeeefffftttt mmmmaaaarrrrggggiiiinnnn
          consisting  of the next section     ....  ‐‐‐
          number and a period is produced     ´´´´bbbbpppp \\\\}}}}
          to begin the heading line.  The     ........
          format of the number may be set     ....llllllll 3333....1111iiii  \\\\""""ccccoooolllluuuummmmnnnn wwwwiiiiddddtttthhhh
          by aaaaffff (§8).                         ....nnnnrrrr MMMM \\\\\\\\nnnn((((....oooo\\\\""""ssssaaaavvvveeee lllleeeefffftttt mmmmaaaarrrrggggiiiinnnn
          Another  common  form  is   the   Typically a portion of the  top
          labeled,   indented  paragraph,   of the first page contains full
          where the label protrudes  left   width text; the request for the
          into the indent space.            narrower  line  length, as well
            ....ddddeeee llllpppp    \\\\""""llllaaaabbbbeeeelllleeeedddd ppppaaaarrrraaaaggggrrrraaaapppphhhh   as another ....mmmmkkkk  would  be  made
            ....ppppgggg                             where the two column output was
            ....iiiinnnn 0000....5555iiii  \\\\""""ppppaaaarrrraaaaggggrrrraaaapppphhhh iiiinnnnddddeeeennnntttt    to begin.
            ....ttttaaaa 0000....2222iiii 0000....5555iiii\\\\""""llllaaaabbbbeeeellll,,,, ppppaaaarrrraaaaggggrrrraaaapppphhhh TTTT5555....  FFFFoooooooottttnnnnooootttteeee PPPPrrrroooocccceeeessssssssiiiinnnngggg
            ....ttttiiii 0000                           The footnote  mechanism  to  be
            \\\\tttt\\\\\\\\$$$$1111\\\\tttt\\\\cccc\\\\""""fffflllloooowwww iiiinnnnttttoooo ppppaaaarrrraaaaggggrrrraaaapppphhhh described  is used by imbedding
            ........                              the footnotes in the input text
          The  intended  usage  is   "....llllpppp   at  the point of reference, de‐
          _l_a_b_e_l";  _l_a_b_e_l  will  begin  at   marcated by an initial ....ffffnnnn  and
          0.2inch, and  cannot  exceed  a   a terminal ....eeeeffff:
          length  of  0.3inch without in‐     ....ffffnnnn
          truding  into  the   paragraph.     _F_o_o_t_n_o_t_e _t_e_x_t _a_n_d _c_o_n_t_r_o_l _l_i_n_e_s...
          The   label   could   be  right     ....eeeeffff
          adjusted  against  0.4inch   by   In  the  following,   footnotes
          setting  the  tabs instead with   are  processed  in  a  separate
          ....ttttaaaa 0000....4444iiiiRRRR 0000....5555iiii.  The last  line   environment  and  diverted  for
          of  llllpppp  ends with \\\\cccc so that it   later printing in the space im‐
          will become a part of the first   mediately prior to  the  bottom
          line of the text that follows.    margin.    There  is  provision
          TTTT4444....  MMMMuuuullllttttiiiipppplllleeee CCCCoooolllluuuummmmnnnn OOOOuuuuttttppppuuuutttt       for the  case  where  the  last
          The production of multiple col‐   collected footnote doesn’t com‐
          umn  pages  requires the footer   pletely fit  in  the  available
          macro to decide whether it  was   space.
          invoked  by other than the last     ....ddddeeee hhhhdddd    \\\\""""hhhheeeeaaaaddddeeeerrrr
          column, so that it  will  begin     ....  ‐‐‐


                                       ‐ 93 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


            ....nnnnrrrr xxxx 0000 1111 \\\\""""iiiinnnniiiitttt ffffoooooooottttnnnnooootttteeee ccccoooouuuunnnntttt The  header  hhhhdddd  initializes  a
            ....nnnnrrrr yyyy 0000----\\\\\\\\nnnnbbbb\\\\""""ccccuuuurrrrrrrreeeennnntttt ffffooooooootttteeeerrrr ppppllllaaaacfccceoeeeotnote  count register xxxx, and
            ....cccchhhh ffffoooo ----\\\\\\\\nnnnbbbbuuuu\\\\""""rrrreeeesssseeeetttt ffffooooooootttteeeerrrr ttttrrrraaaappppsets both  the  current  footer
            ....iiiiffff \\\\\\\\nnnn((((ddddnnnn ....ffffzzzz\\\\""""lllleeeeffffttttoooovvvveeeerrrr ffffoooooooottttnnnnooootttteteeerap  position  register  yyyy and
            ........                              the footer  trap  itself  to  a
            ....ddddeeee ffffoooo    \\\\""""ffffooooooootttteeeerrrr              nominal  position  specified in
            ....nnnnrrrr ddddnnnn 0000  \\\\""""zzzzeeeerrrroooo llllaaaasssstttt ddddiiiivvvveeeerrrrssssiiiioooonnnn srsssieiiizgzzzeieeester bbbb.   In  addition,  if
            ....iiiiffff \\\\\\\\nnnnxxxx \\\\{{{{\\\\                    the  register  ddddnnnn  indicates  a
            ....eeeevvvv 1111     \\\\""""eeeexxxxppppaaaannnndddd ffffoooooooottttnnnnooootttteeeessss iiiinnnn eleeevevvv1f111tover footnote,  ffffzzzz  is  in‐
            ....nnnnffff       \\\\""""rrrreeeettttaaaaiiiinnnn vvvveeeerrrrttttiiiiccccaaaallll ssssiiiizzzzeeeevoked  to  reprocess  it.   The
            ....FFFFNNNN       \\\\""""ffffoooooooottttnnnnooootttteeeessss           footnote start macro ffffnnnn  begins
            ....rrrrmmmm FFFFNNNN    \\\\""""ddddeeeelllleeeetttteeee iiiitttt           a  diversion  (append) in envi‐
            ....iiiiffff """"\\\\\\\\nnnn((((....zzzz""""ffffyyyy"""" ....ddddiiii \\\\""""eeeennnndddd oooovvvveeeerrrrffffllllorooowowwwndmdddieiiivnvvveteeerrrrs1sssi,iiioooonannnnd  increments  the
            ....nnnnrrrr xxxx 0000   \\\\""""ddddiiiissssaaaabbbblllleeee ffffxxxx          count  xxxx;  if the count is one,
            ....eeeevvvv  \\\\}}}}   \\\\""""ppppoooopppp eeeennnnvvvviiiirrrroooonnnnmmmmeeeennnntttt     the footnote  separator  ffffssss  is
            ....  ‐‐‐                          interpolated.  The separator is
            ´´´´bbbbpppp                             kept in  a  separate  macro  to
            ........                              permit  user redefinition.  The
            ....ddddeeee ffffxxxx    \\\\""""pppprrrroooocccceeeessssssss ffffoooooooottttnnnnooootttteeee oooovvvveeeerfrrrfoffflolllotooownwwwote end macro eeeeffff  restores
            ....iiiiffff \\\\\\\\nnnnxxxx ....ddddiiii ffffyyyy\\\\""""ddddiiiivvvveeeerrrrtttt oooovvvveeeerrrrfffflllloooowwwwthe  previous  environment  and
            ........                              ends the diversion after saving
            ....ddddeeee ffffnnnn    \\\\""""ssssttttaaaarrrrtttt ffffoooooooottttnnnnooootttteeee      the spacing size in register zzzz.
            ....ddddaaaa FFFFNNNN    \\\\""""ddddiiiivvvveeeerrrrtttt ((((aaaappppppppeeeennnndddd)))) ffffoooooooottttnyyyynnnooootittteseee then  decremented  by  the
            ....eeeevvvv 1111     \\\\""""iiiinnnn eeeennnnvvvviiiirrrroooonnnnmmmmeeeennnntttt 1111    size of the footnote, available
            ....iiiiffff \\\\\\\\nnnn++++xxxx====1111 ....ffffssss \\\\""""iiiiffff ffffiiiirrrrsssstttt,,,, iiiinnnncccclllluiuuudndddeeeeddddsnnnnssse;eeeppppataaarhrrraeaaatntttoooororrrn the first  foot‐
            ....ffffiiii       \\\\""""ffffiiiillllllll mmmmooooddddeeee           note,  yyyy is further decremented
            ........                              by the difference  in  vertical
            ....ddddeeee eeeeffff    \\\\""""eeeennnndddd ffffoooooooottttnnnnooootttteeee        base‐line  spacings  of the two
            ....bbbbrrrr       \\\\""""ffffiiiinnnniiiisssshhhh oooouuuuttttppppuuuutttt       environments,  to  prevent  the
            ....nnnnrrrr zzzz \\\\\\\\nnnn((((....vvvv\\\\""""ssssaaaavvvveeee ssssppppaaaacccciiiinnnngggg      late triggering the footer trap
            ....eeeevvvv       \\\\""""ppppoooopppp eeeevvvv              from causing the last  line  of
            ....ddddiiii       \\\\""""eeeennnndddd ddddiiiivvvveeeerrrrssssiiiioooonnnn       the combined footnotes to over‐
            ....nnnnrrrr yyyy ----\\\\\\\\nnnn((((ddddnnnn\\\\""""nnnneeeewwww ffffooooooootttteeeerrrr ppppoooossssiiiittttiiiiofooonlnnn,o,,,w.  The footer trap is  then
            ....iiiiffff \\\\\\\\nnnnxxxx====1111 ....nnnnrrrr yyyy ----((((\\\\\\\\nnnn((((....vvvv----\\\\\\\\nnnnzzzz)))) \s\\\et  to the lower (on the page)
                      \\\\""""uuuunnnncccceeeerrrrttttaaaaiiiinnnnttttyyyy ccccoooorrrrrrrreeeeccccttttiiiiooooonfnnn yyyy or the current page  posi‐
            ....cccchhhh ffffoooo \\\\\\\\nnnnyyyyuuuu\\\\""""yyyy iiiissss nnnneeeeggggaaaattttiiiivvvveeee     tion  (nnnnllll)  plus  one  line, to
            ....iiiiffff ((((\\\\\\\\nnnn((((nnnnllll++++1111vvvv))))>>>>((((\\\\\\\\nnnn((((....pppp++++\\\\\\\\nnnnyyyy)))) \\\\ allow for printing  the  refer‐
            ....cccchhhh ffffoooo \\\\\\\\nnnn((((nnnnlllluuuu++++1111vvvv \\\\""""iiiitttt ddddiiiiddddnnnn’tttt ffffiiiitetttnce  line.  If indicated by xxxx,
            ........                              the footer ffffoooo rereads the foot‐
            ....ddddeeee ffffssss    \\\\""""sssseeeeppppaaaarrrraaaattttoooorrrr           notes  from  FFFFNNNN  in nofill mode
            \\\\llll´´´´1111iiii´´´´    \\\\""""1111 iiiinnnncccchhhh rrrruuuulllleeee         in environment 1,  and  deletes
            ....bbbbrrrr                             FFFFNNNN.   If the footnotes were too
            ........                              large to fit, the macro ffffxxxx will
            ....ddddeeee ffffzzzz    \\\\""""ggggeeeetttt lllleeeeffffttttoooovvvveeeerrrr ffffoooooooottttnnnnoooottttebeeee trap‐invoked to redivert the
            ....ffffnnnn                             overflow into ffffyyyy, and the  reg‐
            ....nnnnffff       \\\\""""rrrreeeettttaaaaiiiinnnn vvvveeeerrrrttttiiiiccccaaaallll ssssiiiizzzzeeeeister ddddnnnn will later indicate to
            ....ffffyyyy       \\\\""""wwwwhhhheeeerrrreeee ffffxxxx ppppuuuutttt iiiitttt     the header whether ffffyyyy is empty.
            ....eeeeffff                             Both  ffffoooo  and ffffxxxx are planted in
            ........                              the nominal footer  trap  posi‐
            ....nnnnrrrr bbbb 1111....0000iiii\\\\""""bbbboooottttttttoooommmm mmmmaaaarrrrggggiiiinnnn ssssiiiizzzzeeee  tion in an order that causes ffffxxxx
            ....wwwwhhhh 0000 hhhhdddd  \\\\""""hhhheeeeaaaaddddeeeerrrr ttttrrrraaaapppp         to be concealed unless  the  ffffoooo
            ....wwwwhhhh 11112222iiii ffffoooo\\\\""""ffffooooooootttteeeerrrr ttttrrrraaaapppp,,,, tttteeeemmmmpppp ppppoooostsssiriiitatttipiiiooooninnns moved.  The footer then
            ....wwwwhhhh ----\\\\\\\\nnnnbbbbuuuu ffffxxxx\\\\""""ffffxxxx aaaatttt ffffooooooootttteeeerrrr ppppoooossssiiiitttttieiiiorooonmnnninates the overflow  diver‐
            ....cccchhhh ffffoooo ----\\\\\\\\nnnnbbbbuuuu\\\\""""ccccoooonnnncccceeeeaaaallll ffffxxxx wwwwiiiitttthhhh ffffosoooion,  if  necessary, and zeros


                                       ‐ 94 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          xxxx to disable  ffffxxxx,  because  the
          uncertainty correction together
          with a not‐too‐late  triggering
          of the footer can result in the
          footnote  rereading   finishing
          before reaching the ffffxxxx trap.
          A good exercise for the student
          is  to  combine  the  multiple‐
          column and footnote mechanisms.
          TTTT6666....  TTTThhhheeee LLLLaaaasssstttt PPPPaaaaggggeeee
          After the last input  file  has
          ended,  _n_r_o_f_f  and _t_r_o_f_f invoke
          the _e_n_d  _m_a_c_r_o  (§7),  if  any,
          and when it finishes, eject the
          remainder of the page.   During
          the  eject,  any  traps encoun‐
          tered are  processed  normally.
          At  the  _e_n_d of this last page,
          processing terminates _u_n_l_e_s_s  a
          partial  line, word, or partial
          word remains.  If it is desired
          that  another  page be started,
          the end‐macro
            ....ddddeeee eeeennnn    \\\\""""eeeennnndddd‐mmmmaaaaccccrrrroooo
            \\\\cccc
            ´´´´bbbbpppp
            ........
            ....eeeemmmm eeeennnn
          will  deposit  a  null  partial
          word,  and  effect another last
          page.

























                                       ‐ 95 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016





                                       TTTTaaaabbbblllleeee IIII

                                 FFFFoooonnnntttt SSSSttttyyyylllleeee EEEExxxxaaaammmmpppplllleeeessss



          The following fonts are printed  in  12‐point,  with  a  vertical
          spacing  of  14‐point, and with non‐alphanumeric characters sepa‐
          rated  by  ¼em  space.   Note  that  this  table  only   includes
          the  historical  CAT  _t_r_o_f_f character set; PostScript devices can
          usually print a  much  larger,  although  font‐dependent  set  of
          characters.



          Times Roman
          abcdefghijklmnopqrstuvwxyz
          ABCDEFGHIJKLMNOPQRSTUVWXYZ
          1234567890
          ! $ % & ( ) ‘ ’ * + - . , / : ; = ? [ ] |
          • □ — ‐ ⎽ ¼ ½ ¾ fi fl ff ffi ffl ° † ′ ¢ ® ©

          _T_i_m_e_s _I_t_a_l_i_c
          _a_b_c_d_e_f_g_h_i_j_k_l_m_n_o_p_q_r_s_t_u_v_w_x_y_z
          _A_B_C_D_E_F_G_H_I_J_K_L_M_N_O_P_Q_R_S_T_U_V_W_X_Y_Z
          _1_2_3_4_5_6_7_8_9_0
          ! $ % & ( ) ‘ ’ * + - . , / : ; = ? [ ] |
          • □ — ‐ ⎽ ¼ ½ ¾ fi fl ff ffi ffl ° † ′ ¢ ® ©

          TTTTiiiimmmmeeeessss BBBBoooolllldddd
          aaaabbbbccccddddeeeeffffgggghhhhiiiijjjjkkkkllllmmmmnnnnooooppppqqqqrrrrssssttttuuuuvvvvwwwwxxxxyyyyzzzz
          AAAABBBBCCCCDDDDEEEEFFFFGGGGHHHHIIIIJJJJKKKKLLLLMMMMNNNNOOOOPPPPQQQQRRRRSSSSTTTTUUUUVVVVWWWWXXXXYYYYZZZZ
          1111222233334444555566667777888899990000
          !!!! $$$$ %%%% &&&& (((( )))) ‘ ’ **** ++++ - .... ,,,, //// :::: ;;;; ==== ???? [[[[ ]]]] ||||
          •••• □□□□ ———— ‐‐‐‐ ⎽⎽⎽⎽ ¼¼¼¼ ½½½½ ¾¾¾¾ ffffiiii ffffllll ffffffff ffffffffiiii ffffffffllll °°°° †††† ′′′′ ¢¢¢¢ ®®®® ©©©©

          Special Font
          " ´ \ ^ _ ` ~ / < > { } # @ + − = ∗
          α β γ δ ε ζ η θ ι κ λ μ ν ξ ο π ρ σ ς τ υ ϕ χ ψ ω
          Γ Δ Θ Λ Ξ Π Σ Υ Φ Ψ Ω
          √ ‾ ≥ ≤ ≡ ∼ ≈ ≠ → ← ↑ ↓ × ÷ ± ∪ ∩ ⊂ ⊃ ⊆ ⊇ ∞ ∂
          § ∇ ¬ ∫ ∝ ∅ ∈ ‡ ☞ ☜ | ○ ⎧ ⎩ ⎫ ⎭ ⎨ ⎬ ⎪ ⌊ ⌋ ⌈ ⌉ │











                                       ‐ 96 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


                                      TTTTaaaabbbblllleeee IIIIIIII

                      IIIInnnnppppuuuutttt NNNNaaaammmmiiiinnnngggg CCCCoooonnnnvvvveeeennnnttttiiiioooonnnnssss ffffoooorrrr ´´´´,,,, ````,,,, aaaannnndddd ----
                        aaaannnndddd ffffoooorrrr NNNNoooonnnn‐AAAASSSSCCCCIIIIIIII SSSSppppeeeecccciiiiaaaallll CCCChhhhaaaarrrraaaacccctttteeeerrrrssss



          NNNNoooonnnn‐AAAASSSSCCCCIIIIIIII cccchhhhaaaarrrraaaacccctttteeeerrrrssss aaaannnndddd _mmmm_iiii_nnnn_uuuu_ssss oooonnnn tttthhhheeee ssssttttaaaannnnddddaaaarrrrdddd ffffoooonnnnttttssss....

               _I_n_p_u_t                 _C_h_a_r_a_c_t_e_r    _I_n_p_u_t_C_h_a_r_a_c_t_e_r
          _C_h_a_r _N_a_m_e _N_a_m_e                _C_h_a_r_N_a_m_e _N_a_m_e
           ’   '    close quote          ¾   \(34 3/4
           ‘   `    open quote           fi  \(fi fi
           —   \(em 3/4 Em dash          fl  \(fl fl
           ‐   -    hyphen or            ff  \(ff ff
           ‐   \(hy hyphen              ffi  \(Fi ffi
           -   \-   current font minus  ffl  \(Fl ffl
           •   \(bu bullet               °   \(de degree
           □   \(sq square               †   \(dg dagger
           ⎽   \(ru rule                 ′   \(fm foot mark
           ¼   \(14 1/4                  ¢   \(ct cent sign
           ½   \(12 1/2                  ®   \(rg registered
           ©   \(co copyright


          NNNNoooonnnn‐AAAASSSSCCCCIIIIIIII cccchhhhaaaarrrraaaacccctttteeeerrrrssss aaaannnndddd ´´´´,,,, ````,,,, ____,,,, ++++,,,, −−−−,,,, ====,,,, aaaannnndddd ∗∗∗∗ oooonnnn  tttthhhheeee  ssssppppeeeecccciiiiaaaallll
          ffffoooonnnntttt....
          In traditional _t_r_o_f_f, the ASCII characters @,  #,  ",  ´,  `,  <,
          >,  \,  {,  },  ~,  ^, and _ existed _o_n_l_y on the special font and
          were printed as a 1‐em  space  if  that  font  was  not  mounted.
          The  following  characters  exist  only on the special font.  The
          special math plus, minus, and equals are provided to insulate the
          appearance of equations from the choice of standard fonts.

               _I_n_p_u_t                 _C_h_a_r_a_c_t_e_r    _I_n_p_u_t_C_h_a_r_a_c_t_e_r
          _C_h_a_r _N_a_m_e _N_a_m_e                _C_h_a_r_N_a_m_e _N_a_m_e
           +   \(pl math plus            θ   \(*h theta
           −   \(mi math minus           ι   \(*i iota
           =   \(eq math equals          κ   \(*k kappa
           ∗   \(** math star            λ   \(*l lambda
           §   \(sc section              μ   \(*m mu
           ´   \(aa acute accent         ν   \(*n nu
           `   \(ga grave accent         ξ   \(*c xi
           _   \(ul underrule            ο   \(*o omicron
           /   \(sl slash (matching backslπash)\(*p pi
           \   \(rs backslash            ρ   \(*r rho
           α   \(*a alpha                σ   \(*s sigma
           β   \(*b beta                 ς   \(ts terminal sigma
           γ   \(*g gamma                τ   \(*t tau
           δ   \(*d delta                υ   \(*u upsilon
           ε   \(*e epsilon              ϕ   \(*f phi
           ζ   \(*z zeta                 χ   \(*x chi
           η   \(*y eta                  ψ   \(*q psi



                                       ‐ 97 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


               _I_n_p_u_t                 _C_h_a_r_a_c_t_e_r    _I_n_p_u_t_C_h_a_r_a_c_t_e_r
          _C_h_a_r _N_a_m_e _N_a_m_e                _C_h_a_r_N_a_m_e _N_a_m_e
           ω   \(*w omega                ∝   \(pt proportional to
           Α   \(*A Alpha                ∅   \(es empty set
           Β   \(*B Beta                 ∈   \(mo member of
           Γ   \(*G Gamma                │   \(br box vertical rule
           Δ   \(*D Delta                ‡   \(dd double dagger
           Ε   \(*E Epsilon              ☞   \(rh right hand
           Ζ   \(*Z Zeta                 ☜   \(lh left hand
           Η   \(*Y Eta                  |   \(or or
           Θ   \(*H Theta                ○   \(ci circle
           Ι   \(*I Iota                 ⎧   \(lt left top of big curly bracket
           Κ   \(*K Kappa                ⎩   \(lb left bottom
           Λ   \(*L Lambda               ⎫   \(rt right top
           Μ   \(*M Mu                   ⎭   \(rb right bot
           Ν   \(*N Nu                   ⎨   \(lk left center of big curly bracket
           Ξ   \(*C Xi                   ⎬   \(rk right center of big curly bracket
           Ο   \(*O Omicron              ⎪   \(bv bold vertical
           Π   \(*P Pi                   ⌊   \(lf left floor (left bottom of big
           Ρ   \(*R Rho                           square bracket)
           Σ   \(*S Sigma                ⌋   \(rf right floor (right bottom)
           Τ   \(*T Tau                  ⌈   \(lc left ceiling (left top)
           Υ   \(*U Upsilon              ⌉   \(rc right ceiling (right top)
           Φ   \(*F Phi
           Χ   \(*X Chi
           Ψ   \(*Q Psi
           Ω   \(*W Omega
           √   \(sr square root
           ‾   \(rn root en extender
           ≥   \(>= >=
           ≤   \(<= <=
           ≡   \(== identically equal
           ≈   \(~= approx =
           ∼   \(ap approximates
           ≠   \(!= not equal
           →   \(−> right arrow
           ←   \(<− left arrow
           ↑   \(ua up arrow
           ↓   \(da down arrow
           ×   \(mu multiply
           ÷   \(di divide
           ±   \(+− plus‐minus
           ∪   \(cu cup (union)
           ∩   \(ca cap (intersection)
           ⊂   \(sb subset of
           ⊃   \(sp superset of
           ⊆   \(ib improper subset
           ⊇   \(ip improper superset
           ∞   \(if infinity
           ∂   \(pd partial derivative
           ∇   \(gr gradient
           ¬   \(no not
           ∫   \(is integral sign



                                       ‐ 98 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


          AAAAvvvvaaaaiiiillllaaaabbbblllleeee cccchhhhaaaarrrraaaacccctttteeeerrrrssss ffffrrrroooommmm ggggrrrrooooffffffff____cccchhhhaaaarrrr((((7777))))

          The following table list the characters  from  the  ggggrrrrooooffffffff____cccchhhhaaaarrrr(7)
          manual  page  which  can  be  used  with Heirloom _t_r_o_f_f.  Special
          characters marked with a **** are only defined when _t_r_o_f_f is started
          with option ----mmmmggggcccchhhhaaaarrrr.  If a glyph is actually available depends on
          the font and output device.

           _O_u_t_p_u_t     _I_n_p_u_t          _P_o_s_t_S_c_r_i_p_t_U_n_i_c_o_d_e_N_o_t_e_s
           ¡    ¡     \[exclamdown]  \U'00A1'inverted exclamation mark
           ¢    ¢     \[cent]        \U'00A2'currency unit
           £    £     \[sterling]    \U'00A3'pound sterling
           ¤    ¤     \[currency]    \U'00A4'generic currency symbol
           ¥    ¥     \[yen]         \U'00A5'Japanese currency symbol
           ¦    ¦     \[brokenbar]   \U'00A6'broken bar
           §    §     \[section]     \U'00A7'section sign
           ¨    ¨     \[dieresis]    \U'00A8'dieresis
           ©    ©     \[copyright]   \U'00A9'copyright symbol
           ª    ª     \[ordfeminine] \U'00AA'feminine ordinal
           «    «     \[guillemotleft]       \U'00AB'left guillemet [sic]
           ¬    ¬     \[logicalnot]  \U'00AC'logical not
           ®    ®     \[registered]  \U'00AE'registered mark symbol
           ¯    ¯     \[macron]      \U'00AF'overbar accent
           °    °     \[degree]      \U'00B0'degree
           ±    ±     \[plusminus]   \U'00B1'plus‐minus sign
           ²    ²     \[twosuperior] \U'00B2'superscript 2
           ³    ³     \[threesuperior]       \U'00B3'superscript 3
           ´    ´     \[acute]       \U'00B4'acute accent
           µ    µ     \[mu]          \U'00B5'micro sign
           ¶    ¶     \[paragraph]   \U'00B6'end of paragraph marker
           ·    ·     \[periodcentered]      \U'00B7'centered period
           ¸    ¸     \[cedilla]     \U'00B8'cedilly accent
           ¹    ¹     \[onesuperior] \U'00B9'superscript 1
           º    º     \[ordmasculine]        \U'00BA'masculine ordinal
           »    »     \[guillemotright]      \U'00BB'right guillemet [sic]
           ¼    ¼     \[onequarter]  \U'00BC'1/4 symbol
           ½    ½     \[onehalf]     \U'00BD'1/2 symbol
           ¾    ¾     \[threequarters]       \U'00BE'3/4 symbol
           ¿    ¿     \[questiondown]        \U'00BF'inverted question mark
           À    À     \[Agrave]      \U'00C0'A grave
           Á    Á     \[Aacute]      \U'00C1'A acute
           Â    Â     \[Acircumflex] \U'00C2'A circumflex
           Ã    Ã     \[Atilde]      \U'00C3'A tilde
           Ä    Ä     \[Adieresis]   \U'00C4'A dieresis
           Å    Å     \[Aring]       \U'00C5'A ring
           Æ    Æ     \[AE]          \U'00C6'A+E combined
           Ç    Ç     \[Ccedilla]    \U'00C7'C cedilla
           È    È     \[Egrave]      \U'00C8'E grave
           É    É     \[Eacute]      \U'00C9'E acute
           Ê    Ê     \[Ecircumflex] \U'00CA'E circumflex
           Ë    Ë     \[Edieresis]   \U'00CB'E dieresis
           Ì    Ì     \[Igrave]      \U'00CC'I grave
           Í    Í     \[Iacute]      \U'00CD'I acute



                                       ‐ 99 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


           _O_u_t_p_u_t     _I_n_p_u_t          _P_o_s_t_S_c_r_i_p_t_U_n_i_c_o_d_e_N_o_t_e_s
           Î    Î     \[Icircumflex] \U'00CE'I circumflex
           Ï    Ï     \[Idieresis]   \U'00CF'I dieresis
           Ð    Ð     \[Eth]         \U'00D0'Eth
           Ñ    Ñ     \[Ntilde]      \U'00D1'N tilde
           Ò    Ò     \[Ograve]      \U'00D2'O grave
           Ó    Ó     \[Oacute]      \U'00D3'O acute
           Ô    Ô     \[Ocircumflex] \U'00D4'O circumflex
           Õ    Õ     \[Otilde]      \U'00D5'O tilde
           Ö    Ö     \[Odieresis]   \U'00D6'O dieresis
           ×    ×     \[multiply]    \U'00D7'multiply
           Ø    Ø     \[Oslash]      \U'00D8'O slash
           Ù    Ù     \[Ugrave]      \U'00D9'U grave
           Ú    Ú     \[Uacute]      \U'00DA'U acute
           Û    Û     \[Ucircumflex] \U'00DB'U circumflex
           Ü    Ü     \[Udieresis]   \U'00DC'U dieresis
           Ý    Ý     \[Yacute]      \U'00DD'Y acute
           Þ    Þ     \[Thorn]       \U'00DE'Thorn
           ß    ß     \[germandbls]  \U'00DF'German double s
           à    à     \[agrave]      \U'00E0'a grave
           á    á     \[aacute]      \U'00E1'a acute
           â    â     \[acircumflex] \U'00E2'a circumflex
           ã    ã     \[atilde]      \U'00E3'a tilde
           ä    ä     \[adieresis]   \U'00E4'a dieresis
           å    å     \[aring]       \U'00E5'a ring
           æ    æ     \[ae]          \U'00E6'a+e combined
           ç    ç     \[ccedilla]    \U'00E7'c cedilla
           è    è     \[egrave]      \U'00E8'e grave
           é    é     \[eacute]      \U'00E9'e acute
           ê    ê     \[ecircumflex] \U'00EA'e circumflex
           ë    ë     \[edieresis]   \U'00EB'e dieresis
           ì    ì     \[igrave]      \U'00EC'i grave
           í    í     \[iacute]      \U'00ED'i acute
           î    î     \[icircumflex] \U'00EE'i circumflex
           ï    ï     \[idieresis]   \U'00EF'i dieresis
           ð    ð     \[eth]         \U'00F0'eth
           ñ    ñ     \[ntilde]      \U'00F1'n tilde
           ò    ò     \[ograve]      \U'00F2'o grave
           ó    ó     \[oacute]      \U'00F3'o acute
           ô    ô     \[ocircumflex] \U'00F4'o circumflex
           õ    õ     \[otilde]      \U'00F5'o tilde
           ö    ö     \[odieresis]   \U'00F6'o dieresis
           ÷    ÷     \[divide]      \U'00F7'divide
           ø    ø     \[oslash]      \U'00F8'o slash
           ù    ù     \[ugrave]      \U'00F9'u grave
           ú    ú     \[uacute]      \U'00FA'u acute
           û    û     \[ucircumflex] \U'00FB'u circumflex
           ü    ü     \[udieresis]   \U'00FC'u dieresis
           ý    ý     \[yacute]      \U'00FD'y acute
           þ    þ     \[thorn]       \U'00FE'thorn
           ÿ    ÿ     \[ydieresis]   \U'00FF'y dieresis
           Ð    \(−D* \[Eth]         \U'00D0'uppercase eth
           ð    \(Sd* \[eth]         \U'00F0'lowercase eth



                                       ‐ 100 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


           _O_u_t_p_u_t     _I_n_p_u_t          _P_o_s_t_S_c_r_i_p_t_U_n_i_c_o_d_e_N_o_t_e_s
           Þ    \(TP* \[Thorn]       \U'00DE'uppercase thorn
           þ    \(Tp* \[thorn]       \U'00FE'lowercase thorn
           ß    \(ss* \[germandbls]  \U'00DF'German double s
           Ł    \(/L* \[Lslash]      \U'0141'L slash
           ł    \(/l* \[lslash]      \U'0142'l slash
           Ø    \(/O* \[Oslash]      \U'00D8'O slash
           ø    \(/o* \[oslash]      \U'00F8'o slash
           Æ    \(AE  \[AE]          \U'00C6'A+E combined
           æ    \(ae  \[ae]          \U'00E6'a+e combined
           Œ    \(OE  \[OE]          \U'0152'O+E combined
           œ    \(oe  \[oe]          \U'0153'o+e combined
           Ĳ    \(IJ  \[IJ]          \U'0132'I+J combined
           ĳ    \(ij  \[ij]          \U'0133'i+j combined
           ı    \(.i* \[dotlessi]    \U'0131'i without a dot
           Á    \('A* \[Aacute]      \U'00C1'A acute
           Ć    \('C* \[Cacute]      \U'0106'C acute
           É    \('E* \[Eacute]      \U'00C9'E acute
           Í    \('I* \[Iacute]      \U'00CD'C acute
           Ó    \('O* \[Oacute]      \U'00D3'O acute
           Ú    \('U* \[Uacute]      \U'00DA'U acute
           Ý    \('Y* \[Yacute]      \U'00DD'Y acute
           á    \('a* \[aacute]      \U'00E1'a acute
           ć    \('c* \[cacute]      \U'0107'c acute
           é    \('e* \[eacute]      \U'00E9'e acute
           í    \('i* \[iacute]      \U'00ED'i acute
           ó    \('o* \[oacute]      \U'00F3'o acute
           ú    \('u* \[uacute]      \U'00FA'u acute
           ý    \('y* \[yacute]      \U'00FD'y acute
           Ä    \(:A* \[Adieresis]   \U'00C4'A dieresis
           Ë    \(:E* \[Edieresis]   \U'00CB'E dieresis
           Ï    \(:I* \[Idieresis]   \U'00CF'I dieresis
           Ö    \(:O* \[Odieresis]   \U'00D6'O dieresis
           Ü    \(:U* \[Udieresis]   \U'00FC'U dieresis
           Ÿ    \(:Y* \[Ydieresis]   \U'0178'Y dieresis
           ä    \(:a* \[adieresis]   \U'00E4'a dieresis
           ë    \(:e* \[edieresis]   \U'00EB'e dieresis
           ï    \(:i* \[idieresis]   \U'00EF'i dieresis
           ö    \(:o* \[odieresis]   \U'00F6'o dieresis
           ü    \(:u* \[udieresis]   \U'00FC'u dieresis
           ÿ    \(:y* \[ydieresis]   \U'00FF'y dieresis
           Â    \(^A* \[Acircumflex] \U'00C2'A circumflex
           Ê    \(^E* \[Ecircumflex] \U'00CA'E circumflex
           Î    \(^I* \[Icircumflex] \U'00CE'I circumflex
           Ô    \(^O* \[Ocircumflex] \U'00D4'O circumflex
           Û    \(^U* \[Ucircumflex] \U'00DB'U circumflex
           â    \(^a* \[acircumflex] \U'00E2'a circumflex
           ê    \(^e* \[ecircumflex] \U'00EA'e circumflex
           î    \(^i* \[icircumflex] \U'00EE'i circumflex
           ô    \(^o* \[ocircumflex] \U'00F4'o circumflex
           û    \(^u* \[ucircumflex] \U'00FB'u circumflex
           À    \(`A* \[Agrave]      \U'00C0'A grave



                                       ‐ 101 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


           _O_u_t_p_u_t     _I_n_p_u_t          _P_o_s_t_S_c_r_i_p_t_U_n_i_c_o_d_e_N_o_t_e_s
           È    \(`E* \[Egrave]      \U'00C8'E grave
           Ì    \(`I* \[Igrave]      \U'00CC'I grave
           Ò    \(`O* \[Ograve]      \U'00D2'O grave
           Ù    \(`U* \[Ugrave]      \U'00D9'U grave
           à    \(`a* \[agrave]      \U'00E0'a grave
           è    \(`e* \[egrave]      \U'00E8'e grave
           ì    \(`i* \[igrave]      \U'00EC'i grave
           ò    \(`o* \[ograve]      \U'00F2'o grave
           ù    \(`u* \[ugrave]      \U'00F9'u grave
           Ã    \(~A* \[Atilde]      \U'00C3'A tilde
           Ñ    \(~N* \[Ntilde]      \U'00D1'N tilde
           Õ    \(~O* \[Otilde]      \U'00D5'O tilde
           ã    \(~a* \[atilde]      \U'00E3'a tilde
           ñ    \(~n* \[ntilde]      \U'00F1'n tilde
           õ    \(~o* \[otilde]      \U'00F5'o tilde
           Š    \(vS* \[Scaron]      \U'0160'S caron
           š    \(vs* \[scaron]      \U'0161's caron
           Ž    \(vZ* \[Zcaron]      \U'017D'Z caron
           ž    \(vz* \[zcaron]      \U'017E'z caron
           Ç    \(,C* \[Ccedilla]    \U'00C7'C cedilla
           ç    \(,c* \[ccedilla]    \U'00E7'c cedilla
           Å    \(oA* \[Aring]       \U'00C5'A ring
           å    \(oa* \[aring]       \U'00E5'a ring
           ˝    \(a"* \[hungarumlaut]        \U'02DD'Hungarian umlaut
           ¯    \(a−* \[macron]      \U'00AF'overbar accent
           ˙    \(a.* \[dotaccent]   \U'02D9'dot accent
           ^    \(a^* \[circumflex]  \U'005E'circumflex accent
           ´    \(aa  \[acute]       \U'00B4'acute accent
           `    \(ga  \[grave]       \U'0060'grave accent
           ˘    \(ab* \[breve]       \U'02D8'breve accent
           ¸    \(ac* \[cedilla]     \U'00B8'cedilla accent
           ¨    \(ad* \[dieresis]    \U'00A8'umlaut accent
           ˇ    \(ah* \[caron]       \U'02C7'caron accent
           ˚    \(ao* \[ring]        \U'02DA'ring accent
           ˜    \(a~* \[tilde]       \U'007E'tilde accent
           ˛    \(ho* \[ogonek]      \U'02dB'hook accent
           ^    \(ha* \[asciicircum] \U'005E'high circumflex
           ~    \(ti* \[asciitilde]  \U'007E'tilde in the vertical middle
           „    \(Bq* \[quotedblbase]        \U'201E'low double comma quote
           ‚    \(bq* \[quotesinglbase]      \U'201A'low single comma quote
           “    \(lq  \[quotedblleft]        \U'201C'left double quote
           “    \(``                         (_a_l_i_a_s)
           ”    \(rq  \[quotedblright]       \U'201D'right double quote
           ”    \(''                         (_a_l_i_a_s)
           ‘    \(oq  \[quoteleft]   \U'2018'single open quote
           ’    \(cq  \[quoteright]  \U'2019'single closing quote
           '    \(aq  \[quotesingle] \U'0027'apostrophe quote
           "    \(dq  \[quotedbl]    \U'0022'double quote
           «    \(Fo* \[guillemotleft]       \U'00AB'left guillemet
           »    \(Fc* \[guillemotright]      \U'00BB'right guillemet
           ‹    \(fo* \[guilsinglleft]       \U'2039'single left angle quotation mark
           ›    \(fc* \[guilsinglright]      \U'203A'single right angle quotation mark



                                       ‐ 102 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


           _O_u_t_p_u_t     _I_n_p_u_t          _P_o_s_t_S_c_r_i_p_t_U_n_i_c_o_d_e_N_o_t_e_s
           ¡    \(r!* \[exclamdown]  \U'00A1'inverted exclamation mark
           ¿    \(r?* \[questiondown]        \U'00BF'inverted question mark
           —    \(em  \[emdash]      \U'2014'em‐dash symbol
           –    \(en  \[endash]      \U'2013'en‐dash symbol
           ‐    \(hy  \[hyphen]      \U'2010'hyphen symbol
           [    \(lB* \[bracketleft] \U'005B'left square bracket
           ]    \(rB* \[bracketright]        \U'005D'right square bracket
           {    \(lC* \[braceleft]   \U'007B'left curly bracket
           }    \(rC* \[braceright]  \U'007D'right curly bracket
           ⟨    \(la* \[angleleft]   \U'27E8'mathematical left angle bracket
           ⟩    \(ra* \[angleright]  \U'27E9'mathematical right angle bracket
           ⎪    \(bv  \[braceex]     \U'23AA'curly brace vertical extension
           ⎡          \[bracketlefttp]       \U'23A1'left square bracket top
           ⎣          \[bracketleftbt]       \U'23A3'left square bracket bottom
           ⎢          \[bracketleftex]       \U'23A2'left square bracket extension
           ⎤          \[bracketrighttp]      \U'23A4'right square bracket top
           ⎦          \[bracketrightbt]      \U'23A6'right square bracket bottom
           ⎥          \[bracketrightex]      \U'23A5'right square bracket extension
           ⎧    \(lt  \[bracelefttp] \U'23A7'left curly brace top
           ⎨    \(lk  \[braceleftmid]        \U'23A8'left curly brace middle
           ⎩    \(lb  \[braceleftbt] \U'23A9'left curly brace bottom
           ⎪          \[braceleftex] \U'23AA'left curly brace extension
           ⎫    \(rt  \[bracerighttp]        \U'23AB'right curly brace top
           ⎬    \(rk  \[bracerightmid]       \U'23AC'right curly brace middle
           ⎭    \(rb  \[bracerightbt]        \U'23AD'right curly brace bottom
           ⎪          \[bracerightex]        \U'23AA'right curly brace extension
           ⎛          \[parenlefttp] \U'239B'left parenthesis top
           ⎝          \[parenleftbt] \U'239D'left parenthesis bottom
           ⎜          \[parenleftex] \U'239C'left parenthesis extension
           ⎞          \[parenrighttp]        \U'239E'right parenthesis top
           ⎠          \[parenrightbt]        \U'23A0'right parenthesis bottom
           ⎟          \[parenrightex]        \U'239F'right parenthesis extension
           ←    \(<−  \[arrowleft]   \U'2190'arrow left
           →    \(−>  \[arrowright]  \U'2192'arrow right
           ↔    \(<>* \[arrowboth]   \U'2194'horizontal arrow in both directions
           ↓    \(da  \[arrowdown]   \U'2193'arrow down
           ↑    \(ua  \[arrowup]     \U'2191'arrow up
           ↕    \(va* \[arrowupdn]   \U'2195'vertical arrow in both directions
           ⇐    \(lA* \[arrowdblleft]        \U'21D0'double arrow left
           ⇒    \(rA* \[arrowdblright]       \U'21D2'double arrow right
           ⇔    \(hA* \[arrowdblboth]        \U'21D4'horizontal double arrow in both directions
           ⇓    \(dA* \[arrowdbldown]        \U'21D3'double arrow down
           ⇑    \(uA* \[arrowdblup]  \U'21D1'double arrow up
           ⇕    \(vA* \[uni21D5]     \U'21D5'vertical double arrow in both directions
           ⎯    \(an* \[arrowhorizex]        \U'23AF'horizontal arrow extension
           |    \(ba* \[bar]         \U'007C'bar
           │    \(br  \[SF110000]    \U'2502'box rule
           _    \(ul  \[underscore]  \U'005F'underscore
           ‾    \(rn  \[overline]    \U'203E'overline
           ⎽    \(ru                         baseline rule
           ¦    \(bb* \[brokenbar]   \U'00A6'broken bar
           /    \(sl  \[slash]       \U'002F'slash



                                       ‐ 103 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


           _O_u_t_p_u_t     _I_n_p_u_t          _P_o_s_t_S_c_r_i_p_t_U_n_i_c_o_d_e_N_o_t_e_s
           \    \(rs  \[backslash]   \U'005C'revers slash
           ○    \(ci  \[circle]      \U'25CB'circle
           •    \(bu  \[bullet]      \U'2022'bullet
           ‡    \(dd  \[daggerdbl]   \U'2021'double dagger
           †    \(dg  \[dagger]      \U'2020'dagger
           ◊    \(lz* \[lozenge]     \U'25CA'diamond
           □    \(sq  \[uni25A1]     \U'25A1'square
           ¶    \(ps* \[paragraph]   \U'00B6'end of paragraph marker
           §    \(sc  \[section]     \U'00A7'section sign
           ☜    \(lh  \[uni261C]     \U'261C'hand pointing left
           ☞    \(rh  \[a14]         \U'261E'hand pointing right
           @    \(at  \[at]          \U'0040'at
           #    \(sh* \[numbersign]  \U'0023'number sign
           ↵    \(CR* \[carriagereturn]      \U'21B5'carriage return
           ✓    \(OK* \[a19]         \U'2713'check mark
           ©    \(co  \[copyright]   \U'00A9'copyright sign
           ®    \(rg  \[registered]  \U'00AE'registered mark
           ™    \(tm  \[trademark]   \U'2122'trademark symbol
                \(bs                         AT&T Bell Labs logo
           $    \(Do* \[dollar]      \U'0024'dollar
           ¢    \(ct  \[cent]        \U'00A2'cent
           €    \(Eu* \[Euro]        \U'20AC'font‐specific Euro glyph
           ¥    \(Ye* \[yen]         \U'00A5'Japanese Yen
           £    \(Po* \[sterling]    \U'00A3'pound sterling
           ¤    \(Cs* \[currency]    \U'00A4'Scandinavian currency sign
           ƒ    \(Fn* \[florin]      \U'0192'Dutch currency sign
           °    \(de  \[degree]      \U'00B0'degree
           ‰    \(%0* \[perthousand] \U'2030'per thousand
           ′    \(fm  \[minute]      \U'2032'arc minute sign
           ″    \(sd* \[second]      \U'2033'arc second sign
           µ    \(mc* \[mu]          \U'00B5'micro sign
           ª    \(Of* \[ordfeminine] \U'00AA'feminine ordinal
           º    \(Om* \[ordmasculine]        \U'00BA'masculine ordinal
           ∧    \(AN* \[logicaland]  \U'2227'logical and
           ∨    \(OR* \[logicalor]   \U'2228'logical or
           ¬    \(no                         logical not
           ¬    \[tno]*              \[logicalnot]\U'00AC'text variant of ‘no’
           ∃    \(te  \[existential] \U'2203'there exists
           ∀    \(fa  \[universal]   \U'2200'for all
           ∋    \(st* \[suchthat]    \U'220B'such that
           ∴    \(3d* \[therefore]   \U'2234'therefor
           ∴    \(tf*                        (_a_l_i_a_s)
           |    \(or  \[bar]         \U'007C'bitwise OR
           ½    \(12  \[onehalf]     \U'00BD'1/2 symbol
           ¼    \(14  \[onequarter]  \U'00BC'1/4 symbol
           ¾    \(34  \[threequarters]       \U'00BE'3/4 symbol
           ⅛    \(18* \[oneeighth]   \U'215B'1/8 symbol
           ⅜    \(38* \[threeeighths]        \U'215C'3/8 symbol
           ⅝    \(58* \[fiveeighths] \U'215D'5/8 symbol
           ⅞    \(78* \[seveneighths]        \U'215E'7/8 symbol
           ¹    \(S1* \[onesuperior] \U'00B9'superscript 1
           ²    \(S2* \[twosuperior] \U'00B2'superscript 2



                                       ‐ 104 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


           _O_u_t_p_u_t     _I_n_p_u_t          _P_o_s_t_S_c_r_i_p_t_U_n_i_c_o_d_e_N_o_t_e_s
           ³    \(S3* \[threesuperior]       \U'00B3'superscript 2
           +    \(pl  \[plus]        \U'002B'plus
           −    \(mi  \[minus]       \U'2212'minus
           ∓    \(−+* \[uni2213]     \U'2213'minus‐plus
           ±    \(+−                         plus‐minus
           ±    \[t+−]*              \[plusminus]\U'00B1'text variant of plus‐minus
           ·    \(pc* \[periodcentered]      \U'00B7'period centered
           ⋅    \(md* \[dotmath]     \U'22C5'multiplication dot
           ×    \(mu                         multiply sign
           ×    \[tmu]*              \[multiply]\U'00D7'text variant of multiply sign
           ⊗    \(c** \[circlemultiply]      \U'2297'multiply sign in circle
           ⊕    \(c+* \[circleplus]  \U'2295'plus sign in circle
           ÷    \(di                         division sign
           ÷    \[tdi]*              \[divide]\U'00F7'text variant of division sign
                \(f/* \[fraction]    \U'2044'bar for fractions
           ∗    \(**  \[asteriskmath]        \U'2217'mathematical asterisk
           ≤    \(<=  \[lessequal]   \U'2264'less or equal
           ≥    \(>=  \[greaterequal]        \U'2265'greater or equal
           ≪    \(<<* \[uni226A]     \U'226A'much less
           ≫    \(>>* \[uni226B]     \U'226B'much greater
           =    \(eq  \[equal]       \U'003D'equal
           ≠    \(!=  \[notequal]    \U'2260'not equal
           ≡    \(==  \[equivalence] \U'2261'equivalent
           ≢    \(ne* \[uni2262]     \U'2262'not equivalent
           ≅    \(=~* \[congruent]   \U'2245'congruent
           ∼    \(ap  \[similar]     \U'223C'similar
           ≈    \(~~  \[approxequal] \U'2248'almost equal to
           ∝    \(pt  \[proportional]        \U'221D'proportional
           ∅    \(es  \[emptyset]    \U'2205'empty set
           ∈    \(mo  \[element]     \U'2208'element of
           ∉    \(nm* \[notelement]  \U'2209'not element of
           ⊂    \(sb  \[propersubset]        \U'2282'proper subset
           ⊄    \(nb* \[notsubset]   \U'2284'not subset
           ⊃    \(sp  \[propersuperset]      \U'2283'proper superset
           ⊅    \(nc* \[uni2285]     \U'2285'not superset
           ⊆    \(ib  \[reflexsubset]        \U'2286'subset or equal
           ⊇    \(ip  \[reflexsuperset]      \U'2287'superset or equal
           ∩    \(ca  \[intersection]        \U'2229'intersection
           ∪    \(cu  \[union]       \U'222A'union
           ∠    \(/_* \[angle]       \U'2220'angle
           ⊥    \(pp* \[perpendicular]       \U'22A5'perpendicular
           ∫    \(is  \[integral]    \U'222B'integral
           Σ    \(*S  \[summation]   \U'2211'summation
           ∑    \[sum]*                      (_a_l_i_a_s)
           Π    \(*P  \[product]     \U'220F'product
           ∐          \[coproduct]*  \U'2210'coproduct
           ∇    \(gr  \[gradient]    \U'2207'gradient
           √    \(sr  \[radical]     \U'221A'square root
           √          \[sqrt]*               (_a_l_i_a_s)
                      \[radicalex]           square root continuation
                      \[sqrtex]*             (_a_l_i_a_s)
           ⌈    \(lc  \[uni2308]     \U'2308'left ceiling



                                       ‐ 105 ‐





          _n_r_o_f_f/_t_r_o_f_f User’s Manual            Heirloom Documentation Tools
          February 10, 2016


           _O_u_t_p_u_t     _I_n_p_u_t          _P_o_s_t_S_c_r_i_p_t_U_n_i_c_o_d_e_N_o_t_e_s
           ⌉    \(rc  \[uni2309]     \U'2309'right ceiling
           ⌊    \(lf  \[uni230A]     \U'230A'left floor
           ⌋    \(rf  \[uni230B]     \U'230B'right floor
           ∞    \(if  \[infinity]    \U'221E'infinity
           ℵ    \(Ah* \[aleph]       \U'2135'aleph
           ℑ    \(Im* \[Ifraktur]    \U'2111'Gothic I, imaginary
           ℜ    \(Re* \[Rfraktur]    \U'211C'Gothic R, real
           ℘    \(wp* \[weierstrass] \U'2118'Weierstrass p
           ∂    \(pd  \[partialdiff] \U'2202'partial differentiation
           ℏ    \(−h* \[hbar]        \U'210F'Planck constant / 2pi (h‐bar)
           ϑ    \(+h* \[theta1]      \U'03D1'variant theta
           φ    \(+f* \[phi1]        \U'03C6'variant phi
           ϖ    \(+p* \[omega1]      \U'03D6'variant pi
           ϵ    \(+e* \[uni03F5]     \U'03F5'variant epsilon
           ♣    \(CL* \[club]        \U'2663'black club suit
           ♠    \(SP* \[spade]       \U'2660'black spade suit
           ♥    \(HE* \[heart]       \U'2665'black heart suit
           ♡          \[uni2661]     \U'2661'white heart suit
           ♦    \(DI* \[diamond]     \U'2666'black diamond suit
           ♢          \[uni2662]     \U'2662'white diamond suit



































                                       ‐ 106 ‐



